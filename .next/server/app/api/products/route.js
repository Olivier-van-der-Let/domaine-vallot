/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/products/route";
exports.ids = ["app/api/products/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_olivi_Domaine_Vallot_src_app_api_products_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/products/route.ts */ \"(rsc)/./src/app/api/products/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/products/route\",\n        pathname: \"/api/products\",\n        filename: \"route\",\n        bundlePath: \"app/api/products/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\olivi\\\\Domaine Vallot\\\\src\\\\app\\\\api\\\\products\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_olivi_Domaine_Vallot_src_app_api_products_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/products/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        // if we aren't wrapped by base-server handle here\n        if (!activeSpan && !(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGcHJvZHVjdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZwcm9kdWN0cyUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNvbGl2aSU1Q0RvbWFpbmUlMjBWYWxsb3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q29saXZpJTVDRG9tYWluZSUyMFZhbGxvdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUM4QjtBQUNoRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCx3QkFBd0IsTUFBdUM7QUFDL0Q7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxzREFBc0Q7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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTjtBQUNBLDRDQUE0Qyw2RkFBZTtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtDQUFrQywyRkFBbUI7QUFDckQ7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQixhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkVBQVk7QUFDMUI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBOztBQUVBIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvYXBwLXJvdXRlL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0IHsgZ2V0UmVxdWVzdE1ldGEgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXF1ZXN0LW1ldGFcIjtcbmltcG9ydCB7IGdldFRyYWNlciwgU3BhbktpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvdHJhY2VyXCI7XG5pbXBvcnQgeyBub3JtYWxpemVBcHBQYXRoIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL3JvdXRlci91dGlscy9hcHAtcGF0aHNcIjtcbmltcG9ydCB7IE5vZGVOZXh0UmVxdWVzdCwgTm9kZU5leHRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Jhc2UtaHR0cC9ub2RlXCI7XG5pbXBvcnQgeyBOZXh0UmVxdWVzdEFkYXB0ZXIsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvc3BlYy1leHRlbnNpb24vYWRhcHRlcnMvbmV4dC1yZXF1ZXN0XCI7XG5pbXBvcnQgeyBCYXNlU2VydmVyU3BhbiB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi90cmFjZS9jb25zdGFudHNcIjtcbmltcG9ydCB7IGdldFJldmFsaWRhdGVSZWFzb24gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9pbnN0cnVtZW50YXRpb24vdXRpbHNcIjtcbmltcG9ydCB7IHNlbmRSZXNwb25zZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3NlbmQtcmVzcG9uc2VcIjtcbmltcG9ydCB7IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycywgdG9Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3dlYi91dGlsc1wiO1xuaW1wb3J0IHsgZ2V0Q2FjaGVDb250cm9sSGVhZGVyIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL2NhY2hlLWNvbnRyb2xcIjtcbmltcG9ydCB7IElORklOSVRFX0NBQ0hFLCBORVhUX0NBQ0hFX1RBR1NfSEVBREVSIH0gZnJvbSBcIm5leHQvZGlzdC9saWIvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBOb0ZhbGxiYWNrRXJyb3IgfSBmcm9tIFwibmV4dC9kaXN0L3NoYXJlZC9saWIvbm8tZmFsbGJhY2stZXJyb3IuZXh0ZXJuYWxcIjtcbmltcG9ydCB7IENhY2hlZFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3Jlc3BvbnNlLWNhY2hlXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcb2xpdmlcXFxcRG9tYWluZSBWYWxsb3RcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxccHJvZHVjdHNcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3Byb2R1Y3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvcHJvZHVjdHNcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3Byb2R1Y3RzL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXG9saXZpXFxcXERvbWFpbmUgVmFsbG90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHByb2R1Y3RzXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgd29ya0FzeW5jU3RvcmFnZSwgd29ya1VuaXRBc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgd29ya0FzeW5jU3RvcmFnZSxcbiAgICAgICAgd29ya1VuaXRBc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIHBhdGNoRmV0Y2gsICB9O1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxLCByZXMsIGN0eCkge1xuICAgIHZhciBfbmV4dENvbmZpZ19leHBlcmltZW50YWw7XG4gICAgbGV0IHNyY1BhZ2UgPSBcIi9hcGkvcHJvZHVjdHMvcm91dGVcIjtcbiAgICAvLyB0dXJib3BhY2sgZG9lc24ndCBub3JtYWxpemUgYC9pbmRleGAgaW4gdGhlIHBhZ2UgbmFtZVxuICAgIC8vIHNvIHdlIG5lZWQgdG8gdG8gcHJvY2VzcyBkeW5hbWljIHJvdXRlcyBwcm9wZXJseVxuICAgIC8vIFRPRE86IGZpeCB0dXJib3BhY2sgcHJvdmlkaW5nIGRpZmZlcmluZyB2YWx1ZSBmcm9tIHdlYnBhY2tcbiAgICBpZiAocHJvY2Vzcy5lbnYuVFVSQk9QQUNLKSB7XG4gICAgICAgIHNyY1BhZ2UgPSBzcmNQYWdlLnJlcGxhY2UoL1xcL2luZGV4JC8sICcnKSB8fCAnLyc7XG4gICAgfSBlbHNlIGlmIChzcmNQYWdlID09PSAnL2luZGV4Jykge1xuICAgICAgICAvLyB3ZSBhbHdheXMgbm9ybWFsaXplIC9pbmRleCBzcGVjaWZpY2FsbHlcbiAgICAgICAgc3JjUGFnZSA9ICcvJztcbiAgICB9XG4gICAgY29uc3QgbXVsdGlab25lRHJhZnRNb2RlID0gcHJvY2Vzcy5lbnYuX19ORVhUX01VTFRJX1pPTkVfRFJBRlRfTU9ERTtcbiAgICBjb25zdCBwcmVwYXJlUmVzdWx0ID0gYXdhaXQgcm91dGVNb2R1bGUucHJlcGFyZShyZXEsIHJlcywge1xuICAgICAgICBzcmNQYWdlLFxuICAgICAgICBtdWx0aVpvbmVEcmFmdE1vZGVcbiAgICB9KTtcbiAgICBpZiAoIXByZXBhcmVSZXN1bHQpIHtcbiAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDA7XG4gICAgICAgIHJlcy5lbmQoJ0JhZCBSZXF1ZXN0Jyk7XG4gICAgICAgIGN0eC53YWl0VW50aWwgPT0gbnVsbCA/IHZvaWQgMCA6IGN0eC53YWl0VW50aWwuY2FsbChjdHgsIFByb21pc2UucmVzb2x2ZSgpKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHsgYnVpbGRJZCwgcGFyYW1zLCBuZXh0Q29uZmlnLCBpc0RyYWZ0TW9kZSwgcHJlcmVuZGVyTWFuaWZlc3QsIHJvdXRlclNlcnZlckNvbnRleHQsIGlzT25EZW1hbmRSZXZhbGlkYXRlLCByZXZhbGlkYXRlT25seUdlbmVyYXRlZCwgcmVzb2x2ZWRQYXRobmFtZSB9ID0gcHJlcGFyZVJlc3VsdDtcbiAgICBjb25zdCBub3JtYWxpemVkU3JjUGFnZSA9IG5vcm1hbGl6ZUFwcFBhdGgoc3JjUGFnZSk7XG4gICAgbGV0IGlzSXNyID0gQm9vbGVhbihwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXSB8fCBwcmVyZW5kZXJNYW5pZmVzdC5yb3V0ZXNbcmVzb2x2ZWRQYXRobmFtZV0pO1xuICAgIGlmIChpc0lzciAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY29uc3QgaXNQcmVyZW5kZXJlZCA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICAgICAgY29uc3QgcHJlcmVuZGVySW5mbyA9IHByZXJlbmRlck1hbmlmZXN0LmR5bmFtaWNSb3V0ZXNbbm9ybWFsaXplZFNyY1BhZ2VdO1xuICAgICAgICBpZiAocHJlcmVuZGVySW5mbykge1xuICAgICAgICAgICAgaWYgKHByZXJlbmRlckluZm8uZmFsbGJhY2sgPT09IGZhbHNlICYmICFpc1ByZXJlbmRlcmVkKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vRmFsbGJhY2tFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBjYWNoZUtleSA9IG51bGw7XG4gICAgaWYgKGlzSXNyICYmICFyb3V0ZU1vZHVsZS5pc0RldiAmJiAhaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgY2FjaGVLZXkgPSByZXNvbHZlZFBhdGhuYW1lO1xuICAgICAgICAvLyBlbnN1cmUgL2luZGV4IGFuZCAvIGlzIG5vcm1hbGl6ZWQgdG8gb25lIGtleVxuICAgICAgICBjYWNoZUtleSA9IGNhY2hlS2V5ID09PSAnL2luZGV4JyA/ICcvJyA6IGNhY2hlS2V5O1xuICAgIH1cbiAgICBjb25zdCBzdXBwb3J0c0R5bmFtaWNSZXNwb25zZSA9IC8vIElmIHdlJ3JlIGluIGRldmVsb3BtZW50LCB3ZSBhbHdheXMgc3VwcG9ydCBkeW5hbWljIEhUTUxcbiAgICByb3V0ZU1vZHVsZS5pc0RldiA9PT0gdHJ1ZSB8fCAvLyBJZiB0aGlzIGlzIG5vdCBTU0cgb3IgZG9lcyBub3QgaGF2ZSBzdGF0aWMgcGF0aHMsIHRoZW4gaXQgc3VwcG9ydHNcbiAgICAvLyBkeW5hbWljIEhUTUwuXG4gICAgIWlzSXNyO1xuICAgIC8vIFRoaXMgaXMgYSByZXZhbGlkYXRpb24gcmVxdWVzdCBpZiB0aGUgcmVxdWVzdCBpcyBmb3IgYSBzdGF0aWNcbiAgICAvLyBwYWdlIGFuZCBpdCBpcyBub3QgYmVpbmcgcmVzdW1lZCBmcm9tIGEgcG9zdHBvbmVkIHJlbmRlciBhbmRcbiAgICAvLyBpdCBpcyBub3QgYSBkeW5hbWljIFJTQyByZXF1ZXN0IHRoZW4gaXQgaXMgYSByZXZhbGlkYXRpb25cbiAgICAvLyByZXF1ZXN0LlxuICAgIGNvbnN0IGlzUmV2YWxpZGF0ZSA9IGlzSXNyICYmICFzdXBwb3J0c0R5bmFtaWNSZXNwb25zZTtcbiAgICBjb25zdCBtZXRob2QgPSByZXEubWV0aG9kIHx8ICdHRVQnO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcigpO1xuICAgIGNvbnN0IGFjdGl2ZVNwYW4gPSB0cmFjZXIuZ2V0QWN0aXZlU2NvcGVTcGFuKCk7XG4gICAgY29uc3QgY29udGV4dCA9IHtcbiAgICAgICAgcGFyYW1zLFxuICAgICAgICBwcmVyZW5kZXJNYW5pZmVzdCxcbiAgICAgICAgcmVuZGVyT3B0czoge1xuICAgICAgICAgICAgZXhwZXJpbWVudGFsOiB7XG4gICAgICAgICAgICAgICAgY2FjaGVDb21wb25lbnRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmNhY2hlQ29tcG9uZW50cyksXG4gICAgICAgICAgICAgICAgYXV0aEludGVycnVwdHM6IEJvb2xlYW4obmV4dENvbmZpZy5leHBlcmltZW50YWwuYXV0aEludGVycnVwdHMpXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UsXG4gICAgICAgICAgICBpbmNyZW1lbnRhbENhY2hlOiBnZXRSZXF1ZXN0TWV0YShyZXEsICdpbmNyZW1lbnRhbENhY2hlJyksXG4gICAgICAgICAgICBjYWNoZUxpZmVQcm9maWxlczogKF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbCA9IG5leHRDb25maWcuZXhwZXJpbWVudGFsKSA9PSBudWxsID8gdm9pZCAwIDogX25leHRDb25maWdfZXhwZXJpbWVudGFsLmNhY2hlTGlmZSxcbiAgICAgICAgICAgIGlzUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbCxcbiAgICAgICAgICAgIG9uQ2xvc2U6IChjYik9PntcbiAgICAgICAgICAgICAgICByZXMub24oJ2Nsb3NlJywgY2IpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uQWZ0ZXJUYXNrRXJyb3I6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG9uSW5zdHJ1bWVudGF0aW9uUmVxdWVzdEVycm9yOiAoZXJyb3IsIF9yZXF1ZXN0LCBlcnJvckNvbnRleHQpPT5yb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVycm9yLCBlcnJvckNvbnRleHQsIHJvdXRlclNlcnZlckNvbnRleHQpXG4gICAgICAgIH0sXG4gICAgICAgIHNoYXJlZENvbnRleHQ6IHtcbiAgICAgICAgICAgIGJ1aWxkSWRcbiAgICAgICAgfVxuICAgIH07XG4gICAgY29uc3Qgbm9kZU5leHRSZXEgPSBuZXcgTm9kZU5leHRSZXF1ZXN0KHJlcSk7XG4gICAgY29uc3Qgbm9kZU5leHRSZXMgPSBuZXcgTm9kZU5leHRSZXNwb25zZShyZXMpO1xuICAgIGNvbnN0IG5leHRSZXEgPSBOZXh0UmVxdWVzdEFkYXB0ZXIuZnJvbU5vZGVOZXh0UmVxdWVzdChub2RlTmV4dFJlcSwgc2lnbmFsRnJvbU5vZGVSZXNwb25zZShyZXMpKTtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCBpbnZva2VSb3V0ZU1vZHVsZSA9IGFzeW5jIChzcGFuKT0+e1xuICAgICAgICAgICAgcmV0dXJuIHJvdXRlTW9kdWxlLmhhbmRsZShuZXh0UmVxLCBjb250ZXh0KS5maW5hbGx5KCgpPT57XG4gICAgICAgICAgICAgICAgaWYgKCFzcGFuKSByZXR1cm47XG4gICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgJ2h0dHAuc3RhdHVzX2NvZGUnOiByZXMuc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgJ25leHQucnNjJzogZmFsc2VcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByb290U3BhbkF0dHJpYnV0ZXMgPSB0cmFjZXIuZ2V0Um9vdFNwYW5BdHRyaWJ1dGVzKCk7XG4gICAgICAgICAgICAgICAgLy8gV2Ugd2VyZSB1bmFibGUgdG8gZ2V0IGF0dHJpYnV0ZXMsIHByb2JhYmx5IE9URUwgaXMgbm90IGVuYWJsZWRcbiAgICAgICAgICAgICAgICBpZiAoIXJvb3RTcGFuQXR0cmlidXRlcykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpICE9PSBCYXNlU2VydmVyU3Bhbi5oYW5kbGVSZXF1ZXN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgVW5leHBlY3RlZCByb290IHNwYW4gdHlwZSAnJHtyb290U3BhbkF0dHJpYnV0ZXMuZ2V0KCduZXh0LnNwYW5fdHlwZScpfScuIFBsZWFzZSByZXBvcnQgdGhpcyBOZXh0LmpzIGlzc3VlIGh0dHBzOi8vZ2l0aHViLmNvbS92ZXJjZWwvbmV4dC5qc2ApO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJvdXRlID0gcm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5yb3V0ZScpO1xuICAgICAgICAgICAgICAgIGlmIChyb3V0ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBuYW1lID0gYCR7bWV0aG9kfSAke3JvdXRlfWA7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5yb3V0ZSc6IHJvdXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICduZXh0LnNwYW5fbmFtZSc6IG5hbWVcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHNwYW4udXBkYXRlTmFtZShuYW1lKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUoYCR7bWV0aG9kfSAke3JlcS51cmx9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZVJlc3BvbnNlID0gYXN5bmMgKGN1cnJlbnRTcGFuKT0+e1xuICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VHZW5lcmF0b3IgPSBhc3luYyAoeyBwcmV2aW91c0NhY2hlRW50cnkgfSk9PntcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNPbkRlbWFuZFJldmFsaWRhdGUgJiYgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQgJiYgIXByZXZpb3VzQ2FjaGVFbnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnN0YXR1c0NvZGUgPSA0MDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBvbi1kZW1hbmQgcmV2YWxpZGF0ZSBhbHdheXMgc2V0cyB0aGlzIGhlYWRlclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCAnUkVWQUxJREFURUQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5lbmQoJ1RoaXMgcGFnZSBjb3VsZCBub3QgYmUgZm91bmQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgaW52b2tlUm91dGVNb2R1bGUoY3VycmVudFNwYW4pO1xuICAgICAgICAgICAgICAgICAgICByZXEuZmV0Y2hNZXRyaWNzID0gY29udGV4dC5yZW5kZXJPcHRzLmZldGNoTWV0cmljcztcbiAgICAgICAgICAgICAgICAgICAgbGV0IHBlbmRpbmdXYWl0VW50aWwgPSBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbDtcbiAgICAgICAgICAgICAgICAgICAgLy8gQXR0ZW1wdCB1c2luZyBwcm92aWRlZCB3YWl0VW50aWwgaWYgYXZhaWxhYmxlXG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGl0J3Mgbm90IHdlIGZhbGxiYWNrIHRvIHNlbmRSZXNwb25zZSdzIGhhbmRsaW5nXG4gICAgICAgICAgICAgICAgICAgIGlmIChwZW5kaW5nV2FpdFVudGlsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3R4LndhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eC53YWl0VW50aWwocGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGVuZGluZ1dhaXRVbnRpbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZVRhZ3MgPSBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkVGFncztcbiAgICAgICAgICAgICAgICAgICAgLy8gSWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljIHJlc3BvbnNlLCB3ZSBjYW4gY2FjaGUgaXQgc28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAvLyBhcyBpdCdzIG5vdCBlZGdlLlxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNJc3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGJsb2IgPSBhd2FpdCByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3B5IHRoZSBoZWFkZXJzIGZyb20gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMocmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FjaGVUYWdzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1tORVhUX0NBQ0hFX1RBR1NfSEVBREVSXSA9IGNhY2hlVGFncztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaGVhZGVyc1snY29udGVudC10eXBlJ10gJiYgYmxvYi50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1snY29udGVudC10eXBlJ10gPSBibG9iLnR5cGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXZhbGlkYXRlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlID09PSAndW5kZWZpbmVkJyB8fCBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA+PSBJTkZJTklURV9DQUNIRSA/IGZhbHNlIDogY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGU7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBleHBpcmUgPSB0eXBlb2YgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZEV4cGlyZSA+PSBJTkZJTklURV9DQUNIRSA/IHVuZGVmaW5lZCA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmU7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBDcmVhdGUgdGhlIGNhY2hlIGVudHJ5IGZvciB0aGUgcmVzcG9uc2UuXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBjYWNoZUVudHJ5ID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtpbmQ6IENhY2hlZFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBCdWZmZXIuZnJvbShhd2FpdCBibG9iLmFycmF5QnVmZmVyKCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWNoZUNvbnRyb2w6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhwaXJlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjYWNoZUVudHJ5O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc2VuZCByZXNwb25zZSB3aXRob3V0IGNhY2hpbmcgaWYgbm90IElTUlxuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgcmVzcG9uc2UsIGNvbnRleHQucmVuZGVyT3B0cy5wZW5kaW5nV2FpdFVudGlsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoaXMgaXMgYSBiYWNrZ3JvdW5kIHJldmFsaWRhdGUgd2UgbmVlZCB0byByZXBvcnRcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHJlcXVlc3QgZXJyb3IgaGVyZSBhcyBpdCB3b24ndCBiZSBidWJibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c0NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXZpb3VzQ2FjaGVFbnRyeS5pc1N0YWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IHNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHJvdXRlclNlcnZlckNvbnRleHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IGF3YWl0IHJvdXRlTW9kdWxlLmhhbmRsZVJlc3BvbnNlKHtcbiAgICAgICAgICAgICAgICByZXEsXG4gICAgICAgICAgICAgICAgbmV4dENvbmZpZyxcbiAgICAgICAgICAgICAgICBjYWNoZUtleSxcbiAgICAgICAgICAgICAgICByb3V0ZUtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgICAgICAgICAgaXNGYWxsYmFjazogZmFsc2UsXG4gICAgICAgICAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgICAgICAgICAgaXNSb3V0ZVBQUkVuYWJsZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkLFxuICAgICAgICAgICAgICAgIHJlc3BvbnNlR2VuZXJhdG9yLFxuICAgICAgICAgICAgICAgIHdhaXRVbnRpbDogY3R4LndhaXRVbnRpbFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyB3ZSBkb24ndCBjcmVhdGUgYSBjYWNoZUVudHJ5IGZvciBJU1JcbiAgICAgICAgICAgIGlmICghaXNJc3IpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgoY2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlID0gY2FjaGVFbnRyeS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jYWNoZUVudHJ5X3ZhbHVlLmtpbmQpICE9PSBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFKSB7XG4gICAgICAgICAgICAgICAgdmFyIF9jYWNoZUVudHJ5X3ZhbHVlMTtcbiAgICAgICAgICAgICAgICB0aHJvdyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3IEVycm9yKGBJbnZhcmlhbnQ6IGFwcC1yb3V0ZSByZWNlaXZlZCBpbnZhbGlkIGNhY2hlIGVudHJ5ICR7Y2FjaGVFbnRyeSA9PSBudWxsID8gdm9pZCAwIDogKF9jYWNoZUVudHJ5X3ZhbHVlMSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZTEua2luZH1gKSwgXCJfX05FWFRfRVJST1JfQ09ERVwiLCB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBcIkU3MDFcIixcbiAgICAgICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpKSB7XG4gICAgICAgICAgICAgICAgcmVzLnNldEhlYWRlcigneC1uZXh0anMtY2FjaGUnLCBpc09uRGVtYW5kUmV2YWxpZGF0ZSA/ICdSRVZBTElEQVRFRCcgOiBjYWNoZUVudHJ5LmlzTWlzcyA/ICdNSVNTJyA6IGNhY2hlRW50cnkuaXNTdGFsZSA/ICdTVEFMRScgOiAnSElUJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBEcmFmdCBtb2RlIHNob3VsZCBuZXZlciBiZSBjYWNoZWRcbiAgICAgICAgICAgIGlmIChpc0RyYWZ0TW9kZSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnLCAncHJpdmF0ZSwgbm8tY2FjaGUsIG5vLXN0b3JlLCBtYXgtYWdlPTAsIG11c3QtcmV2YWxpZGF0ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGZyb21Ob2RlT3V0Z29pbmdIdHRwSGVhZGVycyhjYWNoZUVudHJ5LnZhbHVlLmhlYWRlcnMpO1xuICAgICAgICAgICAgaWYgKCEoZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSAmJiBpc0lzcikpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLmRlbGV0ZShORVhUX0NBQ0hFX1RBR1NfSEVBREVSKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIGNhY2hlIGNvbnRyb2wgaXMgYWxyZWFkeSBzZXQgb24gdGhlIHJlc3BvbnNlIHdlIGRvbid0XG4gICAgICAgICAgICAvLyBvdmVycmlkZSBpdCB0byBhbGxvdyB1c2VycyB0byBjdXN0b21pemUgaXQgdmlhIG5leHQuY29uZmlnXG4gICAgICAgICAgICBpZiAoY2FjaGVFbnRyeS5jYWNoZUNvbnRyb2wgJiYgIXJlcy5nZXRIZWFkZXIoJ0NhY2hlLUNvbnRyb2wnKSAmJiAhaGVhZGVycy5nZXQoJ0NhY2hlLUNvbnRyb2wnKSkge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMuc2V0KCdDYWNoZS1Db250cm9sJywgZ2V0Q2FjaGVDb250cm9sSGVhZGVyKGNhY2hlRW50cnkuY2FjaGVDb250cm9sKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UoY2FjaGVFbnRyeS52YWx1ZS5ib2R5LCB7XG4gICAgICAgICAgICAgICAgaGVhZGVycyxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IGNhY2hlRW50cnkudmFsdWUuc3RhdHVzIHx8IDIwMFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFRPRE86IGFjdGl2ZVNwYW4gY29kZSBwYXRoIGlzIGZvciB3aGVuIHdyYXBwZWQgYnlcbiAgICAgICAgLy8gbmV4dC1zZXJ2ZXIgY2FuIGJlIHJlbW92ZWQgd2hlbiB0aGlzIGlzIG5vIGxvbmdlciB1c2VkXG4gICAgICAgIGlmIChhY3RpdmVTcGFuKSB7XG4gICAgICAgICAgICBhd2FpdCBoYW5kbGVSZXNwb25zZShhY3RpdmVTcGFuKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGF3YWl0IHRyYWNlci53aXRoUHJvcGFnYXRlZENvbnRleHQocmVxLmhlYWRlcnMsICgpPT50cmFjZXIudHJhY2UoQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCwge1xuICAgICAgICAgICAgICAgICAgICBzcGFuTmFtZTogYCR7bWV0aG9kfSAke3JlcS51cmx9YCxcbiAgICAgICAgICAgICAgICAgICAga2luZDogU3BhbktpbmQuU0VSVkVSLFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC5tZXRob2QnOiBtZXRob2QsXG4gICAgICAgICAgICAgICAgICAgICAgICAnaHR0cC50YXJnZXQnOiByZXEudXJsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCBoYW5kbGVSZXNwb25zZSkpO1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIC8vIGlmIHdlIGFyZW4ndCB3cmFwcGVkIGJ5IGJhc2Utc2VydmVyIGhhbmRsZSBoZXJlXG4gICAgICAgIGlmICghYWN0aXZlU3BhbiAmJiAhKGVyciBpbnN0YW5jZW9mIE5vRmFsbGJhY2tFcnJvcikpIHtcbiAgICAgICAgICAgIGF3YWl0IHJvdXRlTW9kdWxlLm9uUmVxdWVzdEVycm9yKHJlcSwgZXJyLCB7XG4gICAgICAgICAgICAgICAgcm91dGVyS2luZDogJ0FwcCBSb3V0ZXInLFxuICAgICAgICAgICAgICAgIHJvdXRlUGF0aDogbm9ybWFsaXplZFNyY1BhZ2UsXG4gICAgICAgICAgICAgICAgcm91dGVUeXBlOiAncm91dGUnLFxuICAgICAgICAgICAgICAgIHJldmFsaWRhdGVSZWFzb246IGdldFJldmFsaWRhdGVSZWFzb24oe1xuICAgICAgICAgICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgIGlzT25EZW1hbmRSZXZhbGlkYXRlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIC8vIHJldGhyb3cgc28gdGhhdCB3ZSBjYW4gaGFuZGxlIHNlcnZpbmcgZXJyb3IgcGFnZVxuICAgICAgICAvLyBJZiB0aGlzIGlzIGR1cmluZyBzdGF0aWMgZ2VuZXJhdGlvbiwgdGhyb3cgdGhlIGVycm9yIGFnYWluLlxuICAgICAgICBpZiAoaXNJc3IpIHRocm93IGVycjtcbiAgICAgICAgLy8gT3RoZXJ3aXNlLCBzZW5kIGEgNTAwIHJlc3BvbnNlLlxuICAgICAgICBhd2FpdCBzZW5kUmVzcG9uc2Uobm9kZU5leHRSZXEsIG5vZGVOZXh0UmVzLCBuZXcgUmVzcG9uc2UobnVsbCwge1xuICAgICAgICAgICAgc3RhdHVzOiA1MDBcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/products/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/products/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/supabase/server */ \"(rsc)/./src/lib/supabase/server.ts\");\n/* harmony import */ var _lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/validators/schemas */ \"(rsc)/./src/lib/validators/schemas.ts\");\n\n\n\n// Helper function to fix Supabase image URLs\nfunction fixSupabaseImageUrl(url) {\n    if (url.includes('supabase.co/storage/v1/object/public/wines/')) {\n        // Fix missing /Public/ in the URL path\n        return url.replace('/object/public/wines/', '/object/public/Public/wines/');\n    }\n    return url;\n}\n// Helper function to generate slug from product name\nfunction generateSlug(name) {\n    return name.toLowerCase().replace(/[àáâãäå]/g, 'a').replace(/[èéêë]/g, 'e').replace(/[ìíîï]/g, 'i').replace(/[òóôõö]/g, 'o').replace(/[ùúûü]/g, 'u').replace(/[ÿý]/g, 'y').replace(/[ñ]/g, 'n').replace(/[ç]/g, 'c').replace(/[«»\"']/g, '') // Remove quotes and guillemets\n    .replace(/[^\\w\\s-]/g, '') // Remove special characters\n    .replace(/[\\s_-]+/g, '-') // Replace spaces and underscores with hyphens\n    .replace(/^-+|-+$/g, '') // Remove leading/trailing hyphens\n    ;\n}\n// Helper function to determine category from varietal\nfunction getCategoryFromVarietal(varietal) {\n    if (!varietal) return 'red_wine';\n    const lowerVarietal = varietal.toLowerCase();\n    if (lowerVarietal.includes('blanc') || lowerVarietal.includes('viognier') || lowerVarietal.includes('clairette') || lowerVarietal.includes('bourboulenc')) {\n        return 'white_wine';\n    }\n    if (lowerVarietal.includes('rosé') || lowerVarietal.includes('rose') || lowerVarietal.includes('cinsault')) {\n        return 'rose_wine';\n    }\n    return 'red_wine';\n}\n// Helper function to get wine-specific fallback images\nfunction getWineFallbackImage(wineName) {\n    const name = wineName.toLowerCase();\n    if (name.includes('magnaneraie')) {\n        return '/images/wine-magnaneraie.svg';\n    } else if (name.includes('rosé') || name.includes('rose')) {\n        return '/images/wine-bottle-rose.svg';\n    } else if (name.includes('blanc') || name.includes('white')) {\n        return '/images/wine-bottle-white.svg';\n    } else if (name.includes('rouge') || name.includes('red')) {\n        return '/images/wine-bottle-red.svg';\n    } else {\n        return '/images/default-wine.svg';\n    }\n}\nasync function GET(request) {\n    try {\n        const { searchParams } = new URL(request.url);\n        // Parse and validate search parameters\n        const searchData = {\n            query: searchParams.get('query') || undefined,\n            category: searchParams.get('category') || undefined,\n            minPrice: searchParams.get('minPrice') ? Number(searchParams.get('minPrice')) : undefined,\n            maxPrice: searchParams.get('maxPrice') ? Number(searchParams.get('maxPrice')) : undefined,\n            vintage: searchParams.get('vintage') ? Number(searchParams.get('vintage')) : undefined,\n            region: searchParams.get('region') || undefined,\n            inStock: searchParams.get('inStock') === 'true',\n            isOrganic: searchParams.get('isOrganic') === 'true',\n            sortBy: searchParams.get('sortBy') || 'created_at',\n            sortOrder: searchParams.get('sortOrder') || 'desc',\n            limit: searchParams.get('limit') ? Number(searchParams.get('limit')) : 20,\n            offset: searchParams.get('offset') ? Number(searchParams.get('offset')) : 0\n        };\n        // Validate search parameters\n        const validation = (0,_lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__.validateSchema)(_lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__.productSearchSchema, searchData);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid search parameters',\n                details: validation.errors\n            }, {\n                status: 400\n            });\n        }\n        // Get products with filters\n        const options = {\n            limit: validation.data.limit,\n            offset: validation.data.offset,\n            category: validation.data.category,\n            inStock: validation.data.inStock\n        };\n        let products;\n        try {\n            products = await (0,_lib_supabase_server__WEBPACK_IMPORTED_MODULE_1__.getProducts)(options);\n        } catch (error) {\n            console.log('Supabase connection failed, using mock data for development');\n            // Fallback mock data for development\n            products = [\n                {\n                    id: '1',\n                    name: 'Vallot Rouge 2020',\n                    slug: 'vallot-rouge-2020',\n                    description: 'A premium red wine with notes of dark fruit and oak.',\n                    price: 2500,\n                    vintage: 2020,\n                    category: 'red_wine',\n                    grape_variety: 'Cabernet Sauvignon',\n                    producer: 'Domaine Vallot',\n                    region: 'Bordeaux',\n                    stock_quantity: 50,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-red.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '2',\n                    name: 'Vallot Blanc 2021',\n                    slug: 'vallot-blanc-2021',\n                    description: 'A crisp white wine with citrus and mineral notes.',\n                    price: 2200,\n                    vintage: 2021,\n                    category: 'white_wine',\n                    grape_variety: 'Sauvignon Blanc',\n                    producer: 'Domaine Vallot',\n                    region: 'Loire Valley',\n                    stock_quantity: 30,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-white.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '3',\n                    name: 'Vallot Rosé 2022',\n                    slug: 'vallot-rose-2022',\n                    description: 'A delicate rosé with strawberry and floral aromas.',\n                    price: 1800,\n                    vintage: 2022,\n                    category: 'rose_wine',\n                    grape_variety: 'Grenache',\n                    producer: 'Domaine Vallot',\n                    region: 'Provence',\n                    stock_quantity: 25,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-rose.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '4',\n                    name: 'La Magnaneraje',\n                    slug: 'la-magnaneraje-2023',\n                    description: 'Côtes du Rhône - A classic red wine with earthy undertones.',\n                    price: 0,\n                    vintage: 2023,\n                    category: 'red_wine',\n                    grape_variety: 'Syrah',\n                    producer: 'Domaine Vallot',\n                    region: 'Côtes du Rhône',\n                    stock_quantity: 15,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-red.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '5',\n                    name: 'Le Coriançon rosé',\n                    slug: 'le-coriancon-rose-2024',\n                    description: 'Côtes du Rhône - Fresh rosé with vibrant fruit flavors.',\n                    price: 0,\n                    vintage: 2024,\n                    category: 'rose_wine',\n                    grape_variety: 'Grenache',\n                    producer: 'Domaine Vallot',\n                    region: 'Côtes du Rhône',\n                    stock_quantity: 20,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-rose.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '6',\n                    name: 'Le Coriançon rouge',\n                    slug: 'le-coriancon-rouge-2023',\n                    description: 'Côtes du Rhône - Bold red wine with complex tannins.',\n                    price: 0,\n                    vintage: 2023,\n                    category: 'red_wine',\n                    grape_variety: 'Mourvèdre',\n                    producer: 'Domaine Vallot',\n                    region: 'Côtes du Rhône',\n                    stock_quantity: 12,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-red.svg',\n                    created_at: new Date().toISOString()\n                },\n                {\n                    id: '7',\n                    name: 'Le Haut des Côtes blanc',\n                    slug: 'le-haut-des-cotes-blanc',\n                    description: 'Premium white wine with mineral complexity.',\n                    price: 0,\n                    vintage: 2023,\n                    category: 'white_wine',\n                    grape_variety: 'Viognier',\n                    producer: 'Domaine Vallot',\n                    region: 'Côtes du Rhône',\n                    stock_quantity: 8,\n                    is_organic: true,\n                    status: 'active',\n                    image_url: '/images/wine-bottle-white.svg',\n                    created_at: new Date().toISOString()\n                }\n            ];\n        }\n        // Apply additional filters that aren't handled in the database query\n        let filteredProducts = products;\n        if (validation.data.query) {\n            const query = validation.data.query.toLowerCase();\n            filteredProducts = filteredProducts.filter((product)=>product.name.toLowerCase().includes(query) || product.description.toLowerCase().includes(query) || product.producer?.toLowerCase().includes(query) || product.region?.toLowerCase().includes(query) || product.grape_variety?.toLowerCase().includes(query));\n        }\n        if (validation.data.minPrice !== undefined) {\n            filteredProducts = filteredProducts.filter((product)=>(product.price_eur || 0) >= validation.data.minPrice);\n        }\n        if (validation.data.maxPrice !== undefined) {\n            filteredProducts = filteredProducts.filter((product)=>(product.price_eur || 0) <= validation.data.maxPrice);\n        }\n        if (validation.data.vintage !== undefined) {\n            filteredProducts = filteredProducts.filter((product)=>product.vintage === validation.data.vintage);\n        }\n        if (validation.data.region) {\n            filteredProducts = filteredProducts.filter((product)=>product.region?.toLowerCase().includes(validation.data.region.toLowerCase()));\n        }\n        if (validation.data.isOrganic) {\n            filteredProducts = filteredProducts.filter((product)=>product.is_organic === true);\n        }\n        // Apply sorting\n        const sortBy = validation.data.sortBy;\n        const sortOrder = validation.data.sortOrder;\n        filteredProducts.sort((a, b)=>{\n            let aValue;\n            let bValue;\n            switch(sortBy){\n                case 'name':\n                    aValue = a.name.toLowerCase();\n                    bValue = b.name.toLowerCase();\n                    break;\n                case 'price':\n                    aValue = a.price_eur || 0;\n                    bValue = b.price_eur || 0;\n                    break;\n                case 'vintage':\n                    aValue = a.vintage || 0;\n                    bValue = b.vintage || 0;\n                    break;\n                case 'created_at':\n                    aValue = new Date(a.created_at).getTime();\n                    bValue = new Date(b.created_at).getTime();\n                    break;\n                case 'popularity':\n                    // For now, use stock quantity as a proxy for popularity\n                    aValue = a.stock_quantity;\n                    bValue = b.stock_quantity;\n                    break;\n                default:\n                    aValue = a.created_at;\n                    bValue = b.created_at;\n            }\n            if (sortOrder === 'asc') {\n                return aValue > bValue ? 1 : -1;\n            } else {\n                return aValue < bValue ? 1 : -1;\n            }\n        });\n        // Convert and map real Supabase data to component-expected format\n        const productsWithFormattedPrice = filteredProducts.map((product)=>({\n                ...product,\n                // Map key fields to expected names\n                description: product.description_en || product.description_fr || product.description || 'Fine wine from Domaine Vallot',\n                grape_variety: product.varietal || product.grape_variety,\n                producer: 'Domaine Vallot',\n                category: getCategoryFromVarietal(product.varietal),\n                alcohol_content: product.alcohol_content || 13.5,\n                // Price handling\n                price_display: product.price_eur ? product.price_eur.toFixed(2) : '0.00',\n                price: product.price_eur ? Math.round(product.price_eur * 100) : 0,\n                // Stock status\n                in_stock: product.stock_quantity > 0,\n                // Image handling with proper fallback\n                image_url: product.product_images?.[0]?.url ? fixSupabaseImageUrl(product.product_images[0].url) : getWineFallbackImage(product.name),\n                // Ensure proper slug generation\n                slug: product.slug_en || product.slug || generateSlug(`${product.name}-${product.vintage}`),\n                // Additional fields for UI\n                is_organic: product.organic_certified || false,\n                is_biodynamic: product.biodynamic_certified || false,\n                is_featured: product.featured || false\n            }));\n        // Prepare response with pagination info\n        const total = productsWithFormattedPrice.length;\n        const paginatedProducts = productsWithFormattedPrice.slice(validation.data.offset, validation.data.offset + validation.data.limit);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            data: paginatedProducts,\n            pagination: {\n                total,\n                limit: validation.data.limit,\n                offset: validation.data.offset,\n                hasMore: validation.data.offset + validation.data.limit < total\n            },\n            filters: {\n                categories: [\n                    'red_wine',\n                    'white_wine',\n                    'rose_wine',\n                    'sparkling_wine',\n                    'dessert_wine',\n                    'fortified_wine'\n                ],\n                priceRange: {\n                    min: Math.min(...products.map((p)=>p.price_eur || 0).filter((p)=>p > 0)),\n                    max: Math.max(...products.map((p)=>p.price_eur || 0))\n                },\n                vintages: [\n                    ...new Set(products.map((p)=>p.vintage).filter(Boolean))\n                ].sort((a, b)=>b - a),\n                regions: [\n                    ...new Set(products.map((p)=>p.region).filter(Boolean))\n                ].sort()\n            }\n        });\n    } catch (error) {\n        console.error('Error fetching products:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'Failed to fetch products'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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R0MsWUFBWTtvQkFDVkMsS0FBS25CLEtBQUttQixHQUFHLElBQUluRCxTQUFTMEIsR0FBRyxDQUFDMEIsQ0FBQUEsSUFBS0EsRUFBRWxDLFNBQVMsSUFBSSxHQUFHRixNQUFNLENBQUNvQyxDQUFBQSxJQUFLQSxJQUFJO29CQUNyRUMsS0FBS3JCLEtBQUtxQixHQUFHLElBQUlyRCxTQUFTMEIsR0FBRyxDQUFDMEIsQ0FBQUEsSUFBS0EsRUFBRWxDLFNBQVMsSUFBSTtnQkFDcEQ7Z0JBQ0FvQyxVQUFVO3VCQUFJLElBQUlDLElBQUl2RCxTQUFTMEIsR0FBRyxDQUFDMEIsQ0FBQUEsSUFBS0EsRUFBRXJFLE9BQU8sRUFBRWlDLE1BQU0sQ0FBQ3dDO2lCQUFVLENBQUNyQyxJQUFJLENBQUMsQ0FBQ0MsR0FBR0MsSUFBTUEsSUFBS0Q7Z0JBQ3pGcUMsU0FBUzt1QkFBSSxJQUFJRixJQUFJdkQsU0FBUzBCLEdBQUcsQ0FBQzBCLENBQUFBLElBQUtBLEVBQUVwRSxNQUFNLEVBQUVnQyxNQUFNLENBQUN3QztpQkFBVSxDQUFDckMsSUFBSTtZQUN6RTtRQUNGO0lBRUYsRUFBRSxPQUFPekIsT0FBTztRQUNkTyxRQUFRUCxLQUFLLENBQUMsNEJBQTRCQTtRQUUxQyxPQUFPdkMscURBQVlBLENBQUNzQyxJQUFJLENBQ3RCO1lBQUVDLE9BQU87UUFBMkIsR0FDcEM7WUFBRUcsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcb2xpdmlcXERvbWFpbmUgVmFsbG90XFxzcmNcXGFwcFxcYXBpXFxwcm9kdWN0c1xccm91dGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlcXVlc3QsIE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuaW1wb3J0IHsgZ2V0UHJvZHVjdHMgfSBmcm9tICdAL2xpYi9zdXBhYmFzZS9zZXJ2ZXInXG5pbXBvcnQgeyBwcm9kdWN0U2VhcmNoU2NoZW1hLCB2YWxpZGF0ZVNjaGVtYSB9IGZyb20gJ0AvbGliL3ZhbGlkYXRvcnMvc2NoZW1hcydcblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGZpeCBTdXBhYmFzZSBpbWFnZSBVUkxzXG5mdW5jdGlvbiBmaXhTdXBhYmFzZUltYWdlVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgaWYgKHVybC5pbmNsdWRlcygnc3VwYWJhc2UuY28vc3RvcmFnZS92MS9vYmplY3QvcHVibGljL3dpbmVzLycpKSB7XG4gICAgLy8gRml4IG1pc3NpbmcgL1B1YmxpYy8gaW4gdGhlIFVSTCBwYXRoXG4gICAgcmV0dXJuIHVybC5yZXBsYWNlKCcvb2JqZWN0L3B1YmxpYy93aW5lcy8nLCAnL29iamVjdC9wdWJsaWMvUHVibGljL3dpbmVzLycpXG4gIH1cbiAgcmV0dXJuIHVybFxufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgc2x1ZyBmcm9tIHByb2R1Y3QgbmFtZVxuZnVuY3Rpb24gZ2VuZXJhdGVTbHVnKG5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIHJldHVybiBuYW1lXG4gICAgLnRvTG93ZXJDYXNlKClcbiAgICAucmVwbGFjZSgvW8Ogw6HDosOjw6TDpV0vZywgJ2EnKVxuICAgIC5yZXBsYWNlKC9bw6jDqcOqw6tdL2csICdlJylcbiAgICAucmVwbGFjZSgvW8Osw63DrsOvXS9nLCAnaScpXG4gICAgLnJlcGxhY2UoL1vDssOzw7TDtcO2XS9nLCAnbycpXG4gICAgLnJlcGxhY2UoL1vDucO6w7vDvF0vZywgJ3UnKVxuICAgIC5yZXBsYWNlKC9bw7/DvV0vZywgJ3knKVxuICAgIC5yZXBsYWNlKC9bw7FdL2csICduJylcbiAgICAucmVwbGFjZSgvW8OnXS9nLCAnYycpXG4gICAgLnJlcGxhY2UoL1vCq8K7XCInXS9nLCAnJykgLy8gUmVtb3ZlIHF1b3RlcyBhbmQgZ3VpbGxlbWV0c1xuICAgIC5yZXBsYWNlKC9bXlxcd1xccy1dL2csICcnKSAvLyBSZW1vdmUgc3BlY2lhbCBjaGFyYWN0ZXJzXG4gICAgLnJlcGxhY2UoL1tcXHNfLV0rL2csICctJykgLy8gUmVwbGFjZSBzcGFjZXMgYW5kIHVuZGVyc2NvcmVzIHdpdGggaHlwaGVuc1xuICAgIC5yZXBsYWNlKC9eLSt8LSskL2csICcnKSAvLyBSZW1vdmUgbGVhZGluZy90cmFpbGluZyBoeXBoZW5zXG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBkZXRlcm1pbmUgY2F0ZWdvcnkgZnJvbSB2YXJpZXRhbFxuZnVuY3Rpb24gZ2V0Q2F0ZWdvcnlGcm9tVmFyaWV0YWwodmFyaWV0YWw6IHN0cmluZyk6IHN0cmluZyB7XG4gIGlmICghdmFyaWV0YWwpIHJldHVybiAncmVkX3dpbmUnXG5cbiAgY29uc3QgbG93ZXJWYXJpZXRhbCA9IHZhcmlldGFsLnRvTG93ZXJDYXNlKClcblxuICBpZiAobG93ZXJWYXJpZXRhbC5pbmNsdWRlcygnYmxhbmMnKSB8fCBsb3dlclZhcmlldGFsLmluY2x1ZGVzKCd2aW9nbmllcicpIHx8XG4gICAgICBsb3dlclZhcmlldGFsLmluY2x1ZGVzKCdjbGFpcmV0dGUnKSB8fCBsb3dlclZhcmlldGFsLmluY2x1ZGVzKCdib3VyYm91bGVuYycpKSB7XG4gICAgcmV0dXJuICd3aGl0ZV93aW5lJ1xuICB9XG5cbiAgaWYgKGxvd2VyVmFyaWV0YWwuaW5jbHVkZXMoJ3Jvc8OpJykgfHwgbG93ZXJWYXJpZXRhbC5pbmNsdWRlcygncm9zZScpIHx8IGxvd2VyVmFyaWV0YWwuaW5jbHVkZXMoJ2NpbnNhdWx0JykpIHtcbiAgICByZXR1cm4gJ3Jvc2Vfd2luZSdcbiAgfVxuXG4gIHJldHVybiAncmVkX3dpbmUnXG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgd2luZS1zcGVjaWZpYyBmYWxsYmFjayBpbWFnZXNcbmZ1bmN0aW9uIGdldFdpbmVGYWxsYmFja0ltYWdlKHdpbmVOYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBuYW1lID0gd2luZU5hbWUudG9Mb3dlckNhc2UoKVxuXG4gIGlmIChuYW1lLmluY2x1ZGVzKCdtYWduYW5lcmFpZScpKSB7XG4gICAgcmV0dXJuICcvaW1hZ2VzL3dpbmUtbWFnbmFuZXJhaWUuc3ZnJ1xuICB9IGVsc2UgaWYgKG5hbWUuaW5jbHVkZXMoJ3Jvc8OpJykgfHwgbmFtZS5pbmNsdWRlcygncm9zZScpKSB7XG4gICAgcmV0dXJuICcvaW1hZ2VzL3dpbmUtYm90dGxlLXJvc2Uuc3ZnJ1xuICB9IGVsc2UgaWYgKG5hbWUuaW5jbHVkZXMoJ2JsYW5jJykgfHwgbmFtZS5pbmNsdWRlcygnd2hpdGUnKSkge1xuICAgIHJldHVybiAnL2ltYWdlcy93aW5lLWJvdHRsZS13aGl0ZS5zdmcnXG4gIH0gZWxzZSBpZiAobmFtZS5pbmNsdWRlcygncm91Z2UnKSB8fCBuYW1lLmluY2x1ZGVzKCdyZWQnKSkge1xuICAgIHJldHVybiAnL2ltYWdlcy93aW5lLWJvdHRsZS1yZWQuc3ZnJ1xuICB9IGVsc2Uge1xuICAgIHJldHVybiAnL2ltYWdlcy9kZWZhdWx0LXdpbmUuc3ZnJ1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBHRVQocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcblxuICAgIC8vIFBhcnNlIGFuZCB2YWxpZGF0ZSBzZWFyY2ggcGFyYW1ldGVyc1xuICAgIGNvbnN0IHNlYXJjaERhdGEgPSB7XG4gICAgICBxdWVyeTogc2VhcmNoUGFyYW1zLmdldCgncXVlcnknKSB8fCB1bmRlZmluZWQsXG4gICAgICBjYXRlZ29yeTogc2VhcmNoUGFyYW1zLmdldCgnY2F0ZWdvcnknKSB8fCB1bmRlZmluZWQsXG4gICAgICBtaW5QcmljZTogc2VhcmNoUGFyYW1zLmdldCgnbWluUHJpY2UnKSA/IE51bWJlcihzZWFyY2hQYXJhbXMuZ2V0KCdtaW5QcmljZScpKSA6IHVuZGVmaW5lZCxcbiAgICAgIG1heFByaWNlOiBzZWFyY2hQYXJhbXMuZ2V0KCdtYXhQcmljZScpID8gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ21heFByaWNlJykpIDogdW5kZWZpbmVkLFxuICAgICAgdmludGFnZTogc2VhcmNoUGFyYW1zLmdldCgndmludGFnZScpID8gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ3ZpbnRhZ2UnKSkgOiB1bmRlZmluZWQsXG4gICAgICByZWdpb246IHNlYXJjaFBhcmFtcy5nZXQoJ3JlZ2lvbicpIHx8IHVuZGVmaW5lZCxcbiAgICAgIGluU3RvY2s6IHNlYXJjaFBhcmFtcy5nZXQoJ2luU3RvY2snKSA9PT0gJ3RydWUnLFxuICAgICAgaXNPcmdhbmljOiBzZWFyY2hQYXJhbXMuZ2V0KCdpc09yZ2FuaWMnKSA9PT0gJ3RydWUnLFxuICAgICAgc29ydEJ5OiBzZWFyY2hQYXJhbXMuZ2V0KCdzb3J0QnknKSB8fCAnY3JlYXRlZF9hdCcsXG4gICAgICBzb3J0T3JkZXI6IHNlYXJjaFBhcmFtcy5nZXQoJ3NvcnRPcmRlcicpIHx8ICdkZXNjJyxcbiAgICAgIGxpbWl0OiBzZWFyY2hQYXJhbXMuZ2V0KCdsaW1pdCcpID8gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ2xpbWl0JykpIDogMjAsXG4gICAgICBvZmZzZXQ6IHNlYXJjaFBhcmFtcy5nZXQoJ29mZnNldCcpID8gTnVtYmVyKHNlYXJjaFBhcmFtcy5nZXQoJ29mZnNldCcpKSA6IDBcbiAgICB9XG5cbiAgICAvLyBWYWxpZGF0ZSBzZWFyY2ggcGFyYW1ldGVyc1xuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVNjaGVtYShwcm9kdWN0U2VhcmNoU2NoZW1hLCBzZWFyY2hEYXRhKVxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIHNlYXJjaCBwYXJhbWV0ZXJzJywgZGV0YWlsczogdmFsaWRhdGlvbi5lcnJvcnMgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gR2V0IHByb2R1Y3RzIHdpdGggZmlsdGVyc1xuICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICBsaW1pdDogdmFsaWRhdGlvbi5kYXRhLmxpbWl0LFxuICAgICAgb2Zmc2V0OiB2YWxpZGF0aW9uLmRhdGEub2Zmc2V0LFxuICAgICAgY2F0ZWdvcnk6IHZhbGlkYXRpb24uZGF0YS5jYXRlZ29yeSxcbiAgICAgIGluU3RvY2s6IHZhbGlkYXRpb24uZGF0YS5pblN0b2NrXG4gICAgfVxuXG4gICAgbGV0IHByb2R1Y3RzXG4gICAgdHJ5IHtcbiAgICAgIHByb2R1Y3RzID0gYXdhaXQgZ2V0UHJvZHVjdHMob3B0aW9ucylcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5sb2coJ1N1cGFiYXNlIGNvbm5lY3Rpb24gZmFpbGVkLCB1c2luZyBtb2NrIGRhdGEgZm9yIGRldmVsb3BtZW50JylcbiAgICAgIC8vIEZhbGxiYWNrIG1vY2sgZGF0YSBmb3IgZGV2ZWxvcG1lbnRcbiAgICAgIHByb2R1Y3RzID0gW1xuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcxJyxcbiAgICAgICAgICBuYW1lOiAnVmFsbG90IFJvdWdlIDIwMjAnLFxuICAgICAgICAgIHNsdWc6ICd2YWxsb3Qtcm91Z2UtMjAyMCcsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBIHByZW1pdW0gcmVkIHdpbmUgd2l0aCBub3RlcyBvZiBkYXJrIGZydWl0IGFuZCBvYWsuJyxcbiAgICAgICAgICBwcmljZTogMjUwMCwgLy8gMjUuMDAgRVVSIGluIGNlbnRzXG4gICAgICAgICAgdmludGFnZTogMjAyMCxcbiAgICAgICAgICBjYXRlZ29yeTogJ3JlZF93aW5lJyxcbiAgICAgICAgICBncmFwZV92YXJpZXR5OiAnQ2FiZXJuZXQgU2F1dmlnbm9uJyxcbiAgICAgICAgICBwcm9kdWNlcjogJ0RvbWFpbmUgVmFsbG90JyxcbiAgICAgICAgICByZWdpb246ICdCb3JkZWF1eCcsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDUwLFxuICAgICAgICAgIGlzX29yZ2FuaWM6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3dpbmUtYm90dGxlLXJlZC5zdmcnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICcyJyxcbiAgICAgICAgICBuYW1lOiAnVmFsbG90IEJsYW5jIDIwMjEnLFxuICAgICAgICAgIHNsdWc6ICd2YWxsb3QtYmxhbmMtMjAyMScsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdBIGNyaXNwIHdoaXRlIHdpbmUgd2l0aCBjaXRydXMgYW5kIG1pbmVyYWwgbm90ZXMuJyxcbiAgICAgICAgICBwcmljZTogMjIwMCwgLy8gMjIuMDAgRVVSIGluIGNlbnRzXG4gICAgICAgICAgdmludGFnZTogMjAyMSxcbiAgICAgICAgICBjYXRlZ29yeTogJ3doaXRlX3dpbmUnLFxuICAgICAgICAgIGdyYXBlX3ZhcmlldHk6ICdTYXV2aWdub24gQmxhbmMnLFxuICAgICAgICAgIHByb2R1Y2VyOiAnRG9tYWluZSBWYWxsb3QnLFxuICAgICAgICAgIHJlZ2lvbjogJ0xvaXJlIFZhbGxleScsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDMwLFxuICAgICAgICAgIGlzX29yZ2FuaWM6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3dpbmUtYm90dGxlLXdoaXRlLnN2ZycsXG4gICAgICAgICAgY3JlYXRlZF9hdDogbmV3IERhdGUoKS50b0lTT1N0cmluZygpXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBpZDogJzMnLFxuICAgICAgICAgIG5hbWU6ICdWYWxsb3QgUm9zw6kgMjAyMicsXG4gICAgICAgICAgc2x1ZzogJ3ZhbGxvdC1yb3NlLTIwMjInLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQSBkZWxpY2F0ZSByb3PDqSB3aXRoIHN0cmF3YmVycnkgYW5kIGZsb3JhbCBhcm9tYXMuJyxcbiAgICAgICAgICBwcmljZTogMTgwMCwgLy8gMTguMDAgRVVSIGluIGNlbnRzXG4gICAgICAgICAgdmludGFnZTogMjAyMixcbiAgICAgICAgICBjYXRlZ29yeTogJ3Jvc2Vfd2luZScsXG4gICAgICAgICAgZ3JhcGVfdmFyaWV0eTogJ0dyZW5hY2hlJyxcbiAgICAgICAgICBwcm9kdWNlcjogJ0RvbWFpbmUgVmFsbG90JyxcbiAgICAgICAgICByZWdpb246ICdQcm92ZW5jZScsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDI1LFxuICAgICAgICAgIGlzX29yZ2FuaWM6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3dpbmUtYm90dGxlLXJvc2Uuc3ZnJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgIGlkOiAnNCcsXG4gICAgICAgICAgbmFtZTogJ0xhIE1hZ25hbmVyYWplJyxcbiAgICAgICAgICBzbHVnOiAnbGEtbWFnbmFuZXJhamUtMjAyMycsXG4gICAgICAgICAgZGVzY3JpcHRpb246ICdDw7R0ZXMgZHUgUmjDtG5lIC0gQSBjbGFzc2ljIHJlZCB3aW5lIHdpdGggZWFydGh5IHVuZGVydG9uZXMuJyxcbiAgICAgICAgICBwcmljZTogMCwgLy8gRnJlZS9ObyBwcmljZSBzZXRcbiAgICAgICAgICB2aW50YWdlOiAyMDIzLFxuICAgICAgICAgIGNhdGVnb3J5OiAncmVkX3dpbmUnLFxuICAgICAgICAgIGdyYXBlX3ZhcmlldHk6ICdTeXJhaCcsXG4gICAgICAgICAgcHJvZHVjZXI6ICdEb21haW5lIFZhbGxvdCcsXG4gICAgICAgICAgcmVnaW9uOiAnQ8O0dGVzIGR1IFJow7RuZScsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDE1LFxuICAgICAgICAgIGlzX29yZ2FuaWM6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3dpbmUtYm90dGxlLXJlZC5zdmcnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc1JyxcbiAgICAgICAgICBuYW1lOiAnTGUgQ29yaWFuw6dvbiByb3PDqScsXG4gICAgICAgICAgc2x1ZzogJ2xlLWNvcmlhbmNvbi1yb3NlLTIwMjQnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnQ8O0dGVzIGR1IFJow7RuZSAtIEZyZXNoIHJvc8OpIHdpdGggdmlicmFudCBmcnVpdCBmbGF2b3JzLicsXG4gICAgICAgICAgcHJpY2U6IDAsIC8vIEZyZWUvTm8gcHJpY2Ugc2V0XG4gICAgICAgICAgdmludGFnZTogMjAyNCxcbiAgICAgICAgICBjYXRlZ29yeTogJ3Jvc2Vfd2luZScsXG4gICAgICAgICAgZ3JhcGVfdmFyaWV0eTogJ0dyZW5hY2hlJyxcbiAgICAgICAgICBwcm9kdWNlcjogJ0RvbWFpbmUgVmFsbG90JyxcbiAgICAgICAgICByZWdpb246ICdDw7R0ZXMgZHUgUmjDtG5lJyxcbiAgICAgICAgICBzdG9ja19xdWFudGl0eTogMjAsXG4gICAgICAgICAgaXNfb3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIGltYWdlX3VybDogJy9pbWFnZXMvd2luZS1ib3R0bGUtcm9zZS5zdmcnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc2JyxcbiAgICAgICAgICBuYW1lOiAnTGUgQ29yaWFuw6dvbiByb3VnZScsXG4gICAgICAgICAgc2x1ZzogJ2xlLWNvcmlhbmNvbi1yb3VnZS0yMDIzJyxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogJ0PDtHRlcyBkdSBSaMO0bmUgLSBCb2xkIHJlZCB3aW5lIHdpdGggY29tcGxleCB0YW5uaW5zLicsXG4gICAgICAgICAgcHJpY2U6IDAsIC8vIEZyZWUvTm8gcHJpY2Ugc2V0XG4gICAgICAgICAgdmludGFnZTogMjAyMyxcbiAgICAgICAgICBjYXRlZ29yeTogJ3JlZF93aW5lJyxcbiAgICAgICAgICBncmFwZV92YXJpZXR5OiAnTW91cnbDqGRyZScsXG4gICAgICAgICAgcHJvZHVjZXI6ICdEb21haW5lIFZhbGxvdCcsXG4gICAgICAgICAgcmVnaW9uOiAnQ8O0dGVzIGR1IFJow7RuZScsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDEyLFxuICAgICAgICAgIGlzX29yZ2FuaWM6IHRydWUsXG4gICAgICAgICAgc3RhdHVzOiAnYWN0aXZlJyxcbiAgICAgICAgICBpbWFnZV91cmw6ICcvaW1hZ2VzL3dpbmUtYm90dGxlLXJlZC5zdmcnLFxuICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgaWQ6ICc3JyxcbiAgICAgICAgICBuYW1lOiAnTGUgSGF1dCBkZXMgQ8O0dGVzIGJsYW5jJyxcbiAgICAgICAgICBzbHVnOiAnbGUtaGF1dC1kZXMtY290ZXMtYmxhbmMnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiAnUHJlbWl1bSB3aGl0ZSB3aW5lIHdpdGggbWluZXJhbCBjb21wbGV4aXR5LicsXG4gICAgICAgICAgcHJpY2U6IDAsIC8vIEZyZWUvTm8gcHJpY2Ugc2V0XG4gICAgICAgICAgdmludGFnZTogMjAyMyxcbiAgICAgICAgICBjYXRlZ29yeTogJ3doaXRlX3dpbmUnLFxuICAgICAgICAgIGdyYXBlX3ZhcmlldHk6ICdWaW9nbmllcicsXG4gICAgICAgICAgcHJvZHVjZXI6ICdEb21haW5lIFZhbGxvdCcsXG4gICAgICAgICAgcmVnaW9uOiAnQ8O0dGVzIGR1IFJow7RuZScsXG4gICAgICAgICAgc3RvY2tfcXVhbnRpdHk6IDgsXG4gICAgICAgICAgaXNfb3JnYW5pYzogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6ICdhY3RpdmUnLFxuICAgICAgICAgIGltYWdlX3VybDogJy9pbWFnZXMvd2luZS1ib3R0bGUtd2hpdGUuc3ZnJyxcbiAgICAgICAgICBjcmVhdGVkX2F0OiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cblxuICAgIC8vIEFwcGx5IGFkZGl0aW9uYWwgZmlsdGVycyB0aGF0IGFyZW4ndCBoYW5kbGVkIGluIHRoZSBkYXRhYmFzZSBxdWVyeVxuICAgIGxldCBmaWx0ZXJlZFByb2R1Y3RzID0gcHJvZHVjdHNcblxuICAgIGlmICh2YWxpZGF0aW9uLmRhdGEucXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gdmFsaWRhdGlvbi5kYXRhLnF1ZXJ5LnRvTG93ZXJDYXNlKClcbiAgICAgIGZpbHRlcmVkUHJvZHVjdHMgPSBmaWx0ZXJlZFByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+XG4gICAgICAgIHByb2R1Y3QubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBwcm9kdWN0LmRlc2NyaXB0aW9uLnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8XG4gICAgICAgIHByb2R1Y3QucHJvZHVjZXI/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpIHx8XG4gICAgICAgIHByb2R1Y3QucmVnaW9uPy50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBwcm9kdWN0LmdyYXBlX3ZhcmlldHk/LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMocXVlcnkpXG4gICAgICApXG4gICAgfVxuXG4gICAgaWYgKHZhbGlkYXRpb24uZGF0YS5taW5QcmljZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWx0ZXJlZFByb2R1Y3RzID0gZmlsdGVyZWRQcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiAocHJvZHVjdC5wcmljZV9ldXIgfHwgMCkgPj0gdmFsaWRhdGlvbi5kYXRhLm1pblByaWNlISlcbiAgICB9XG5cbiAgICBpZiAodmFsaWRhdGlvbi5kYXRhLm1heFByaWNlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGZpbHRlcmVkUHJvZHVjdHMgPSBmaWx0ZXJlZFByb2R1Y3RzLmZpbHRlcihwcm9kdWN0ID0+IChwcm9kdWN0LnByaWNlX2V1ciB8fCAwKSA8PSB2YWxpZGF0aW9uLmRhdGEubWF4UHJpY2UhKVxuICAgIH1cblxuICAgIGlmICh2YWxpZGF0aW9uLmRhdGEudmludGFnZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBmaWx0ZXJlZFByb2R1Y3RzID0gZmlsdGVyZWRQcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiBwcm9kdWN0LnZpbnRhZ2UgPT09IHZhbGlkYXRpb24uZGF0YS52aW50YWdlKVxuICAgIH1cblxuICAgIGlmICh2YWxpZGF0aW9uLmRhdGEucmVnaW9uKSB7XG4gICAgICBmaWx0ZXJlZFByb2R1Y3RzID0gZmlsdGVyZWRQcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PlxuICAgICAgICBwcm9kdWN0LnJlZ2lvbj8udG9Mb3dlckNhc2UoKS5pbmNsdWRlcyh2YWxpZGF0aW9uLmRhdGEucmVnaW9uIS50b0xvd2VyQ2FzZSgpKVxuICAgICAgKVxuICAgIH1cblxuICAgIGlmICh2YWxpZGF0aW9uLmRhdGEuaXNPcmdhbmljKSB7XG4gICAgICBmaWx0ZXJlZFByb2R1Y3RzID0gZmlsdGVyZWRQcm9kdWN0cy5maWx0ZXIocHJvZHVjdCA9PiBwcm9kdWN0LmlzX29yZ2FuaWMgPT09IHRydWUpXG4gICAgfVxuXG4gICAgLy8gQXBwbHkgc29ydGluZ1xuICAgIGNvbnN0IHNvcnRCeSA9IHZhbGlkYXRpb24uZGF0YS5zb3J0QnkhXG4gICAgY29uc3Qgc29ydE9yZGVyID0gdmFsaWRhdGlvbi5kYXRhLnNvcnRPcmRlciFcblxuICAgIGZpbHRlcmVkUHJvZHVjdHMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgbGV0IGFWYWx1ZTogYW55XG4gICAgICBsZXQgYlZhbHVlOiBhbnlcblxuICAgICAgc3dpdGNoIChzb3J0QnkpIHtcbiAgICAgICAgY2FzZSAnbmFtZSc6XG4gICAgICAgICAgYVZhbHVlID0gYS5uYW1lLnRvTG93ZXJDYXNlKClcbiAgICAgICAgICBiVmFsdWUgPSBiLm5hbWUudG9Mb3dlckNhc2UoKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ByaWNlJzpcbiAgICAgICAgICBhVmFsdWUgPSBhLnByaWNlX2V1ciB8fCAwXG4gICAgICAgICAgYlZhbHVlID0gYi5wcmljZV9ldXIgfHwgMFxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGNhc2UgJ3ZpbnRhZ2UnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEudmludGFnZSB8fCAwXG4gICAgICAgICAgYlZhbHVlID0gYi52aW50YWdlIHx8IDBcbiAgICAgICAgICBicmVha1xuICAgICAgICBjYXNlICdjcmVhdGVkX2F0JzpcbiAgICAgICAgICBhVmFsdWUgPSBuZXcgRGF0ZShhLmNyZWF0ZWRfYXQpLmdldFRpbWUoKVxuICAgICAgICAgIGJWYWx1ZSA9IG5ldyBEYXRlKGIuY3JlYXRlZF9hdCkuZ2V0VGltZSgpXG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgY2FzZSAncG9wdWxhcml0eSc6XG4gICAgICAgICAgLy8gRm9yIG5vdywgdXNlIHN0b2NrIHF1YW50aXR5IGFzIGEgcHJveHkgZm9yIHBvcHVsYXJpdHlcbiAgICAgICAgICBhVmFsdWUgPSBhLnN0b2NrX3F1YW50aXR5XG4gICAgICAgICAgYlZhbHVlID0gYi5zdG9ja19xdWFudGl0eVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgYVZhbHVlID0gYS5jcmVhdGVkX2F0XG4gICAgICAgICAgYlZhbHVlID0gYi5jcmVhdGVkX2F0XG4gICAgICB9XG5cbiAgICAgIGlmIChzb3J0T3JkZXIgPT09ICdhc2MnKSB7XG4gICAgICAgIHJldHVybiBhVmFsdWUgPiBiVmFsdWUgPyAxIDogLTFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhVmFsdWUgPCBiVmFsdWUgPyAxIDogLTFcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gQ29udmVydCBhbmQgbWFwIHJlYWwgU3VwYWJhc2UgZGF0YSB0byBjb21wb25lbnQtZXhwZWN0ZWQgZm9ybWF0XG4gICAgY29uc3QgcHJvZHVjdHNXaXRoRm9ybWF0dGVkUHJpY2UgPSBmaWx0ZXJlZFByb2R1Y3RzLm1hcChwcm9kdWN0ID0+ICh7XG4gICAgICAuLi5wcm9kdWN0LFxuICAgICAgLy8gTWFwIGtleSBmaWVsZHMgdG8gZXhwZWN0ZWQgbmFtZXNcbiAgICAgIGRlc2NyaXB0aW9uOiBwcm9kdWN0LmRlc2NyaXB0aW9uX2VuIHx8IHByb2R1Y3QuZGVzY3JpcHRpb25fZnIgfHwgcHJvZHVjdC5kZXNjcmlwdGlvbiB8fCAnRmluZSB3aW5lIGZyb20gRG9tYWluZSBWYWxsb3QnLFxuICAgICAgZ3JhcGVfdmFyaWV0eTogcHJvZHVjdC52YXJpZXRhbCB8fCBwcm9kdWN0LmdyYXBlX3ZhcmlldHksXG4gICAgICBwcm9kdWNlcjogJ0RvbWFpbmUgVmFsbG90JyxcbiAgICAgIGNhdGVnb3J5OiBnZXRDYXRlZ29yeUZyb21WYXJpZXRhbChwcm9kdWN0LnZhcmlldGFsKSxcbiAgICAgIGFsY29ob2xfY29udGVudDogcHJvZHVjdC5hbGNvaG9sX2NvbnRlbnQgfHwgMTMuNSxcblxuICAgICAgLy8gUHJpY2UgaGFuZGxpbmdcbiAgICAgIHByaWNlX2Rpc3BsYXk6IHByb2R1Y3QucHJpY2VfZXVyID8gcHJvZHVjdC5wcmljZV9ldXIudG9GaXhlZCgyKSA6ICcwLjAwJyxcbiAgICAgIHByaWNlOiBwcm9kdWN0LnByaWNlX2V1ciA/IE1hdGgucm91bmQocHJvZHVjdC5wcmljZV9ldXIgKiAxMDApIDogMCwgLy8gQ29udmVydCB0byBjZW50cyBmb3IgY29tcGF0aWJpbGl0eVxuXG4gICAgICAvLyBTdG9jayBzdGF0dXNcbiAgICAgIGluX3N0b2NrOiBwcm9kdWN0LnN0b2NrX3F1YW50aXR5ID4gMCxcblxuICAgICAgLy8gSW1hZ2UgaGFuZGxpbmcgd2l0aCBwcm9wZXIgZmFsbGJhY2tcbiAgICAgIGltYWdlX3VybDogcHJvZHVjdC5wcm9kdWN0X2ltYWdlcz8uWzBdPy51cmxcbiAgICAgICAgPyBmaXhTdXBhYmFzZUltYWdlVXJsKHByb2R1Y3QucHJvZHVjdF9pbWFnZXNbMF0udXJsKVxuICAgICAgICA6IGdldFdpbmVGYWxsYmFja0ltYWdlKHByb2R1Y3QubmFtZSksXG5cbiAgICAgIC8vIEVuc3VyZSBwcm9wZXIgc2x1ZyBnZW5lcmF0aW9uXG4gICAgICBzbHVnOiBwcm9kdWN0LnNsdWdfZW4gfHwgcHJvZHVjdC5zbHVnIHx8IGdlbmVyYXRlU2x1ZyhgJHtwcm9kdWN0Lm5hbWV9LSR7cHJvZHVjdC52aW50YWdlfWApLFxuXG4gICAgICAvLyBBZGRpdGlvbmFsIGZpZWxkcyBmb3IgVUlcbiAgICAgIGlzX29yZ2FuaWM6IHByb2R1Y3Qub3JnYW5pY19jZXJ0aWZpZWQgfHwgZmFsc2UsXG4gICAgICBpc19iaW9keW5hbWljOiBwcm9kdWN0LmJpb2R5bmFtaWNfY2VydGlmaWVkIHx8IGZhbHNlLFxuICAgICAgaXNfZmVhdHVyZWQ6IHByb2R1Y3QuZmVhdHVyZWQgfHwgZmFsc2VcbiAgICB9KSlcblxuICAgIC8vIFByZXBhcmUgcmVzcG9uc2Ugd2l0aCBwYWdpbmF0aW9uIGluZm9cbiAgICBjb25zdCB0b3RhbCA9IHByb2R1Y3RzV2l0aEZvcm1hdHRlZFByaWNlLmxlbmd0aFxuICAgIGNvbnN0IHBhZ2luYXRlZFByb2R1Y3RzID0gcHJvZHVjdHNXaXRoRm9ybWF0dGVkUHJpY2Uuc2xpY2UoXG4gICAgICB2YWxpZGF0aW9uLmRhdGEub2Zmc2V0ISxcbiAgICAgIHZhbGlkYXRpb24uZGF0YS5vZmZzZXQhICsgdmFsaWRhdGlvbi5kYXRhLmxpbWl0IVxuICAgIClcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBkYXRhOiBwYWdpbmF0ZWRQcm9kdWN0cyxcbiAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgdG90YWwsXG4gICAgICAgIGxpbWl0OiB2YWxpZGF0aW9uLmRhdGEubGltaXQsXG4gICAgICAgIG9mZnNldDogdmFsaWRhdGlvbi5kYXRhLm9mZnNldCxcbiAgICAgICAgaGFzTW9yZTogdmFsaWRhdGlvbi5kYXRhLm9mZnNldCEgKyB2YWxpZGF0aW9uLmRhdGEubGltaXQhIDwgdG90YWxcbiAgICAgIH0sXG4gICAgICBmaWx0ZXJzOiB7XG4gICAgICAgIGNhdGVnb3JpZXM6IFsncmVkX3dpbmUnLCAnd2hpdGVfd2luZScsICdyb3NlX3dpbmUnLCAnc3BhcmtsaW5nX3dpbmUnLCAnZGVzc2VydF93aW5lJywgJ2ZvcnRpZmllZF93aW5lJ10sXG4gICAgICAgIHByaWNlUmFuZ2U6IHtcbiAgICAgICAgICBtaW46IE1hdGgubWluKC4uLnByb2R1Y3RzLm1hcChwID0+IHAucHJpY2VfZXVyIHx8IDApLmZpbHRlcihwID0+IHAgPiAwKSksXG4gICAgICAgICAgbWF4OiBNYXRoLm1heCguLi5wcm9kdWN0cy5tYXAocCA9PiBwLnByaWNlX2V1ciB8fCAwKSlcbiAgICAgICAgfSxcbiAgICAgICAgdmludGFnZXM6IFsuLi5uZXcgU2V0KHByb2R1Y3RzLm1hcChwID0+IHAudmludGFnZSkuZmlsdGVyKEJvb2xlYW4pKV0uc29ydCgoYSwgYikgPT4gYiEgLSBhISksXG4gICAgICAgIHJlZ2lvbnM6IFsuLi5uZXcgU2V0KHByb2R1Y3RzLm1hcChwID0+IHAucmVnaW9uKS5maWx0ZXIoQm9vbGVhbikpXS5zb3J0KClcbiAgICAgIH1cbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgcHJvZHVjdHM6JywgZXJyb3IpXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIHByb2R1Y3RzJyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldFByb2R1Y3RzIiwicHJvZHVjdFNlYXJjaFNjaGVtYSIsInZhbGlkYXRlU2NoZW1hIiwiZml4U3VwYWJhc2VJbWFnZVVybCIsInVybCIsImluY2x1ZGVzIiwicmVwbGFjZSIsImdlbmVyYXRlU2x1ZyIsIm5hbWUiLCJ0b0xvd2VyQ2FzZSIsImdldENhdGVnb3J5RnJvbVZhcmlldGFsIiwidmFyaWV0YWwiLCJsb3dlclZhcmlldGFsIiwiZ2V0V2luZUZhbGxiYWNrSW1hZ2UiLCJ3aW5lTmFtZSIsIkdFVCIsInJlcXVlc3QiLCJzZWFyY2hQYXJhbXMiLCJVUkwiLCJzZWFyY2hEYXRhIiwicXVlcnkiLCJnZXQiLCJ1bmRlZmluZWQiLCJjYXRlZ29yeSIsIm1pblByaWNlIiwiTnVtYmVyIiwibWF4UHJpY2UiLCJ2aW50YWdlIiwicmVnaW9uIiwiaW5TdG9jayIsImlzT3JnYW5pYyIsInNvcnRCeSIsInNvcnRPcmRlciIsImxpbWl0Iiwib2Zmc2V0IiwidmFsaWRhdGlvbiIsInN1Y2Nlc3MiLCJqc29uIiwiZXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIiwic3RhdHVzIiwib3B0aW9ucyIsImRhdGEiLCJwcm9kdWN0cyIsImNvbnNvbGUiLCJsb2ciLCJpZCIsInNsdWciLCJkZXNjcmlwdGlvbiIsInByaWNlIiwiZ3JhcGVfdmFyaWV0eSIsInByb2R1Y2VyIiwic3RvY2tfcXVhbnRpdHkiLCJpc19vcmdhbmljIiwiaW1hZ2VfdXJsIiwiY3JlYXRlZF9hdCIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImZpbHRlcmVkUHJvZHVjdHMiLCJmaWx0ZXIiLCJwcm9kdWN0IiwicHJpY2VfZXVyIiwic29ydCIsImEiLCJiIiwiYVZhbHVlIiwiYlZhbHVlIiwiZ2V0VGltZSIsInByb2R1Y3RzV2l0aEZvcm1hdHRlZFByaWNlIiwibWFwIiwiZGVzY3JpcHRpb25fZW4iLCJkZXNjcmlwdGlvbl9mciIsImFsY29ob2xfY29udGVudCIsInByaWNlX2Rpc3BsYXkiLCJ0b0ZpeGVkIiwiTWF0aCIsInJvdW5kIiwiaW5fc3RvY2siLCJwcm9kdWN0X2ltYWdlcyIsInNsdWdfZW4iLCJvcmdhbmljX2NlcnRpZmllZCIsImlzX2Jpb2R5bmFtaWMiLCJiaW9keW5hbWljX2NlcnRpZmllZCIsImlzX2ZlYXR1cmVkIiwiZmVhdHVyZWQiLCJ0b3RhbCIsImxlbmd0aCIsInBhZ2luYXRlZFByb2R1Y3RzIiwic2xpY2UiLCJwYWdpbmF0aW9uIiwiaGFzTW9yZSIsImZpbHRlcnMiLCJjYXRlZ29yaWVzIiwicHJpY2VSYW5nZSIsIm1pbiIsInAiLCJtYXgiLCJ2aW50YWdlcyIsIlNldCIsIkJvb2xlYW4iLCJyZWdpb25zIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/products/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/supabase/server.ts":
/*!************************************!*\
  !*** ./src/lib/supabase/server.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCart: () => (/* binding */ addToCart),\n/* harmony export */   createOrUpdateCustomer: () => (/* binding */ createOrUpdateCustomer),\n/* harmony export */   createOrder: () => (/* binding */ createOrder),\n/* harmony export */   createRouteHandlerSupabaseClient: () => (/* binding */ createRouteHandlerSupabaseClient),\n/* harmony export */   createServerSupabaseClient: () => (/* binding */ createServerSupabaseClient),\n/* harmony export */   getCartItems: () => (/* binding */ getCartItems),\n/* harmony export */   getOrderById: () => (/* binding */ getOrderById),\n/* harmony export */   getProductById: () => (/* binding */ getProductById),\n/* harmony export */   getProductBySlug: () => (/* binding */ getProductBySlug),\n/* harmony export */   getProducts: () => (/* binding */ getProducts),\n/* harmony export */   getServerAdminUser: () => (/* binding */ getServerAdminUser),\n/* harmony export */   getServerSession: () => (/* binding */ getServerSession),\n/* harmony export */   getServerUser: () => (/* binding */ getServerUser),\n/* harmony export */   getVatRateByCountry: () => (/* binding */ getVatRateByCountry),\n/* harmony export */   removeFromCart: () => (/* binding */ removeFromCart),\n/* harmony export */   safeQuery: () => (/* binding */ safeQuery),\n/* harmony export */   updateCartItem: () => (/* binding */ updateCartItem)\n/* harmony export */ });\n/* harmony import */ var _supabase_ssr__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @supabase/ssr */ \"(rsc)/./node_modules/@supabase/ssr/dist/module/index.js\");\n/* harmony import */ var next_headers__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/headers */ \"(rsc)/./node_modules/next/dist/api/headers.js\");\n\n\n// Create server client for Server Components\nconst createServerSupabaseClient = async ()=>{\n    const cookieStore = await (0,next_headers__WEBPACK_IMPORTED_MODULE_1__.cookies)();\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://vmtudbupajnjyauvqnej.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtdHVkYnVwYWpuanlhdXZxbmVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5MzkwNTcsImV4cCI6MjA3MzUxNTA1N30.7SZ6RUgXQdI-nf1Dun7XnQ2sRIL-R_KcV2EoECuXsGs\", {\n        cookies: {\n            get (name) {\n                return cookieStore.get(name)?.value;\n            },\n            set (name, value, options) {\n                cookieStore.set(name, value, options);\n            },\n            remove (name, options) {\n                cookieStore.delete(name);\n            }\n        }\n    });\n};\n// Create client for API Route Handlers\nconst createRouteHandlerSupabaseClient = (request)=>{\n    return (0,_supabase_ssr__WEBPACK_IMPORTED_MODULE_0__.createServerClient)(\"https://vmtudbupajnjyauvqnej.supabase.co\", \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InZtdHVkYnVwYWpuanlhdXZxbmVqIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc5MzkwNTcsImV4cCI6MjA3MzUxNTA1N30.7SZ6RUgXQdI-nf1Dun7XnQ2sRIL-R_KcV2EoECuXsGs\", {\n        cookies: {\n            get (name) {\n                return request?.cookies.get(name)?.value;\n            },\n            set (name, value, options) {\n            // For route handlers, we need to set cookies differently\n            // This will be handled by the response\n            },\n            remove (name, options) {\n            // For route handlers, we need to remove cookies differently\n            // This will be handled by the response\n            }\n        }\n    });\n};\n// Authentication helpers for server-side\nconst getServerUser = async ()=>{\n    const supabase = await createServerSupabaseClient();\n    const { data: { user }, error } = await supabase.auth.getUser();\n    if (error) {\n        console.error('Error getting server user:', error);\n        return null;\n    }\n    return user;\n};\nconst getServerSession = async ()=>{\n    const supabase = await createServerSupabaseClient();\n    const { data: { session }, error } = await supabase.auth.getSession();\n    if (error) {\n        console.error('Error getting server session:', error);\n        return null;\n    }\n    return session;\n};\n// Admin authentication helper\nconst getServerAdminUser = async ()=>{\n    const user = await getServerUser();\n    if (!user) {\n        throw new Error('Not authenticated');\n    }\n    // Check if user has admin role in user metadata or in a separate admin table\n    const supabase = await createServerSupabaseClient();\n    // Option 1: Check user metadata\n    if (user.user_metadata?.role === 'admin') {\n        return user;\n    }\n    // Option 2: Check admin table (if exists)\n    const { data: adminRecord } = await supabase.from('admin_users').select('*').eq('user_id', user.id).single();\n    if (!adminRecord) {\n        throw new Error('Admin access required');\n    }\n    return user;\n};\n// Database query helpers with error handling\nconst safeQuery = async (queryFn)=>{\n    const supabase = await createServerSupabaseClient();\n    const { data, error } = await queryFn(supabase);\n    if (error) {\n        console.error('Database query error:', error);\n        if (error.code === 'PGRST116') {\n            throw new Error('Resource not found');\n        }\n        if (error.code === '42501') {\n            throw new Error('Access denied');\n        }\n        throw new Error(error.message || 'Database query failed');\n    }\n    return data;\n};\n// Product queries\nconst getProducts = async (options)=>{\n    return safeQuery(async (supabase)=>{\n        let query = supabase.from('wine_products').select(`\n        *,\n        product_images!inner(\n          url,\n          alt_text_en,\n          alt_text_fr,\n          is_primary\n        )\n      `).eq('is_active', true).eq('product_images.is_primary', true);\n        if (options?.category) {\n            query = query.eq('category', options.category);\n        }\n        if (options?.inStock) {\n            query = query.gt('stock_quantity', 0);\n        }\n        if (options?.limit) {\n            query = query.limit(options.limit);\n        }\n        if (options?.offset) {\n            query = query.range(options.offset, options.offset + (options.limit || 10) - 1);\n        }\n        return query.order('created_at', {\n            ascending: false\n        });\n    });\n};\nconst getProductById = async (id)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('wine_products').select('*').eq('id', id).eq('is_active', true).single();\n    });\n};\nconst getProductBySlug = async (slug)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('wine_products').select('*').eq('slug', slug).eq('is_active', true).single();\n    });\n};\n// Cart queries\nconst getCartItems = async (userId)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('cart_items').select(`\n        *,\n        wine_products (*)\n      `).eq('user_id', userId);\n    });\n};\nconst addToCart = async (userId, productId, quantity)=>{\n    return safeQuery(async (supabase)=>{\n        // Check if item already exists in cart\n        const { data: existingItem } = await supabase.from('cart_items').select('*').eq('user_id', userId).eq('product_id', productId).single();\n        if (existingItem) {\n            // Update quantity\n            return supabase.from('cart_items').update({\n                quantity: existingItem.quantity + quantity\n            }).eq('id', existingItem.id).select().single();\n        } else {\n            // Insert new item\n            return supabase.from('cart_items').insert({\n                user_id: userId,\n                product_id: productId,\n                quantity\n            }).select().single();\n        }\n    });\n};\nconst updateCartItem = async (userId, itemId, quantity)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('cart_items').update({\n            quantity\n        }).eq('id', itemId).eq('user_id', userId).select().single();\n    });\n};\nconst removeFromCart = async (userId, itemId)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('cart_items').delete().eq('id', itemId).eq('user_id', userId);\n    });\n};\n// Order queries\nconst createOrder = async (orderData)=>{\n    return safeQuery(async (supabase)=>{\n        // Start transaction by creating order first\n        const { data: order, error: orderError } = await supabase.from('orders').insert({\n            user_id: orderData.user_id,\n            customer_email: orderData.customer_email,\n            customer_first_name: orderData.customer_first_name,\n            customer_last_name: orderData.customer_last_name,\n            shipping_address: orderData.shipping_address,\n            billing_address: orderData.billing_address || orderData.shipping_address,\n            subtotal: orderData.subtotal,\n            vat_amount: orderData.vat_amount,\n            shipping_cost: orderData.shipping_cost,\n            total_amount: orderData.total_amount,\n            payment_method: orderData.payment_method || 'mollie',\n            status: orderData.status || 'pending'\n        }).select().single();\n        if (orderError) throw orderError;\n        // Insert order items\n        const orderItems = orderData.items.map((item)=>({\n                order_id: order.id,\n                product_id: item.product_id,\n                quantity: item.quantity,\n                unit_price: item.unit_price,\n                total_price: item.quantity * item.unit_price\n            }));\n        const { error: itemsError } = await supabase.from('order_items').insert(orderItems);\n        if (itemsError) throw itemsError;\n        return {\n            data: order,\n            error: null\n        };\n    });\n};\nconst getOrderById = async (orderId, userId)=>{\n    return safeQuery(async (supabase)=>{\n        let query = supabase.from('orders').select(`\n        *,\n        order_items (\n          *,\n          wine_products (*)\n        )\n      `).eq('id', orderId);\n        if (userId) {\n            query = query.eq('user_id', userId);\n        }\n        return query.single();\n    });\n};\n// Customer queries\nconst createOrUpdateCustomer = async (userData)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('customers').upsert(userData, {\n            onConflict: 'user_id'\n        }).select().single();\n    });\n};\n// VAT rate queries\nconst getVatRateByCountry = async (countryCode)=>{\n    return safeQuery(async (supabase)=>{\n        return supabase.from('vat_rates').select('*').eq('country_code', countryCode.toUpperCase()).eq('is_active', true).single();\n    });\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFJLENBQUMsYUFDTEMsTUFBTSxDQUFDLEtBQ1BDLEVBQUUsQ0FBQyxnQkFBZ0I4RCxZQUFZQyxXQUFXLElBQzFDL0QsRUFBRSxDQUFDLGFBQWEsTUFDaEJFLE1BQU07SUFDWDtBQUNGLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcb2xpdmlcXERvbWFpbmUgVmFsbG90XFxzcmNcXGxpYlxcc3VwYWJhc2VcXHNlcnZlci50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjcmVhdGVTZXJ2ZXJDbGllbnQgfSBmcm9tICdAc3VwYWJhc2Uvc3NyJ1xuaW1wb3J0IHsgY29va2llcyB9IGZyb20gJ25leHQvaGVhZGVycydcbmltcG9ydCB7IE5leHRSZXF1ZXN0IH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBEYXRhYmFzZSB9IGZyb20gJ0AvdHlwZXMvZGF0YWJhc2UudHlwZXMnXG5cbi8vIENyZWF0ZSBzZXJ2ZXIgY2xpZW50IGZvciBTZXJ2ZXIgQ29tcG9uZW50c1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50ID0gYXN5bmMgKCkgPT4ge1xuICBjb25zdCBjb29raWVTdG9yZSA9IGF3YWl0IGNvb2tpZXMoKVxuICByZXR1cm4gY3JlYXRlU2VydmVyQ2xpZW50PERhdGFiYXNlPihcbiAgICBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19TVVBBQkFTRV9VUkwhLFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX0FOT05fS0VZISxcbiAgICB7XG4gICAgICBjb29raWVzOiB7XG4gICAgICAgIGdldChuYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIGNvb2tpZVN0b3JlLmdldChuYW1lKT8udmFsdWVcbiAgICAgICAgfSxcbiAgICAgICAgc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgICAgY29va2llU3RvcmUuc2V0KG5hbWUsIHZhbHVlLCBvcHRpb25zKVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgIGNvb2tpZVN0b3JlLmRlbGV0ZShuYW1lKVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gIClcbn1cblxuLy8gQ3JlYXRlIGNsaWVudCBmb3IgQVBJIFJvdXRlIEhhbmRsZXJzXG5leHBvcnQgY29uc3QgY3JlYXRlUm91dGVIYW5kbGVyU3VwYWJhc2VDbGllbnQgPSAocmVxdWVzdD86IE5leHRSZXF1ZXN0KSA9PiB7XG4gIHJldHVybiBjcmVhdGVTZXJ2ZXJDbGllbnQ8RGF0YWJhc2U+KFxuICAgIHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX1NVUEFCQVNFX1VSTCEsXG4gICAgcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkhLFxuICAgIHtcbiAgICAgIGNvb2tpZXM6IHtcbiAgICAgICAgZ2V0KG5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gcmVxdWVzdD8uY29va2llcy5nZXQobmFtZSk/LnZhbHVlXG4gICAgICAgIH0sXG4gICAgICAgIHNldChuYW1lLCB2YWx1ZSwgb3B0aW9ucykge1xuICAgICAgICAgIC8vIEZvciByb3V0ZSBoYW5kbGVycywgd2UgbmVlZCB0byBzZXQgY29va2llcyBkaWZmZXJlbnRseVxuICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSByZXNwb25zZVxuICAgICAgICB9LFxuICAgICAgICByZW1vdmUobmFtZSwgb3B0aW9ucykge1xuICAgICAgICAgIC8vIEZvciByb3V0ZSBoYW5kbGVycywgd2UgbmVlZCB0byByZW1vdmUgY29va2llcyBkaWZmZXJlbnRseVxuICAgICAgICAgIC8vIFRoaXMgd2lsbCBiZSBoYW5kbGVkIGJ5IHRoZSByZXNwb25zZVxuICAgICAgICB9LFxuICAgICAgfSxcbiAgICB9XG4gIClcbn1cblxuLy8gVHlwZSBoZWxwZXJzIGZvciBzZXJ2ZXItc2lkZSB1c2FnZVxuZXhwb3J0IHR5cGUgU2VydmVyU3VwYWJhc2VDbGllbnQgPSBSZXR1cm5UeXBlPHR5cGVvZiBjcmVhdGVTZXJ2ZXJDbGllbnQ+XG5leHBvcnQgdHlwZSBSb3V0ZUhhbmRsZXJTdXBhYmFzZUNsaWVudCA9IFJldHVyblR5cGU8dHlwZW9mIGNyZWF0ZVJvdXRlSGFuZGxlclN1cGFiYXNlQ2xpZW50PlxuXG4vLyBBdXRoZW50aWNhdGlvbiBoZWxwZXJzIGZvciBzZXJ2ZXItc2lkZVxuZXhwb3J0IGNvbnN0IGdldFNlcnZlclVzZXIgPSBhc3luYyAoKSA9PiB7XG4gIGNvbnN0IHN1cGFiYXNlID0gYXdhaXQgY3JlYXRlU2VydmVyU3VwYWJhc2VDbGllbnQoKVxuICBjb25zdCB7IGRhdGE6IHsgdXNlciB9LCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRVc2VyKClcblxuICBpZiAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIHNlcnZlciB1c2VyOicsIGVycm9yKVxuICAgIHJldHVybiBudWxsXG4gIH1cblxuICByZXR1cm4gdXNlclxufVxuXG5leHBvcnQgY29uc3QgZ2V0U2VydmVyU2Vzc2lvbiA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpXG4gIGNvbnN0IHsgZGF0YTogeyBzZXNzaW9uIH0sIGVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZS5hdXRoLmdldFNlc3Npb24oKVxuXG4gIGlmIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgc2VydmVyIHNlc3Npb246JywgZXJyb3IpXG4gICAgcmV0dXJuIG51bGxcbiAgfVxuXG4gIHJldHVybiBzZXNzaW9uXG59XG5cbi8vIEFkbWluIGF1dGhlbnRpY2F0aW9uIGhlbHBlclxuZXhwb3J0IGNvbnN0IGdldFNlcnZlckFkbWluVXNlciA9IGFzeW5jICgpID0+IHtcbiAgY29uc3QgdXNlciA9IGF3YWl0IGdldFNlcnZlclVzZXIoKVxuXG4gIGlmICghdXNlcikge1xuICAgIHRocm93IG5ldyBFcnJvcignTm90IGF1dGhlbnRpY2F0ZWQnKVxuICB9XG5cbiAgLy8gQ2hlY2sgaWYgdXNlciBoYXMgYWRtaW4gcm9sZSBpbiB1c2VyIG1ldGFkYXRhIG9yIGluIGEgc2VwYXJhdGUgYWRtaW4gdGFibGVcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpXG5cbiAgLy8gT3B0aW9uIDE6IENoZWNrIHVzZXIgbWV0YWRhdGFcbiAgaWYgKHVzZXIudXNlcl9tZXRhZGF0YT8ucm9sZSA9PT0gJ2FkbWluJykge1xuICAgIHJldHVybiB1c2VyXG4gIH1cblxuICAvLyBPcHRpb24gMjogQ2hlY2sgYWRtaW4gdGFibGUgKGlmIGV4aXN0cylcbiAgY29uc3QgeyBkYXRhOiBhZG1pblJlY29yZCB9ID0gYXdhaXQgc3VwYWJhc2VcbiAgICAuZnJvbSgnYWRtaW5fdXNlcnMnKVxuICAgIC5zZWxlY3QoJyonKVxuICAgIC5lcSgndXNlcl9pZCcsIHVzZXIuaWQpXG4gICAgLnNpbmdsZSgpXG5cbiAgaWYgKCFhZG1pblJlY29yZCkge1xuICAgIHRocm93IG5ldyBFcnJvcignQWRtaW4gYWNjZXNzIHJlcXVpcmVkJylcbiAgfVxuXG4gIHJldHVybiB1c2VyXG59XG5cbi8vIERhdGFiYXNlIHF1ZXJ5IGhlbHBlcnMgd2l0aCBlcnJvciBoYW5kbGluZ1xuZXhwb3J0IGNvbnN0IHNhZmVRdWVyeSA9IGFzeW5jIDxUPihcbiAgcXVlcnlGbjogKGNsaWVudDogU2VydmVyU3VwYWJhc2VDbGllbnQpID0+IFByb21pc2U8eyBkYXRhOiBUOyBlcnJvcjogYW55IH0+XG4pOiBQcm9taXNlPFQ+ID0+IHtcbiAgY29uc3Qgc3VwYWJhc2UgPSBhd2FpdCBjcmVhdGVTZXJ2ZXJTdXBhYmFzZUNsaWVudCgpXG4gIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHF1ZXJ5Rm4oc3VwYWJhc2UpXG5cbiAgaWYgKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcXVlcnkgZXJyb3I6JywgZXJyb3IpXG5cbiAgICBpZiAoZXJyb3IuY29kZSA9PT0gJ1BHUlNUMTE2Jykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdSZXNvdXJjZSBub3QgZm91bmQnKVxuICAgIH1cblxuICAgIGlmIChlcnJvci5jb2RlID09PSAnNDI1MDEnKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0FjY2VzcyBkZW5pZWQnKVxuICAgIH1cblxuICAgIHRocm93IG5ldyBFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdEYXRhYmFzZSBxdWVyeSBmYWlsZWQnKVxuICB9XG5cbiAgcmV0dXJuIGRhdGFcbn1cblxuLy8gUHJvZHVjdCBxdWVyaWVzXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdHMgPSBhc3luYyAob3B0aW9ucz86IHtcbiAgbGltaXQ/OiBudW1iZXJcbiAgb2Zmc2V0PzogbnVtYmVyXG4gIGNhdGVnb3J5Pzogc3RyaW5nXG4gIGluU3RvY2s/OiBib29sZWFuXG59KSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgbGV0IHF1ZXJ5ID0gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd3aW5lX3Byb2R1Y3RzJylcbiAgICAgIC5zZWxlY3QoYFxuICAgICAgICAqLFxuICAgICAgICBwcm9kdWN0X2ltYWdlcyFpbm5lcihcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgYWx0X3RleHRfZW4sXG4gICAgICAgICAgYWx0X3RleHRfZnIsXG4gICAgICAgICAgaXNfcHJpbWFyeVxuICAgICAgICApXG4gICAgICBgKVxuICAgICAgLmVxKCdpc19hY3RpdmUnLCB0cnVlKVxuICAgICAgLmVxKCdwcm9kdWN0X2ltYWdlcy5pc19wcmltYXJ5JywgdHJ1ZSlcblxuICAgIGlmIChvcHRpb25zPy5jYXRlZ29yeSkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgnY2F0ZWdvcnknLCBvcHRpb25zLmNhdGVnb3J5KVxuICAgIH1cblxuICAgIGlmIChvcHRpb25zPy5pblN0b2NrKSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5Lmd0KCdzdG9ja19xdWFudGl0eScsIDApXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnM/LmxpbWl0KSB7XG4gICAgICBxdWVyeSA9IHF1ZXJ5LmxpbWl0KG9wdGlvbnMubGltaXQpXG4gICAgfVxuXG4gICAgaWYgKG9wdGlvbnM/Lm9mZnNldCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5yYW5nZShvcHRpb25zLm9mZnNldCwgb3B0aW9ucy5vZmZzZXQgKyAob3B0aW9ucy5saW1pdCB8fCAxMCkgLSAxKVxuICAgIH1cblxuICAgIHJldHVybiBxdWVyeS5vcmRlcignY3JlYXRlZF9hdCcsIHsgYXNjZW5kaW5nOiBmYWxzZSB9KVxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgZ2V0UHJvZHVjdEJ5SWQgPSBhc3luYyAoaWQ6IHN0cmluZykgPT4ge1xuICByZXR1cm4gc2FmZVF1ZXJ5KGFzeW5jIChzdXBhYmFzZSkgPT4ge1xuICAgIHJldHVybiBzdXBhYmFzZVxuICAgICAgLmZyb20oJ3dpbmVfcHJvZHVjdHMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2lkJywgaWQpXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAuc2luZ2xlKClcbiAgfSlcbn1cblxuZXhwb3J0IGNvbnN0IGdldFByb2R1Y3RCeVNsdWcgPSBhc3luYyAoc2x1Zzogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgcmV0dXJuIHN1cGFiYXNlXG4gICAgICAuZnJvbSgnd2luZV9wcm9kdWN0cycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgnc2x1ZycsIHNsdWcpXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAuc2luZ2xlKClcbiAgfSlcbn1cblxuLy8gQ2FydCBxdWVyaWVzXG5leHBvcnQgY29uc3QgZ2V0Q2FydEl0ZW1zID0gYXN5bmMgKHVzZXJJZDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgcmV0dXJuIHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FydF9pdGVtcycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgd2luZV9wcm9kdWN0cyAoKilcbiAgICAgIGApXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBhZGRUb0NhcnQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIHByb2R1Y3RJZDogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgLy8gQ2hlY2sgaWYgaXRlbSBhbHJlYWR5IGV4aXN0cyBpbiBjYXJ0XG4gICAgY29uc3QgeyBkYXRhOiBleGlzdGluZ0l0ZW0gfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FydF9pdGVtcycpXG4gICAgICAuc2VsZWN0KCcqJylcbiAgICAgIC5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICAgIC5lcSgncHJvZHVjdF9pZCcsIHByb2R1Y3RJZClcbiAgICAgIC5zaW5nbGUoKVxuXG4gICAgaWYgKGV4aXN0aW5nSXRlbSkge1xuICAgICAgLy8gVXBkYXRlIHF1YW50aXR5XG4gICAgICByZXR1cm4gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NhcnRfaXRlbXMnKVxuICAgICAgICAudXBkYXRlKHsgcXVhbnRpdHk6IGV4aXN0aW5nSXRlbS5xdWFudGl0eSArIHF1YW50aXR5IH0pXG4gICAgICAgIC5lcSgnaWQnLCBleGlzdGluZ0l0ZW0uaWQpXG4gICAgICAgIC5zZWxlY3QoKVxuICAgICAgICAuc2luZ2xlKClcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gSW5zZXJ0IG5ldyBpdGVtXG4gICAgICByZXR1cm4gc3VwYWJhc2VcbiAgICAgICAgLmZyb20oJ2NhcnRfaXRlbXMnKVxuICAgICAgICAuaW5zZXJ0KHtcbiAgICAgICAgICB1c2VyX2lkOiB1c2VySWQsXG4gICAgICAgICAgcHJvZHVjdF9pZDogcHJvZHVjdElkLFxuICAgICAgICAgIHF1YW50aXR5LFxuICAgICAgICB9KVxuICAgICAgICAuc2VsZWN0KClcbiAgICAgICAgLnNpbmdsZSgpXG4gICAgfVxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgdXBkYXRlQ2FydEl0ZW0gPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGl0ZW1JZDogc3RyaW5nLCBxdWFudGl0eTogbnVtYmVyKSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgcmV0dXJuIHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FydF9pdGVtcycpXG4gICAgICAudXBkYXRlKHsgcXVhbnRpdHkgfSlcbiAgICAgIC5lcSgnaWQnLCBpdGVtSWQpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gICAgICAuc2VsZWN0KClcbiAgICAgIC5zaW5nbGUoKVxuICB9KVxufVxuXG5leHBvcnQgY29uc3QgcmVtb3ZlRnJvbUNhcnQgPSBhc3luYyAodXNlcklkOiBzdHJpbmcsIGl0ZW1JZDogc3RyaW5nKSA9PiB7XG4gIHJldHVybiBzYWZlUXVlcnkoYXN5bmMgKHN1cGFiYXNlKSA9PiB7XG4gICAgcmV0dXJuIHN1cGFiYXNlXG4gICAgICAuZnJvbSgnY2FydF9pdGVtcycpXG4gICAgICAuZGVsZXRlKClcbiAgICAgIC5lcSgnaWQnLCBpdGVtSWQpXG4gICAgICAuZXEoJ3VzZXJfaWQnLCB1c2VySWQpXG4gIH0pXG59XG5cbi8vIE9yZGVyIHF1ZXJpZXNcbmV4cG9ydCBjb25zdCBjcmVhdGVPcmRlciA9IGFzeW5jIChvcmRlckRhdGE6IHtcbiAgdXNlcl9pZDogc3RyaW5nXG4gIGN1c3RvbWVyX2VtYWlsOiBzdHJpbmdcbiAgY3VzdG9tZXJfZmlyc3RfbmFtZTogc3RyaW5nXG4gIGN1c3RvbWVyX2xhc3RfbmFtZTogc3RyaW5nXG4gIHNoaXBwaW5nX2FkZHJlc3M6IGFueVxuICBiaWxsaW5nX2FkZHJlc3M/OiBhbnlcbiAgaXRlbXM6IEFycmF5PHtcbiAgICBwcm9kdWN0X2lkOiBzdHJpbmdcbiAgICBxdWFudGl0eTogbnVtYmVyXG4gICAgdW5pdF9wcmljZTogbnVtYmVyXG4gIH0+XG4gIHN1YnRvdGFsOiBudW1iZXJcbiAgdmF0X2Ftb3VudDogbnVtYmVyXG4gIHNoaXBwaW5nX2Nvc3Q6IG51bWJlclxuICB0b3RhbF9hbW91bnQ6IG51bWJlclxuICBwYXltZW50X21ldGhvZD86IHN0cmluZ1xuICBzdGF0dXM/OiBzdHJpbmdcbn0pID0+IHtcbiAgcmV0dXJuIHNhZmVRdWVyeShhc3luYyAoc3VwYWJhc2UpID0+IHtcbiAgICAvLyBTdGFydCB0cmFuc2FjdGlvbiBieSBjcmVhdGluZyBvcmRlciBmaXJzdFxuICAgIGNvbnN0IHsgZGF0YTogb3JkZXIsIGVycm9yOiBvcmRlckVycm9yIH0gPSBhd2FpdCBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuaW5zZXJ0KHtcbiAgICAgICAgdXNlcl9pZDogb3JkZXJEYXRhLnVzZXJfaWQsXG4gICAgICAgIGN1c3RvbWVyX2VtYWlsOiBvcmRlckRhdGEuY3VzdG9tZXJfZW1haWwsXG4gICAgICAgIGN1c3RvbWVyX2ZpcnN0X25hbWU6IG9yZGVyRGF0YS5jdXN0b21lcl9maXJzdF9uYW1lLFxuICAgICAgICBjdXN0b21lcl9sYXN0X25hbWU6IG9yZGVyRGF0YS5jdXN0b21lcl9sYXN0X25hbWUsXG4gICAgICAgIHNoaXBwaW5nX2FkZHJlc3M6IG9yZGVyRGF0YS5zaGlwcGluZ19hZGRyZXNzLFxuICAgICAgICBiaWxsaW5nX2FkZHJlc3M6IG9yZGVyRGF0YS5iaWxsaW5nX2FkZHJlc3MgfHwgb3JkZXJEYXRhLnNoaXBwaW5nX2FkZHJlc3MsXG4gICAgICAgIHN1YnRvdGFsOiBvcmRlckRhdGEuc3VidG90YWwsXG4gICAgICAgIHZhdF9hbW91bnQ6IG9yZGVyRGF0YS52YXRfYW1vdW50LFxuICAgICAgICBzaGlwcGluZ19jb3N0OiBvcmRlckRhdGEuc2hpcHBpbmdfY29zdCxcbiAgICAgICAgdG90YWxfYW1vdW50OiBvcmRlckRhdGEudG90YWxfYW1vdW50LFxuICAgICAgICBwYXltZW50X21ldGhvZDogb3JkZXJEYXRhLnBheW1lbnRfbWV0aG9kIHx8ICdtb2xsaWUnLFxuICAgICAgICBzdGF0dXM6IG9yZGVyRGF0YS5zdGF0dXMgfHwgJ3BlbmRpbmcnLFxuICAgICAgfSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG5cbiAgICBpZiAob3JkZXJFcnJvcikgdGhyb3cgb3JkZXJFcnJvclxuXG4gICAgLy8gSW5zZXJ0IG9yZGVyIGl0ZW1zXG4gICAgY29uc3Qgb3JkZXJJdGVtcyA9IG9yZGVyRGF0YS5pdGVtcy5tYXAoaXRlbSA9PiAoe1xuICAgICAgb3JkZXJfaWQ6IG9yZGVyLmlkLFxuICAgICAgcHJvZHVjdF9pZDogaXRlbS5wcm9kdWN0X2lkLFxuICAgICAgcXVhbnRpdHk6IGl0ZW0ucXVhbnRpdHksXG4gICAgICB1bml0X3ByaWNlOiBpdGVtLnVuaXRfcHJpY2UsXG4gICAgICB0b3RhbF9wcmljZTogaXRlbS5xdWFudGl0eSAqIGl0ZW0udW5pdF9wcmljZSxcbiAgICB9KSlcblxuICAgIGNvbnN0IHsgZXJyb3I6IGl0ZW1zRXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlXG4gICAgICAuZnJvbSgnb3JkZXJfaXRlbXMnKVxuICAgICAgLmluc2VydChvcmRlckl0ZW1zKVxuXG4gICAgaWYgKGl0ZW1zRXJyb3IpIHRocm93IGl0ZW1zRXJyb3JcblxuICAgIHJldHVybiB7IGRhdGE6IG9yZGVyLCBlcnJvcjogbnVsbCB9XG4gIH0pXG59XG5cbmV4cG9ydCBjb25zdCBnZXRPcmRlckJ5SWQgPSBhc3luYyAob3JkZXJJZDogc3RyaW5nLCB1c2VySWQ/OiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHNhZmVRdWVyeShhc3luYyAoc3VwYWJhc2UpID0+IHtcbiAgICBsZXQgcXVlcnkgPSBzdXBhYmFzZVxuICAgICAgLmZyb20oJ29yZGVycycpXG4gICAgICAuc2VsZWN0KGBcbiAgICAgICAgKixcbiAgICAgICAgb3JkZXJfaXRlbXMgKFxuICAgICAgICAgICosXG4gICAgICAgICAgd2luZV9wcm9kdWN0cyAoKilcbiAgICAgICAgKVxuICAgICAgYClcbiAgICAgIC5lcSgnaWQnLCBvcmRlcklkKVxuXG4gICAgaWYgKHVzZXJJZCkge1xuICAgICAgcXVlcnkgPSBxdWVyeS5lcSgndXNlcl9pZCcsIHVzZXJJZClcbiAgICB9XG5cbiAgICByZXR1cm4gcXVlcnkuc2luZ2xlKClcbiAgfSlcbn1cblxuLy8gQ3VzdG9tZXIgcXVlcmllc1xuZXhwb3J0IGNvbnN0IGNyZWF0ZU9yVXBkYXRlQ3VzdG9tZXIgPSBhc3luYyAodXNlckRhdGE6IHtcbiAgdXNlcl9pZDogc3RyaW5nXG4gIGVtYWlsOiBzdHJpbmdcbiAgZmlyc3RfbmFtZTogc3RyaW5nXG4gIGxhc3RfbmFtZTogc3RyaW5nXG4gIGJpcnRoX2RhdGU/OiBzdHJpbmdcbiAgcGhvbmU/OiBzdHJpbmdcbn0pID0+IHtcbiAgcmV0dXJuIHNhZmVRdWVyeShhc3luYyAoc3VwYWJhc2UpID0+IHtcbiAgICByZXR1cm4gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCdjdXN0b21lcnMnKVxuICAgICAgLnVwc2VydCh1c2VyRGF0YSwgeyBvbkNvbmZsaWN0OiAndXNlcl9pZCcgfSlcbiAgICAgIC5zZWxlY3QoKVxuICAgICAgLnNpbmdsZSgpXG4gIH0pXG59XG5cbi8vIFZBVCByYXRlIHF1ZXJpZXNcbmV4cG9ydCBjb25zdCBnZXRWYXRSYXRlQnlDb3VudHJ5ID0gYXN5bmMgKGNvdW50cnlDb2RlOiBzdHJpbmcpID0+IHtcbiAgcmV0dXJuIHNhZmVRdWVyeShhc3luYyAoc3VwYWJhc2UpID0+IHtcbiAgICByZXR1cm4gc3VwYWJhc2VcbiAgICAgIC5mcm9tKCd2YXRfcmF0ZXMnKVxuICAgICAgLnNlbGVjdCgnKicpXG4gICAgICAuZXEoJ2NvdW50cnlfY29kZScsIGNvdW50cnlDb2RlLnRvVXBwZXJDYXNlKCkpXG4gICAgICAuZXEoJ2lzX2FjdGl2ZScsIHRydWUpXG4gICAgICAuc2luZ2xlKClcbiAgfSlcbn0iXSwibmFtZXMiOlsiY3JlYXRlU2VydmVyQ2xpZW50IiwiY29va2llcyIsImNyZWF0ZVNlcnZlclN1cGFiYXNlQ2xpZW50IiwiY29va2llU3RvcmUiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfVVJMIiwiTkVYVF9QVUJMSUNfU1VQQUJBU0VfQU5PTl9LRVkiLCJnZXQiLCJuYW1lIiwidmFsdWUiLCJzZXQiLCJvcHRpb25zIiwicmVtb3ZlIiwiZGVsZXRlIiwiY3JlYXRlUm91dGVIYW5kbGVyU3VwYWJhc2VDbGllbnQiLCJyZXF1ZXN0IiwiZ2V0U2VydmVyVXNlciIsInN1cGFiYXNlIiwiZGF0YSIsInVzZXIiLCJlcnJvciIsImF1dGgiLCJnZXRVc2VyIiwiY29uc29sZSIsImdldFNlcnZlclNlc3Npb24iLCJzZXNzaW9uIiwiZ2V0U2Vzc2lvbiIsImdldFNlcnZlckFkbWluVXNlciIsIkVycm9yIiwidXNlcl9tZXRhZGF0YSIsInJvbGUiLCJhZG1pblJlY29yZCIsImZyb20iLCJzZWxlY3QiLCJlcSIsImlkIiwic2luZ2xlIiwic2FmZVF1ZXJ5IiwicXVlcnlGbiIsImNvZGUiLCJtZXNzYWdlIiwiZ2V0UHJvZHVjdHMiLCJxdWVyeSIsImNhdGVnb3J5IiwiaW5TdG9jayIsImd0IiwibGltaXQiLCJvZmZzZXQiLCJyYW5nZSIsIm9yZGVyIiwiYXNjZW5kaW5nIiwiZ2V0UHJvZHVjdEJ5SWQiLCJnZXRQcm9kdWN0QnlTbHVnIiwic2x1ZyIsImdldENhcnRJdGVtcyIsInVzZXJJZCIsImFkZFRvQ2FydCIsInByb2R1Y3RJZCIsInF1YW50aXR5IiwiZXhpc3RpbmdJdGVtIiwidXBkYXRlIiwiaW5zZXJ0IiwidXNlcl9pZCIsInByb2R1Y3RfaWQiLCJ1cGRhdGVDYXJ0SXRlbSIsIml0ZW1JZCIsInJlbW92ZUZyb21DYXJ0IiwiY3JlYXRlT3JkZXIiLCJvcmRlckRhdGEiLCJvcmRlckVycm9yIiwiY3VzdG9tZXJfZW1haWwiLCJjdXN0b21lcl9maXJzdF9uYW1lIiwiY3VzdG9tZXJfbGFzdF9uYW1lIiwic2hpcHBpbmdfYWRkcmVzcyIsImJpbGxpbmdfYWRkcmVzcyIsInN1YnRvdGFsIiwidmF0X2Ftb3VudCIsInNoaXBwaW5nX2Nvc3QiLCJ0b3RhbF9hbW91bnQiLCJwYXltZW50X21ldGhvZCIsInN0YXR1cyIsIm9yZGVySXRlbXMiLCJpdGVtcyIsIm1hcCIsIml0ZW0iLCJvcmRlcl9pZCIsInVuaXRfcHJpY2UiLCJ0b3RhbF9wcmljZSIsIml0ZW1zRXJyb3IiLCJnZXRPcmRlckJ5SWQiLCJvcmRlcklkIiwiY3JlYXRlT3JVcGRhdGVDdXN0b21lciIsInVzZXJEYXRhIiwidXBzZXJ0Iiwib25Db25mbGljdCIsImdldFZhdFJhdGVCeUNvdW50cnkiLCJjb3VudHJ5Q29kZSIsInRvVXBwZXJDYXNlIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/supabase/server.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validators/schemas.ts":
/*!***************************************!*\
  !*** ./src/lib/validators/schemas.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCartSchema: () => (/* binding */ addToCartSchema),\n/* harmony export */   addressSchema: () => (/* binding */ addressSchema),\n/* harmony export */   adminLoginSchema: () => (/* binding */ adminLoginSchema),\n/* harmony export */   adminUserSchema: () => (/* binding */ adminUserSchema),\n/* harmony export */   ageVerificationSchema: () => (/* binding */ ageVerificationSchema),\n/* harmony export */   changePasswordSchema: () => (/* binding */ changePasswordSchema),\n/* harmony export */   checkoutBillingSchema: () => (/* binding */ checkoutBillingSchema),\n/* harmony export */   checkoutCustomerSchema: () => (/* binding */ checkoutCustomerSchema),\n/* harmony export */   checkoutPaymentSchema: () => (/* binding */ checkoutPaymentSchema),\n/* harmony export */   checkoutShippingSchema: () => (/* binding */ checkoutShippingSchema),\n/* harmony export */   completeCheckoutSchema: () => (/* binding */ completeCheckoutSchema),\n/* harmony export */   contactFormSchema: () => (/* binding */ contactFormSchema),\n/* harmony export */   customerLoginSchema: () => (/* binding */ customerLoginSchema),\n/* harmony export */   customerRegistrationSchema: () => (/* binding */ customerRegistrationSchema),\n/* harmony export */   forgotPasswordSchema: () => (/* binding */ forgotPasswordSchema),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   hasErrors: () => (/* binding */ hasErrors),\n/* harmony export */   imageUploadSchema: () => (/* binding */ imageUploadSchema),\n/* harmony export */   inventoryAdjustmentSchema: () => (/* binding */ inventoryAdjustmentSchema),\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   newsletterSchema: () => (/* binding */ newsletterSchema),\n/* harmony export */   orderSchema: () => (/* binding */ orderSchema),\n/* harmony export */   productSchema: () => (/* binding */ productSchema),\n/* harmony export */   productSearchSchema: () => (/* binding */ productSearchSchema),\n/* harmony export */   registerSchema: () => (/* binding */ registerSchema),\n/* harmony export */   resetPasswordSchema: () => (/* binding */ resetPasswordSchema),\n/* harmony export */   shippingRateSchema: () => (/* binding */ shippingRateSchema),\n/* harmony export */   updateCartItemSchema: () => (/* binding */ updateCartItemSchema),\n/* harmony export */   validateSchema: () => (/* binding */ validateSchema),\n/* harmony export */   vatCalculationSchema: () => (/* binding */ vatCalculationSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n\n// Common validation patterns\nconst emailSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().email('Please enter a valid email address');\nconst phoneSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^(\\+\\d{1,3}[- ]?)?\\d{8,15}$/, 'Please enter a valid phone number').optional();\nconst postalCodeSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'Postal code must be at least 3 characters').max(10, 'Postal code cannot exceed 10 characters');\nconst passwordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, 'Password must be at least 8 characters').regex(/[A-Z]/, 'Password must contain at least one uppercase letter').regex(/[a-z]/, 'Password must contain at least one lowercase letter').regex(/\\d/, 'Password must contain at least one number').regex(/[!@#$%^&*]/, 'Password must contain at least one special character');\n// Age verification schemas\nconst ageVerificationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    birthDay: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Please select a valid day').max(31, 'Please select a valid day'),\n    birthMonth: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Please select a valid month').max(12, 'Please select a valid month'),\n    birthYear: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1900, 'Please enter a realistic birth year').max(new Date().getFullYear(), 'Birth year cannot be in the future'),\n    documentType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'id_card',\n        'passport',\n        'drivers_license'\n    ]).optional(),\n    documentNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code').optional()\n}).refine((data)=>{\n    // Validate birth date\n    const birthDate = new Date(data.birthYear, data.birthMonth - 1, data.birthDay);\n    return !isNaN(birthDate.getTime()) && birthDate <= new Date();\n}, {\n    message: 'Please enter a valid birth date',\n    path: [\n        'birthDay'\n    ]\n});\n// Customer registration schemas\nconst customerRegistrationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name must be at least 2 characters').max(50, 'First name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'First name contains invalid characters'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name must be at least 2 characters').max(50, 'Last name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Last name contains invalid characters'),\n    phone: phoneSchema,\n    birthDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((date)=>{\n        const birthDate = new Date(date);\n        const age = new Date().getFullYear() - birthDate.getFullYear();\n        return !isNaN(birthDate.getTime()) && age >= 16 && age <= 120;\n    }, 'You must be at least 16 years old to register'),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions'),\n    acceptPrivacy: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the privacy policy'),\n    acceptMarketing: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Please select a country')\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\n// Authentication schemas\nconst loginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Password is required'),\n    rememberMe: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst registerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name must be at least 2 characters').max(50, 'First name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'First name contains invalid characters'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name must be at least 2 characters').max(50, 'Last name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Last name contains invalid characters'),\n    phone: phoneSchema,\n    birthDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((date)=>{\n        const birthDate = new Date(date);\n        const age = new Date().getFullYear() - birthDate.getFullYear();\n        return !isNaN(birthDate.getTime()) && age >= 18 && age <= 120;\n    }, 'You must be at least 18 years old to register'),\n    preferredLanguage: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'en',\n        'fr'\n    ]),\n    marketingConsent: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    newsletterConsent: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isBusiness: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    companyName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Company name is required').optional(),\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^[A-Z]{2}[0-9A-Z]+$/, 'Invalid VAT number format').optional(),\n    termsAccepted: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions'),\n    privacyAccepted: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the privacy policy')\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n}).refine((data)=>{\n    if (data.isBusiness) {\n        return data.companyName && data.companyName.length >= 2;\n    }\n    return true;\n}, {\n    message: 'Company name is required for business accounts',\n    path: [\n        'companyName'\n    ]\n});\nconst forgotPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema\n});\nconst resetPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    token: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Reset token is required'),\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\nconst changePasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    currentPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Current password is required'),\n    newPassword: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n}).refine((data)=>data.newPassword === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\n// Legacy alias for backward compatibility\nconst customerLoginSchema = loginSchema;\n// Address schemas\nconst addressSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    company: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    address: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(5, 'Street address is required'),\n    address2: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'City is required'),\n    postalCode: postalCodeSchema,\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Please select a country'),\n    phone: phoneSchema\n});\n// Checkout schemas\nconst checkoutCustomerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    phone: phoneSchema,\n    createAccount: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n}).refine((data)=>{\n    if (data.createAccount) {\n        return data.password && data.password.length >= 8;\n    }\n    return true;\n}, {\n    message: 'Password is required when creating an account',\n    path: [\n        'password'\n    ]\n});\nconst checkoutShippingSchema = addressSchema;\nconst checkoutBillingSchema = addressSchema.extend({\n    sameAsShipping: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst checkoutPaymentSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    paymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'mollie',\n        'stripe',\n        'paypal'\n    ]),\n    savePaymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions')\n});\nconst completeCheckoutSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    customer: checkoutCustomerSchema,\n    shipping: checkoutShippingSchema,\n    billing: checkoutBillingSchema,\n    payment: checkoutPaymentSchema,\n    ageVerification: ageVerificationSchema,\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    specialInstructions: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Special instructions cannot exceed 500 characters').optional()\n});\n// Cart schemas\nconst addToCartSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n    quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').max(24, 'Maximum 24 bottles per product').int('Quantity must be a whole number'),\n    variantId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nconst updateCartItemSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    itemId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid cart item ID'),\n    quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Quantity must be 0 or more').max(24, 'Maximum 24 bottles per product').int('Quantity must be a whole number')\n});\n// Product schemas (for admin)\nconst productSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'Product name must be at least 3 characters').max(100, 'Product name cannot exceed 100 characters'),\n    sku: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'SKU must be at least 3 characters').max(50, 'SKU cannot exceed 50 characters').regex(/^[A-Z0-9-]+$/, 'SKU must contain only uppercase letters, numbers, and hyphens'),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'Description must be at least 10 characters').max(2000, 'Description cannot exceed 2000 characters'),\n    price: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Price must be at least €0.01').max(100000, 'Price cannot exceed €1,000.00'),\n    stockQuantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Stock quantity cannot be negative').max(10000, 'Stock quantity cannot exceed 10,000').int('Stock quantity must be a whole number'),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'red_wine',\n        'white_wine',\n        'rose_wine',\n        'sparkling_wine',\n        'dessert_wine',\n        'fortified_wine'\n    ]),\n    vintage: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1800, 'Vintage must be realistic').max(new Date().getFullYear(), 'Vintage cannot be in the future').optional(),\n    alcoholContent: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0.5, 'Alcohol content must be at least 0.5%').max(20, 'Alcohol content cannot exceed 20%').optional(),\n    grapeVariety: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Grape variety name too long').optional(),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Region name too long').optional(),\n    producer: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Producer name too long').optional(),\n    volume: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(187, 'Minimum volume is 187ml').max(3000, 'Maximum volume is 3000ml').optional(),\n    servingTemperature: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(50, 'Serving temperature description too long').optional(),\n    agingPotential: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Aging potential description too long').optional(),\n    pairingNotes: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Pairing notes too long').optional(),\n    status: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'active',\n        'inactive',\n        'out_of_stock',\n        'discontinued'\n    ]),\n    isFeatured: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isOrganic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isBiodynamic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.string().url('Please enter a valid image URL').optional(),\n    galleryImages: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string().url()).max(10, 'Maximum 10 gallery images').optional()\n});\n// Order schemas\nconst orderSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    customerId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid customer ID').optional(),\n    customerEmail: emailSchema,\n    customerFirstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    customerLastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    shippingAddress: addressSchema,\n    billingAddress: addressSchema,\n    items: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n        quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').int(),\n        unitPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Unit price must be positive')\n    })).min(1, 'Order must contain at least one item'),\n    subtotal: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Subtotal cannot be negative'),\n    vatAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'VAT amount cannot be negative'),\n    shippingCost: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Shipping cost cannot be negative'),\n    totalAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Total amount must be positive'),\n    paymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Payment method is required'),\n    specialInstructions: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Special instructions too long').optional(),\n    giftMessage: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'Gift message too long').optional()\n});\n// Contact form schemas\nconst contactFormSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Name must be at least 2 characters').max(100, 'Name cannot exceed 100 characters'),\n    email: emailSchema,\n    subject: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(5, 'Subject must be at least 5 characters').max(100, 'Subject cannot exceed 100 characters'),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'Message must be at least 10 characters').max(1000, 'Message cannot exceed 1000 characters'),\n    phone: phoneSchema,\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'general',\n        'orders',\n        'products',\n        'shipping',\n        'returns',\n        'technical'\n    ]).optional()\n});\n// Newsletter subscription schema\nconst newsletterSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required').optional(),\n    preferences: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        newProducts: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        specialOffers: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        wineEvents: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        wineEducation: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n    }).optional(),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions')\n});\n// Admin schemas\nconst adminLoginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Password is required'),\n    twoFactorCode: zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^\\d{6}$/, '2FA code must be 6 digits').optional()\n});\nconst adminUserSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'admin',\n        'manager',\n        'staff'\n    ]),\n    permissions: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).optional(),\n    isActive: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    password: passwordSchema.optional()\n});\n// Inventory management schemas\nconst inventoryAdjustmentSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n    adjustment: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(-1000, 'Adjustment too large').max(1000, 'Adjustment too large').int('Adjustment must be a whole number'),\n    reason: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'received',\n        'sold',\n        'damaged',\n        'expired',\n        'returned',\n        'correction',\n        'other'\n    ]),\n    notes: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Notes cannot exceed 500 characters').optional(),\n    reference: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Reference cannot exceed 100 characters').optional()\n});\n// Shipping rate calculation schema\nconst shippingRateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    destination: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code'),\n        postalCode: postalCodeSchema,\n        city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'City is required')\n    }),\n    items: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n        quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').int(),\n        weight: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Weight must be positive').optional()\n    })).min(1, 'At least one item is required'),\n    totalValue: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Total value must be positive')\n});\n// VAT calculation schema\nconst vatCalculationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    amount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Amount must be positive'),\n    shippingAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Shipping amount cannot be negative').optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code'),\n    customerType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'consumer',\n        'business'\n    ]).optional(),\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n// Search and filter schemas\nconst productSearchSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    query: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Search query too long').optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'red_wine',\n        'white_wine',\n        'rose_wine',\n        'sparkling_wine',\n        'dessert_wine',\n        'fortified_wine'\n    ]).optional(),\n    minPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Minimum price cannot be negative').optional(),\n    maxPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Maximum price cannot be negative').optional(),\n    vintage: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1800, 'Vintage too old').max(new Date().getFullYear(), 'Vintage cannot be in the future').optional(),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Region name too long').optional(),\n    inStock: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isOrganic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    sortBy: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'name',\n        'price',\n        'vintage',\n        'created_at',\n        'popularity'\n    ]).optional(),\n    sortOrder: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'asc',\n        'desc'\n    ]).optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Limit must be at least 1').max(100, 'Limit cannot exceed 100').optional(),\n    offset: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Offset cannot be negative').optional()\n});\n// File upload schemas\nconst imageUploadSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    file: zod__WEBPACK_IMPORTED_MODULE_0__.any().refine((file)=>file instanceof File, 'Please select a valid file').refine((file)=>file.size <= 5 * 1024 * 1024, 'File size must be less than 5MB').refine((file)=>[\n            'image/jpeg',\n            'image/png',\n            'image/webp'\n        ].includes(file.type), 'File must be JPEG, PNG, or WebP format'),\n    alt: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'Alt text cannot exceed 200 characters').optional()\n});\n// Validation helper functions\nconst validateSchema = (schema, data)=>{\n    try {\n        const result = schema.parse(data);\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError) {\n            const errors = {};\n            for (const issue of error.issues){\n                const path = issue.path.join('.');\n                if (!errors[path]) {\n                    errors[path] = [];\n                }\n                errors[path].push(issue.message);\n            }\n            return {\n                success: false,\n                errors\n            };\n        }\n        return {\n            success: false,\n            errors: {\n                general: [\n                    'Validation failed'\n                ]\n            }\n        };\n    }\n};\nconst getErrorMessage = (errors, field)=>{\n    return errors[field]?.[0] || '';\n};\nconst hasErrors = (errors)=>{\n    return Object.keys(errors).length > 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUUsT0FBT0csT0FBTztRQUNkLElBQUlBLGlCQUFpQm5MLHlDQUFVLEVBQUU7WUFDL0IsTUFBTXFMLFNBQW1DLENBQUM7WUFFMUMsS0FBSyxNQUFNQyxTQUFTSCxNQUFNSSxNQUFNLENBQUU7Z0JBQ2hDLE1BQU16SixPQUFPd0osTUFBTXhKLElBQUksQ0FBQzBKLElBQUksQ0FBQztnQkFDN0IsSUFBSSxDQUFDSCxNQUFNLENBQUN2SixLQUFLLEVBQUU7b0JBQ2pCdUosTUFBTSxDQUFDdkosS0FBSyxHQUFHLEVBQUU7Z0JBQ25CO2dCQUNBdUosTUFBTSxDQUFDdkosS0FBSyxDQUFDMkosSUFBSSxDQUFDSCxNQUFNekosT0FBTztZQUNqQztZQUVBLE9BQU87Z0JBQUVxSixTQUFTO2dCQUFPRztZQUFPO1FBQ2xDO1FBRUEsT0FBTztZQUFFSCxTQUFTO1lBQU9HLFFBQVE7Z0JBQUVLLFNBQVM7b0JBQUM7aUJBQW9CO1lBQUM7UUFBRTtJQUN0RTtBQUNGLEVBQUM7QUFFTSxNQUFNQyxrQkFBa0IsQ0FBQ04sUUFBa0NPO0lBQ2hFLE9BQU9QLE1BQU0sQ0FBQ08sTUFBTSxFQUFFLENBQUMsRUFBRSxJQUFJO0FBQy9CLEVBQUM7QUFFTSxNQUFNQyxZQUFZLENBQUNSO0lBQ3hCLE9BQU9TLE9BQU9DLElBQUksQ0FBQ1YsUUFBUTlKLE1BQU0sR0FBRztBQUN0QyxFQUFDIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG9saXZpXFxEb21haW5lIFZhbGxvdFxcc3JjXFxsaWJcXHZhbGlkYXRvcnNcXHNjaGVtYXMudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCdcblxuLy8gQ29tbW9uIHZhbGlkYXRpb24gcGF0dGVybnNcbmNvbnN0IGVtYWlsU2NoZW1hID0gei5zdHJpbmcoKS5lbWFpbCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgZW1haWwgYWRkcmVzcycpXG5jb25zdCBwaG9uZVNjaGVtYSA9IHouc3RyaW5nKCkucmVnZXgoXG4gIC9eKFxcK1xcZHsxLDN9Wy0gXT8pP1xcZHs4LDE1fSQvLFxuICAnUGxlYXNlIGVudGVyIGEgdmFsaWQgcGhvbmUgbnVtYmVyJ1xuKS5vcHRpb25hbCgpXG5cbmNvbnN0IHBvc3RhbENvZGVTY2hlbWEgPSB6LnN0cmluZygpXG4gIC5taW4oMywgJ1Bvc3RhbCBjb2RlIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgLm1heCgxMCwgJ1Bvc3RhbCBjb2RlIGNhbm5vdCBleGNlZWQgMTAgY2hhcmFjdGVycycpXG5cbmNvbnN0IHBhc3N3b3JkU2NoZW1hID0gei5zdHJpbmcoKVxuICAubWluKDgsICdQYXNzd29yZCBtdXN0IGJlIGF0IGxlYXN0IDggY2hhcmFjdGVycycpXG4gIC5yZWdleCgvW0EtWl0vLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSB1cHBlcmNhc2UgbGV0dGVyJylcbiAgLnJlZ2V4KC9bYS16XS8sICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGxvd2VyY2FzZSBsZXR0ZXInKVxuICAucmVnZXgoL1xcZC8sICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIG51bWJlcicpXG4gIC5yZWdleCgvWyFAIyQlXiYqXS8sICdQYXNzd29yZCBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIHNwZWNpYWwgY2hhcmFjdGVyJylcblxuLy8gQWdlIHZlcmlmaWNhdGlvbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgYWdlVmVyaWZpY2F0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBiaXJ0aERheTogei5udW1iZXIoKVxuICAgIC5taW4oMSwgJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCBkYXknKVxuICAgIC5tYXgoMzEsICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgZGF5JyksXG4gIGJpcnRoTW9udGg6IHoubnVtYmVyKClcbiAgICAubWluKDEsICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgbW9udGgnKVxuICAgIC5tYXgoMTIsICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgbW9udGgnKSxcbiAgYmlydGhZZWFyOiB6Lm51bWJlcigpXG4gICAgLm1pbigxOTAwLCAnUGxlYXNlIGVudGVyIGEgcmVhbGlzdGljIGJpcnRoIHllYXInKVxuICAgIC5tYXgobmV3IERhdGUoKS5nZXRGdWxsWWVhcigpLCAnQmlydGggeWVhciBjYW5ub3QgYmUgaW4gdGhlIGZ1dHVyZScpLFxuICBkb2N1bWVudFR5cGU6IHouZW51bShbJ2lkX2NhcmQnLCAncGFzc3BvcnQnLCAnZHJpdmVyc19saWNlbnNlJ10pLm9wdGlvbmFsKCksXG4gIGRvY3VtZW50TnVtYmVyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNvdW50cnk6IHouc3RyaW5nKCkubGVuZ3RoKDIsICdDb3VudHJ5IG11c3QgYmUgYSAyLWxldHRlciBjb2RlJykub3B0aW9uYWwoKVxufSkucmVmaW5lKFxuICAoZGF0YSkgPT4ge1xuICAgIC8vIFZhbGlkYXRlIGJpcnRoIGRhdGVcbiAgICBjb25zdCBiaXJ0aERhdGUgPSBuZXcgRGF0ZShkYXRhLmJpcnRoWWVhciwgZGF0YS5iaXJ0aE1vbnRoIC0gMSwgZGF0YS5iaXJ0aERheSlcbiAgICByZXR1cm4gIWlzTmFOKGJpcnRoRGF0ZS5nZXRUaW1lKCkpICYmIGJpcnRoRGF0ZSA8PSBuZXcgRGF0ZSgpXG4gIH0sXG4gIHtcbiAgICBtZXNzYWdlOiAnUGxlYXNlIGVudGVyIGEgdmFsaWQgYmlydGggZGF0ZScsXG4gICAgcGF0aDogWydiaXJ0aERheSddXG4gIH1cbilcblxuLy8gQ3VzdG9tZXIgcmVnaXN0cmF0aW9uIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBjdXN0b21lclJlZ2lzdHJhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICBwYXNzd29yZDogcGFzc3dvcmRTY2hlbWEsXG4gIGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKSxcbiAgZmlyc3ROYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigyLCAnRmlyc3QgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycycpXG4gICAgLm1heCg1MCwgJ0ZpcnN0IG5hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzJylcbiAgICAucmVnZXgoL15bYS16QS1aw4Atw79cXHMnLV0rJC8sICdGaXJzdCBuYW1lIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpLFxuICBsYXN0TmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ0xhc3QgbmFtZSBtdXN0IGJlIGF0IGxlYXN0IDIgY2hhcmFjdGVycycpXG4gICAgLm1heCg1MCwgJ0xhc3QgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXpBLVrDgC3Dv1xccyctXSskLywgJ0xhc3QgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSxcbiAgcGhvbmU6IHBob25lU2NoZW1hLFxuICBiaXJ0aERhdGU6IHouc3RyaW5nKCkucmVmaW5lKFxuICAgIChkYXRlKSA9PiB7XG4gICAgICBjb25zdCBiaXJ0aERhdGUgPSBuZXcgRGF0ZShkYXRlKVxuICAgICAgY29uc3QgYWdlID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpIC0gYmlydGhEYXRlLmdldEZ1bGxZZWFyKClcbiAgICAgIHJldHVybiAhaXNOYU4oYmlydGhEYXRlLmdldFRpbWUoKSkgJiYgYWdlID49IDE2ICYmIGFnZSA8PSAxMjBcbiAgICB9LFxuICAgICdZb3UgbXVzdCBiZSBhdCBsZWFzdCAxNiB5ZWFycyBvbGQgdG8gcmVnaXN0ZXInXG4gICksXG4gIGFjY2VwdFRlcm1zOiB6LmJvb2xlYW4oKS5yZWZpbmUodmFsID0+IHZhbCA9PT0gdHJ1ZSwgJ1lvdSBtdXN0IGFjY2VwdCB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMnKSxcbiAgYWNjZXB0UHJpdmFjeTogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5JyksXG4gIGFjY2VwdE1hcmtldGluZzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgY291bnRyeTogei5zdHJpbmcoKS5sZW5ndGgoMiwgJ1BsZWFzZSBzZWxlY3QgYSBjb3VudHJ5Jylcbn0pLnJlZmluZShcbiAgKGRhdGEpID0+IGRhdGEucGFzc3dvcmQgPT09IGRhdGEuY29uZmlybVBhc3N3b3JkLFxuICB7XG4gICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLFxuICAgIHBhdGg6IFsnY29uZmlybVBhc3N3b3JkJ11cbiAgfVxuKVxuXG4vLyBBdXRoZW50aWNhdGlvbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgbG9naW5TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkubWluKDEsICdQYXNzd29yZCBpcyByZXF1aXJlZCcpLFxuICByZW1lbWJlck1lOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KVxuXG5leHBvcnQgY29uc3QgcmVnaXN0ZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgcGFzc3dvcmQ6IHBhc3N3b3JkU2NoZW1hLFxuICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKCksXG4gIGZpcnN0TmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ0ZpcnN0IG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoNTAsICdGaXJzdCBuYW1lIGNhbm5vdCBleGNlZWQgNTAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWsOALcO/XFxzJy1dKyQvLCAnRmlyc3QgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSxcbiAgbGFzdE5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDIsICdMYXN0IG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoNTAsICdMYXN0IG5hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzJylcbiAgICAucmVnZXgoL15bYS16QS1aw4Atw79cXHMnLV0rJC8sICdMYXN0IG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJyksXG4gIHBob25lOiBwaG9uZVNjaGVtYSxcbiAgYmlydGhEYXRlOiB6LnN0cmluZygpLnJlZmluZShcbiAgICAoZGF0ZSkgPT4ge1xuICAgICAgY29uc3QgYmlydGhEYXRlID0gbmV3IERhdGUoZGF0ZSlcbiAgICAgIGNvbnN0IGFnZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIGJpcnRoRGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICByZXR1cm4gIWlzTmFOKGJpcnRoRGF0ZS5nZXRUaW1lKCkpICYmIGFnZSA+PSAxOCAmJiBhZ2UgPD0gMTIwXG4gICAgfSxcbiAgICAnWW91IG11c3QgYmUgYXQgbGVhc3QgMTggeWVhcnMgb2xkIHRvIHJlZ2lzdGVyJ1xuICApLFxuICBwcmVmZXJyZWRMYW5ndWFnZTogei5lbnVtKFsnZW4nLCAnZnInXSksXG4gIG1hcmtldGluZ0NvbnNlbnQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIG5ld3NsZXR0ZXJDb25zZW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBpc0J1c2luZXNzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBjb21wYW55TmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ0NvbXBhbnkgbmFtZSBpcyByZXF1aXJlZCcpLm9wdGlvbmFsKCksXG4gIHZhdE51bWJlcjogei5zdHJpbmcoKS5yZWdleCgvXltBLVpdezJ9WzAtOUEtWl0rJC8sICdJbnZhbGlkIFZBVCBudW1iZXIgZm9ybWF0Jykub3B0aW9uYWwoKSxcbiAgdGVybXNBY2NlcHRlZDogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zJyksXG4gIHByaXZhY3lBY2NlcHRlZDogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHByaXZhY3kgcG9saWN5Jylcbn0pLnJlZmluZShcbiAgKGRhdGEpID0+IGRhdGEucGFzc3dvcmQgPT09IGRhdGEuY29uZmlybVBhc3N3b3JkLFxuICB7XG4gICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLFxuICAgIHBhdGg6IFsnY29uZmlybVBhc3N3b3JkJ11cbiAgfVxuKS5yZWZpbmUoXG4gIChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuaXNCdXNpbmVzcykge1xuICAgICAgcmV0dXJuIGRhdGEuY29tcGFueU5hbWUgJiYgZGF0YS5jb21wYW55TmFtZS5sZW5ndGggPj0gMlxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuICB7XG4gICAgbWVzc2FnZTogJ0NvbXBhbnkgbmFtZSBpcyByZXF1aXJlZCBmb3IgYnVzaW5lc3MgYWNjb3VudHMnLFxuICAgIHBhdGg6IFsnY29tcGFueU5hbWUnXVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBmb3Jnb3RQYXNzd29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IGVtYWlsU2NoZW1hXG59KVxuXG5leHBvcnQgY29uc3QgcmVzZXRQYXNzd29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdG9rZW46IHouc3RyaW5nKCkubWluKDEsICdSZXNldCB0b2tlbiBpcyByZXF1aXJlZCcpLFxuICBwYXNzd29yZDogcGFzc3dvcmRTY2hlbWEsXG4gIGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKVxufSkucmVmaW5lKFxuICAoZGF0YSkgPT4gZGF0YS5wYXNzd29yZCA9PT0gZGF0YS5jb25maXJtUGFzc3dvcmQsXG4gIHtcbiAgICBtZXNzYWdlOiAnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcsXG4gICAgcGF0aDogWydjb25maXJtUGFzc3dvcmQnXVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBjaGFuZ2VQYXNzd29yZFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY3VycmVudFBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnQ3VycmVudCBwYXNzd29yZCBpcyByZXF1aXJlZCcpLFxuICBuZXdQYXNzd29yZDogcGFzc3dvcmRTY2hlbWEsXG4gIGNvbmZpcm1QYXNzd29yZDogei5zdHJpbmcoKVxufSkucmVmaW5lKFxuICAoZGF0YSkgPT4gZGF0YS5uZXdQYXNzd29yZCA9PT0gZGF0YS5jb25maXJtUGFzc3dvcmQsXG4gIHtcbiAgICBtZXNzYWdlOiAnUGFzc3dvcmRzIGRvIG5vdCBtYXRjaCcsXG4gICAgcGF0aDogWydjb25maXJtUGFzc3dvcmQnXVxuICB9XG4pXG5cbi8vIExlZ2FjeSBhbGlhcyBmb3IgYmFja3dhcmQgY29tcGF0aWJpbGl0eVxuZXhwb3J0IGNvbnN0IGN1c3RvbWVyTG9naW5TY2hlbWEgPSBsb2dpblNjaGVtYVxuXG4vLyBBZGRyZXNzIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBhZGRyZXNzU2NoZW1hID0gei5vYmplY3Qoe1xuICBmaXJzdE5hbWU6IHouc3RyaW5nKCkubWluKDIsICdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIGxhc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIGNvbXBhbnk6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgYWRkcmVzczogei5zdHJpbmcoKS5taW4oNSwgJ1N0cmVldCBhZGRyZXNzIGlzIHJlcXVpcmVkJyksXG4gIGFkZHJlc3MyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGNpdHk6IHouc3RyaW5nKCkubWluKDIsICdDaXR5IGlzIHJlcXVpcmVkJyksXG4gIHBvc3RhbENvZGU6IHBvc3RhbENvZGVTY2hlbWEsXG4gIGNvdW50cnk6IHouc3RyaW5nKCkubGVuZ3RoKDIsICdQbGVhc2Ugc2VsZWN0IGEgY291bnRyeScpLFxuICBwaG9uZTogcGhvbmVTY2hlbWFcbn0pXG5cbi8vIENoZWNrb3V0IHNjaGVtYXNcbmV4cG9ydCBjb25zdCBjaGVja291dEN1c3RvbWVyU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogZW1haWxTY2hlbWEsXG4gIGZpcnN0TmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgbGFzdE5hbWU6IHouc3RyaW5nKCkubWluKDIsICdMYXN0IG5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgcGhvbmU6IHBob25lU2NoZW1hLFxuICBjcmVhdGVBY2NvdW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBwYXNzd29yZDogei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KS5yZWZpbmUoXG4gIChkYXRhKSA9PiB7XG4gICAgaWYgKGRhdGEuY3JlYXRlQWNjb3VudCkge1xuICAgICAgcmV0dXJuIGRhdGEucGFzc3dvcmQgJiYgZGF0YS5wYXNzd29yZC5sZW5ndGggPj0gOFxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuICB7XG4gICAgbWVzc2FnZTogJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkIHdoZW4gY3JlYXRpbmcgYW4gYWNjb3VudCcsXG4gICAgcGF0aDogWydwYXNzd29yZCddXG4gIH1cbilcblxuZXhwb3J0IGNvbnN0IGNoZWNrb3V0U2hpcHBpbmdTY2hlbWEgPSBhZGRyZXNzU2NoZW1hXG5cbmV4cG9ydCBjb25zdCBjaGVja291dEJpbGxpbmdTY2hlbWEgPSBhZGRyZXNzU2NoZW1hLmV4dGVuZCh7XG4gIHNhbWVBc1NoaXBwaW5nOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KVxuXG5leHBvcnQgY29uc3QgY2hlY2tvdXRQYXltZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICBwYXltZW50TWV0aG9kOiB6LmVudW0oWydtb2xsaWUnLCAnc3RyaXBlJywgJ3BheXBhbCddKSxcbiAgc2F2ZVBheW1lbnRNZXRob2Q6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGFjY2VwdFRlcm1zOiB6LmJvb2xlYW4oKS5yZWZpbmUodmFsID0+IHZhbCA9PT0gdHJ1ZSwgJ1lvdSBtdXN0IGFjY2VwdCB0aGUgdGVybXMgYW5kIGNvbmRpdGlvbnMnKVxufSlcblxuZXhwb3J0IGNvbnN0IGNvbXBsZXRlQ2hlY2tvdXRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGN1c3RvbWVyOiBjaGVja291dEN1c3RvbWVyU2NoZW1hLFxuICBzaGlwcGluZzogY2hlY2tvdXRTaGlwcGluZ1NjaGVtYSxcbiAgYmlsbGluZzogY2hlY2tvdXRCaWxsaW5nU2NoZW1hLFxuICBwYXltZW50OiBjaGVja291dFBheW1lbnRTY2hlbWEsXG4gIGFnZVZlcmlmaWNhdGlvbjogYWdlVmVyaWZpY2F0aW9uU2NoZW1hLFxuICB2YXROdW1iZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgc3BlY2lhbEluc3RydWN0aW9uczogei5zdHJpbmcoKS5tYXgoNTAwLCAnU3BlY2lhbCBpbnN0cnVjdGlvbnMgY2Fubm90IGV4Y2VlZCA1MDAgY2hhcmFjdGVycycpLm9wdGlvbmFsKClcbn0pXG5cbi8vIENhcnQgc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGFkZFRvQ2FydFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcHJvZHVjdElkOiB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcHJvZHVjdCBJRCcpLFxuICBxdWFudGl0eTogei5udW1iZXIoKVxuICAgIC5taW4oMSwgJ1F1YW50aXR5IG11c3QgYmUgYXQgbGVhc3QgMScpXG4gICAgLm1heCgyNCwgJ01heGltdW0gMjQgYm90dGxlcyBwZXIgcHJvZHVjdCcpXG4gICAgLmludCgnUXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpLFxuICB2YXJpYW50SWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcblxuZXhwb3J0IGNvbnN0IHVwZGF0ZUNhcnRJdGVtU2NoZW1hID0gei5vYmplY3Qoe1xuICBpdGVtSWQ6IHouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBjYXJ0IGl0ZW0gSUQnKSxcbiAgcXVhbnRpdHk6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdRdWFudGl0eSBtdXN0IGJlIDAgb3IgbW9yZScpXG4gICAgLm1heCgyNCwgJ01heGltdW0gMjQgYm90dGxlcyBwZXIgcHJvZHVjdCcpXG4gICAgLmludCgnUXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpXG59KVxuXG4vLyBQcm9kdWN0IHNjaGVtYXMgKGZvciBhZG1pbilcbmV4cG9ydCBjb25zdCBwcm9kdWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigzLCAnUHJvZHVjdCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDEwMCwgJ1Byb2R1Y3QgbmFtZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIHNrdTogei5zdHJpbmcoKVxuICAgIC5taW4oMywgJ1NLVSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycycpXG4gICAgLm1heCg1MCwgJ1NLVSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXltBLVowLTktXSskLywgJ1NLVSBtdXN0IGNvbnRhaW4gb25seSB1cHBlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIGh5cGhlbnMnKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnRGVzY3JpcHRpb24gbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDIwMDAsICdEZXNjcmlwdGlvbiBjYW5ub3QgZXhjZWVkIDIwMDAgY2hhcmFjdGVycycpLFxuICBwcmljZTogei5udW1iZXIoKVxuICAgIC5taW4oMSwgJ1ByaWNlIG11c3QgYmUgYXQgbGVhc3Qg4oKsMC4wMScpXG4gICAgLm1heCgxMDAwMDAsICdQcmljZSBjYW5ub3QgZXhjZWVkIOKCrDEsMDAwLjAwJyksXG4gIHN0b2NrUXVhbnRpdHk6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdTdG9jayBxdWFudGl0eSBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICAgIC5tYXgoMTAwMDAsICdTdG9jayBxdWFudGl0eSBjYW5ub3QgZXhjZWVkIDEwLDAwMCcpXG4gICAgLmludCgnU3RvY2sgcXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpLFxuICBjYXRlZ29yeTogei5lbnVtKFsncmVkX3dpbmUnLCAnd2hpdGVfd2luZScsICdyb3NlX3dpbmUnLCAnc3BhcmtsaW5nX3dpbmUnLCAnZGVzc2VydF93aW5lJywgJ2ZvcnRpZmllZF93aW5lJ10pLFxuICB2aW50YWdlOiB6Lm51bWJlcigpXG4gICAgLm1pbigxODAwLCAnVmludGFnZSBtdXN0IGJlIHJlYWxpc3RpYycpXG4gICAgLm1heChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksICdWaW50YWdlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlJylcbiAgICAub3B0aW9uYWwoKSxcbiAgYWxjb2hvbENvbnRlbnQ6IHoubnVtYmVyKClcbiAgICAubWluKDAuNSwgJ0FsY29ob2wgY29udGVudCBtdXN0IGJlIGF0IGxlYXN0IDAuNSUnKVxuICAgIC5tYXgoMjAsICdBbGNvaG9sIGNvbnRlbnQgY2Fubm90IGV4Y2VlZCAyMCUnKVxuICAgIC5vcHRpb25hbCgpLFxuICBncmFwZVZhcmlldHk6IHouc3RyaW5nKCkubWF4KDEwMCwgJ0dyYXBlIHZhcmlldHkgbmFtZSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHJlZ2lvbjogei5zdHJpbmcoKS5tYXgoMTAwLCAnUmVnaW9uIG5hbWUgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICBwcm9kdWNlcjogei5zdHJpbmcoKS5tYXgoMTAwLCAnUHJvZHVjZXIgbmFtZSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHZvbHVtZTogei5udW1iZXIoKVxuICAgIC5taW4oMTg3LCAnTWluaW11bSB2b2x1bWUgaXMgMTg3bWwnKVxuICAgIC5tYXgoMzAwMCwgJ01heGltdW0gdm9sdW1lIGlzIDMwMDBtbCcpXG4gICAgLm9wdGlvbmFsKCksXG4gIHNlcnZpbmdUZW1wZXJhdHVyZTogei5zdHJpbmcoKS5tYXgoNTAsICdTZXJ2aW5nIHRlbXBlcmF0dXJlIGRlc2NyaXB0aW9uIHRvbyBsb25nJykub3B0aW9uYWwoKSxcbiAgYWdpbmdQb3RlbnRpYWw6IHouc3RyaW5nKCkubWF4KDEwMCwgJ0FnaW5nIHBvdGVudGlhbCBkZXNjcmlwdGlvbiB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHBhaXJpbmdOb3Rlczogei5zdHJpbmcoKS5tYXgoNTAwLCAnUGFpcmluZyBub3RlcyB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnYWN0aXZlJywgJ2luYWN0aXZlJywgJ291dF9vZl9zdG9jaycsICdkaXNjb250aW51ZWQnXSksXG4gIGlzRmVhdHVyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGlzT3JnYW5pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaXNCaW9keW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBpbWFnZVVybDogei5zdHJpbmcoKS51cmwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGltYWdlIFVSTCcpLm9wdGlvbmFsKCksXG4gIGdhbGxlcnlJbWFnZXM6IHouYXJyYXkoei5zdHJpbmcoKS51cmwoKSkubWF4KDEwLCAnTWF4aW11bSAxMCBnYWxsZXJ5IGltYWdlcycpLm9wdGlvbmFsKClcbn0pXG5cbi8vIE9yZGVyIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBvcmRlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY3VzdG9tZXJJZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGN1c3RvbWVyIElEJykub3B0aW9uYWwoKSxcbiAgY3VzdG9tZXJFbWFpbDogZW1haWxTY2hlbWEsXG4gIGN1c3RvbWVyRmlyc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBjdXN0b21lckxhc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIHNoaXBwaW5nQWRkcmVzczogYWRkcmVzc1NjaGVtYSxcbiAgYmlsbGluZ0FkZHJlc3M6IGFkZHJlc3NTY2hlbWEsXG4gIGl0ZW1zOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBwcm9kdWN0SWQ6IHouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBwcm9kdWN0IElEJyksXG4gICAgcXVhbnRpdHk6IHoubnVtYmVyKCkubWluKDEsICdRdWFudGl0eSBtdXN0IGJlIGF0IGxlYXN0IDEnKS5pbnQoKSxcbiAgICB1bml0UHJpY2U6IHoubnVtYmVyKCkubWluKDEsICdVbml0IHByaWNlIG11c3QgYmUgcG9zaXRpdmUnKVxuICB9KSkubWluKDEsICdPcmRlciBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0nKSxcbiAgc3VidG90YWw6IHoubnVtYmVyKCkubWluKDAsICdTdWJ0b3RhbCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgdmF0QW1vdW50OiB6Lm51bWJlcigpLm1pbigwLCAnVkFUIGFtb3VudCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgc2hpcHBpbmdDb3N0OiB6Lm51bWJlcigpLm1pbigwLCAnU2hpcHBpbmcgY29zdCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgdG90YWxBbW91bnQ6IHoubnVtYmVyKCkubWluKDEsICdUb3RhbCBhbW91bnQgbXVzdCBiZSBwb3NpdGl2ZScpLFxuICBwYXltZW50TWV0aG9kOiB6LnN0cmluZygpLm1pbigxLCAnUGF5bWVudCBtZXRob2QgaXMgcmVxdWlyZWQnKSxcbiAgc3BlY2lhbEluc3RydWN0aW9uczogei5zdHJpbmcoKS5tYXgoNTAwLCAnU3BlY2lhbCBpbnN0cnVjdGlvbnMgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICBnaWZ0TWVzc2FnZTogei5zdHJpbmcoKS5tYXgoMjAwLCAnR2lmdCBtZXNzYWdlIHRvbyBsb25nJykub3B0aW9uYWwoKVxufSlcblxuLy8gQ29udGFjdCBmb3JtIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBjb250YWN0Rm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnTmFtZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgc3ViamVjdDogei5zdHJpbmcoKVxuICAgIC5taW4oNSwgJ1N1YmplY3QgbXVzdCBiZSBhdCBsZWFzdCA1IGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnU3ViamVjdCBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIG1lc3NhZ2U6IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnTWVzc2FnZSBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwMCwgJ01lc3NhZ2UgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKSxcbiAgcGhvbmU6IHBob25lU2NoZW1hLFxuICBjYXRlZ29yeTogei5lbnVtKFsnZ2VuZXJhbCcsICdvcmRlcnMnLCAncHJvZHVjdHMnLCAnc2hpcHBpbmcnLCAncmV0dXJucycsICd0ZWNobmljYWwnXSkub3B0aW9uYWwoKVxufSlcblxuLy8gTmV3c2xldHRlciBzdWJzY3JpcHRpb24gc2NoZW1hXG5leHBvcnQgY29uc3QgbmV3c2xldHRlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICBmaXJzdE5hbWU6IHouc3RyaW5nKCkubWluKDIsICdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJykub3B0aW9uYWwoKSxcbiAgcHJlZmVyZW5jZXM6IHoub2JqZWN0KHtcbiAgICBuZXdQcm9kdWN0czogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBzcGVjaWFsT2ZmZXJzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHdpbmVFdmVudHM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgd2luZUVkdWNhdGlvbjogei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICB9KS5vcHRpb25hbCgpLFxuICBhY2NlcHRUZXJtczogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zJylcbn0pXG5cbi8vIEFkbWluIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBhZG1pbkxvZ2luU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogZW1haWxTY2hlbWEsXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKSxcbiAgdHdvRmFjdG9yQ29kZTogei5zdHJpbmcoKS5yZWdleCgvXlxcZHs2fSQvLCAnMkZBIGNvZGUgbXVzdCBiZSA2IGRpZ2l0cycpLm9wdGlvbmFsKClcbn0pXG5cbmV4cG9ydCBjb25zdCBhZG1pblVzZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgZmlyc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBsYXN0TmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICByb2xlOiB6LmVudW0oWydhZG1pbicsICdtYW5hZ2VyJywgJ3N0YWZmJ10pLFxuICBwZXJtaXNzaW9uczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICBpc0FjdGl2ZTogei5ib29sZWFuKCksXG4gIHBhc3N3b3JkOiBwYXNzd29yZFNjaGVtYS5vcHRpb25hbCgpXG59KVxuXG4vLyBJbnZlbnRvcnkgbWFuYWdlbWVudCBzY2hlbWFzXG5leHBvcnQgY29uc3QgaW52ZW50b3J5QWRqdXN0bWVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcHJvZHVjdElkOiB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcHJvZHVjdCBJRCcpLFxuICBhZGp1c3RtZW50OiB6Lm51bWJlcigpXG4gICAgLm1pbigtMTAwMCwgJ0FkanVzdG1lbnQgdG9vIGxhcmdlJylcbiAgICAubWF4KDEwMDAsICdBZGp1c3RtZW50IHRvbyBsYXJnZScpXG4gICAgLmludCgnQWRqdXN0bWVudCBtdXN0IGJlIGEgd2hvbGUgbnVtYmVyJyksXG4gIHJlYXNvbjogei5lbnVtKFsncmVjZWl2ZWQnLCAnc29sZCcsICdkYW1hZ2VkJywgJ2V4cGlyZWQnLCAncmV0dXJuZWQnLCAnY29ycmVjdGlvbicsICdvdGhlciddKSxcbiAgbm90ZXM6IHouc3RyaW5nKCkubWF4KDUwMCwgJ05vdGVzIGNhbm5vdCBleGNlZWQgNTAwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpLFxuICByZWZlcmVuY2U6IHouc3RyaW5nKCkubWF4KDEwMCwgJ1JlZmVyZW5jZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKVxufSlcblxuLy8gU2hpcHBpbmcgcmF0ZSBjYWxjdWxhdGlvbiBzY2hlbWFcbmV4cG9ydCBjb25zdCBzaGlwcGluZ1JhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGRlc3RpbmF0aW9uOiB6Lm9iamVjdCh7XG4gICAgY291bnRyeTogei5zdHJpbmcoKS5sZW5ndGgoMiwgJ0NvdW50cnkgbXVzdCBiZSBhIDItbGV0dGVyIGNvZGUnKSxcbiAgICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlU2NoZW1hLFxuICAgIGNpdHk6IHouc3RyaW5nKCkubWluKDIsICdDaXR5IGlzIHJlcXVpcmVkJylcbiAgfSksXG4gIGl0ZW1zOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBwcm9kdWN0SWQ6IHouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBwcm9kdWN0IElEJyksXG4gICAgcXVhbnRpdHk6IHoubnVtYmVyKCkubWluKDEsICdRdWFudGl0eSBtdXN0IGJlIGF0IGxlYXN0IDEnKS5pbnQoKSxcbiAgICB3ZWlnaHQ6IHoubnVtYmVyKCkubWluKDEsICdXZWlnaHQgbXVzdCBiZSBwb3NpdGl2ZScpLm9wdGlvbmFsKClcbiAgfSkpLm1pbigxLCAnQXQgbGVhc3Qgb25lIGl0ZW0gaXMgcmVxdWlyZWQnKSxcbiAgdG90YWxWYWx1ZTogei5udW1iZXIoKS5taW4oMSwgJ1RvdGFsIHZhbHVlIG11c3QgYmUgcG9zaXRpdmUnKVxufSlcblxuLy8gVkFUIGNhbGN1bGF0aW9uIHNjaGVtYVxuZXhwb3J0IGNvbnN0IHZhdENhbGN1bGF0aW9uU2NoZW1hID0gei5vYmplY3Qoe1xuICBhbW91bnQ6IHoubnVtYmVyKCkubWluKDEsICdBbW91bnQgbXVzdCBiZSBwb3NpdGl2ZScpLFxuICBzaGlwcGluZ0Ftb3VudDogei5udW1iZXIoKS5taW4oMCwgJ1NoaXBwaW5nIGFtb3VudCBjYW5ub3QgYmUgbmVnYXRpdmUnKS5vcHRpb25hbCgpLFxuICBjb3VudHJ5OiB6LnN0cmluZygpLmxlbmd0aCgyLCAnQ291bnRyeSBtdXN0IGJlIGEgMi1sZXR0ZXIgY29kZScpLFxuICBjdXN0b21lclR5cGU6IHouZW51bShbJ2NvbnN1bWVyJywgJ2J1c2luZXNzJ10pLm9wdGlvbmFsKCksXG4gIHZhdE51bWJlcjogei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KVxuXG4vLyBTZWFyY2ggYW5kIGZpbHRlciBzY2hlbWFzXG5leHBvcnQgY29uc3QgcHJvZHVjdFNlYXJjaFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcXVlcnk6IHouc3RyaW5nKCkubWF4KDEwMCwgJ1NlYXJjaCBxdWVyeSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIGNhdGVnb3J5OiB6LmVudW0oWydyZWRfd2luZScsICd3aGl0ZV93aW5lJywgJ3Jvc2Vfd2luZScsICdzcGFya2xpbmdfd2luZScsICdkZXNzZXJ0X3dpbmUnLCAnZm9ydGlmaWVkX3dpbmUnXSkub3B0aW9uYWwoKSxcbiAgbWluUHJpY2U6IHoubnVtYmVyKCkubWluKDAsICdNaW5pbXVtIHByaWNlIGNhbm5vdCBiZSBuZWdhdGl2ZScpLm9wdGlvbmFsKCksXG4gIG1heFByaWNlOiB6Lm51bWJlcigpLm1pbigwLCAnTWF4aW11bSBwcmljZSBjYW5ub3QgYmUgbmVnYXRpdmUnKS5vcHRpb25hbCgpLFxuICB2aW50YWdlOiB6Lm51bWJlcigpLm1pbigxODAwLCAnVmludGFnZSB0b28gb2xkJykubWF4KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgJ1ZpbnRhZ2UgY2Fubm90IGJlIGluIHRoZSBmdXR1cmUnKS5vcHRpb25hbCgpLFxuICByZWdpb246IHouc3RyaW5nKCkubWF4KDEwMCwgJ1JlZ2lvbiBuYW1lIHRvbyBsb25nJykub3B0aW9uYWwoKSxcbiAgaW5TdG9jazogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaXNPcmdhbmljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBzb3J0Qnk6IHouZW51bShbJ25hbWUnLCAncHJpY2UnLCAndmludGFnZScsICdjcmVhdGVkX2F0JywgJ3BvcHVsYXJpdHknXSkub3B0aW9uYWwoKSxcbiAgc29ydE9yZGVyOiB6LmVudW0oWydhc2MnLCAnZGVzYyddKS5vcHRpb25hbCgpLFxuICBsaW1pdDogei5udW1iZXIoKS5taW4oMSwgJ0xpbWl0IG11c3QgYmUgYXQgbGVhc3QgMScpLm1heCgxMDAsICdMaW1pdCBjYW5ub3QgZXhjZWVkIDEwMCcpLm9wdGlvbmFsKCksXG4gIG9mZnNldDogei5udW1iZXIoKS5taW4oMCwgJ09mZnNldCBjYW5ub3QgYmUgbmVnYXRpdmUnKS5vcHRpb25hbCgpXG59KVxuXG4vLyBGaWxlIHVwbG9hZCBzY2hlbWFzXG5leHBvcnQgY29uc3QgaW1hZ2VVcGxvYWRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGZpbGU6IHouYW55KCkucmVmaW5lKFxuICAgIChmaWxlKSA9PiBmaWxlIGluc3RhbmNlb2YgRmlsZSxcbiAgICAnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGZpbGUnXG4gICkucmVmaW5lKFxuICAgIChmaWxlKSA9PiBmaWxlLnNpemUgPD0gNSAqIDEwMjQgKiAxMDI0LCAvLyA1TUJcbiAgICAnRmlsZSBzaXplIG11c3QgYmUgbGVzcyB0aGFuIDVNQidcbiAgKS5yZWZpbmUoXG4gICAgKGZpbGUpID0+IFsnaW1hZ2UvanBlZycsICdpbWFnZS9wbmcnLCAnaW1hZ2Uvd2VicCddLmluY2x1ZGVzKGZpbGUudHlwZSksXG4gICAgJ0ZpbGUgbXVzdCBiZSBKUEVHLCBQTkcsIG9yIFdlYlAgZm9ybWF0J1xuICApLFxuICBhbHQ6IHouc3RyaW5nKCkubWF4KDIwMCwgJ0FsdCB0ZXh0IGNhbm5vdCBleGNlZWQgMjAwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpXG59KVxuXG4vLyBUeXBlIGV4cG9ydHMgZm9yIFR5cGVTY3JpcHRcbmV4cG9ydCB0eXBlIEFnZVZlcmlmaWNhdGlvbkRhdGEgPSB6LmluZmVyPHR5cGVvZiBhZ2VWZXJpZmljYXRpb25TY2hlbWE+XG5leHBvcnQgdHlwZSBDdXN0b21lclJlZ2lzdHJhdGlvbkRhdGEgPSB6LmluZmVyPHR5cGVvZiBjdXN0b21lclJlZ2lzdHJhdGlvblNjaGVtYT5cbmV4cG9ydCB0eXBlIExvZ2luRGF0YSA9IHouaW5mZXI8dHlwZW9mIGxvZ2luU2NoZW1hPlxuZXhwb3J0IHR5cGUgUmVnaXN0ZXJEYXRhID0gei5pbmZlcjx0eXBlb2YgcmVnaXN0ZXJTY2hlbWE+XG5leHBvcnQgdHlwZSBGb3Jnb3RQYXNzd29yZERhdGEgPSB6LmluZmVyPHR5cGVvZiBmb3Jnb3RQYXNzd29yZFNjaGVtYT5cbmV4cG9ydCB0eXBlIFJlc2V0UGFzc3dvcmREYXRhID0gei5pbmZlcjx0eXBlb2YgcmVzZXRQYXNzd29yZFNjaGVtYT5cbmV4cG9ydCB0eXBlIENoYW5nZVBhc3N3b3JkRGF0YSA9IHouaW5mZXI8dHlwZW9mIGNoYW5nZVBhc3N3b3JkU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ3VzdG9tZXJMb2dpbkRhdGEgPSB6LmluZmVyPHR5cGVvZiBjdXN0b21lckxvZ2luU2NoZW1hPlxuZXhwb3J0IHR5cGUgQWRkcmVzc0RhdGEgPSB6LmluZmVyPHR5cGVvZiBhZGRyZXNzU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ2hlY2tvdXREYXRhID0gei5pbmZlcjx0eXBlb2YgY29tcGxldGVDaGVja291dFNjaGVtYT5cbmV4cG9ydCB0eXBlIEFkZFRvQ2FydERhdGEgPSB6LmluZmVyPHR5cGVvZiBhZGRUb0NhcnRTY2hlbWE+XG5leHBvcnQgdHlwZSBVcGRhdGVDYXJ0SXRlbURhdGEgPSB6LmluZmVyPHR5cGVvZiB1cGRhdGVDYXJ0SXRlbVNjaGVtYT5cbmV4cG9ydCB0eXBlIFByb2R1Y3REYXRhID0gei5pbmZlcjx0eXBlb2YgcHJvZHVjdFNjaGVtYT5cbmV4cG9ydCB0eXBlIE9yZGVyRGF0YSA9IHouaW5mZXI8dHlwZW9mIG9yZGVyU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ29udGFjdEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgY29udGFjdEZvcm1TY2hlbWE+XG5leHBvcnQgdHlwZSBOZXdzbGV0dGVyRGF0YSA9IHouaW5mZXI8dHlwZW9mIG5ld3NsZXR0ZXJTY2hlbWE+XG5leHBvcnQgdHlwZSBBZG1pbkxvZ2luRGF0YSA9IHouaW5mZXI8dHlwZW9mIGFkbWluTG9naW5TY2hlbWE+XG5leHBvcnQgdHlwZSBJbnZlbnRvcnlBZGp1c3RtZW50RGF0YSA9IHouaW5mZXI8dHlwZW9mIGludmVudG9yeUFkanVzdG1lbnRTY2hlbWE+XG5leHBvcnQgdHlwZSBTaGlwcGluZ1JhdGVEYXRhID0gei5pbmZlcjx0eXBlb2Ygc2hpcHBpbmdSYXRlU2NoZW1hPlxuZXhwb3J0IHR5cGUgVmF0Q2FsY3VsYXRpb25EYXRhID0gei5pbmZlcjx0eXBlb2YgdmF0Q2FsY3VsYXRpb25TY2hlbWE+XG5leHBvcnQgdHlwZSBQcm9kdWN0U2VhcmNoRGF0YSA9IHouaW5mZXI8dHlwZW9mIHByb2R1Y3RTZWFyY2hTY2hlbWE+XG5leHBvcnQgdHlwZSBJbWFnZVVwbG9hZERhdGEgPSB6LmluZmVyPHR5cGVvZiBpbWFnZVVwbG9hZFNjaGVtYT5cblxuLy8gVmFsaWRhdGlvbiBoZWxwZXIgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgdmFsaWRhdGVTY2hlbWEgPSA8VD4oc2NoZW1hOiB6LlpvZFNjaGVtYTxUPiwgZGF0YTogdW5rbm93bik6IHtcbiAgc3VjY2VzczogYm9vbGVhblxuICBkYXRhPzogVFxuICBlcnJvcnM/OiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT5cbn0gPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5wYXJzZShkYXRhKVxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdCB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2Ygei5ab2RFcnJvcikge1xuICAgICAgY29uc3QgZXJyb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4gPSB7fVxuXG4gICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICBjb25zdCBwYXRoID0gaXNzdWUucGF0aC5qb2luKCcuJylcbiAgICAgICAgaWYgKCFlcnJvcnNbcGF0aF0pIHtcbiAgICAgICAgICBlcnJvcnNbcGF0aF0gPSBbXVxuICAgICAgICB9XG4gICAgICAgIGVycm9yc1twYXRoXS5wdXNoKGlzc3VlLm1lc3NhZ2UpXG4gICAgICB9XG5cbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnMgfVxuICAgIH1cblxuICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcnM6IHsgZ2VuZXJhbDogWydWYWxpZGF0aW9uIGZhaWxlZCddIH0gfVxuICB9XG59XG5cbmV4cG9ydCBjb25zdCBnZXRFcnJvck1lc3NhZ2UgPSAoZXJyb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4sIGZpZWxkOiBzdHJpbmcpOiBzdHJpbmcgPT4ge1xuICByZXR1cm4gZXJyb3JzW2ZpZWxkXT8uWzBdIHx8ICcnXG59XG5cbmV4cG9ydCBjb25zdCBoYXNFcnJvcnMgPSAoZXJyb3JzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmdbXT4pOiBib29sZWFuID0+IHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKGVycm9ycykubGVuZ3RoID4gMFxufSJdLCJuYW1lcyI6WyJ6IiwiZW1haWxTY2hlbWEiLCJzdHJpbmciLCJlbWFpbCIsInBob25lU2NoZW1hIiwicmVnZXgiLCJvcHRpb25hbCIsInBvc3RhbENvZGVTY2hlbWEiLCJtaW4iLCJtYXgiLCJwYXNzd29yZFNjaGVtYSIsImFnZVZlcmlmaWNhdGlvblNjaGVtYSIsIm9iamVjdCIsImJpcnRoRGF5IiwibnVtYmVyIiwiYmlydGhNb250aCIsImJpcnRoWWVhciIsIkRhdGUiLCJnZXRGdWxsWWVhciIsImRvY3VtZW50VHlwZSIsImVudW0iLCJkb2N1bWVudE51bWJlciIsImNvdW50cnkiLCJsZW5ndGgiLCJyZWZpbmUiLCJkYXRhIiwiYmlydGhEYXRlIiwiaXNOYU4iLCJnZXRUaW1lIiwibWVzc2FnZSIsInBhdGgiLCJjdXN0b21lclJlZ2lzdHJhdGlvblNjaGVtYSIsInBhc3N3b3JkIiwiY29uZmlybVBhc3N3b3JkIiwiZmlyc3ROYW1lIiwibGFzdE5hbWUiLCJwaG9uZSIsImRhdGUiLCJhZ2UiLCJhY2NlcHRUZXJtcyIsImJvb2xlYW4iLCJ2YWwiLCJhY2NlcHRQcml2YWN5IiwiYWNjZXB0TWFya2V0aW5nIiwibG9naW5TY2hlbWEiLCJyZW1lbWJlck1lIiwicmVnaXN0ZXJTY2hlbWEiLCJwcmVmZXJyZWRMYW5ndWFnZSIsIm1hcmtldGluZ0NvbnNlbnQiLCJuZXdzbGV0dGVyQ29uc2VudCIsImlzQnVzaW5lc3MiLCJjb21wYW55TmFtZSIsInZhdE51bWJlciIsInRlcm1zQWNjZXB0ZWQiLCJwcml2YWN5QWNjZXB0ZWQiLCJmb3Jnb3RQYXNzd29yZFNjaGVtYSIsInJlc2V0UGFzc3dvcmRTY2hlbWEiLCJ0b2tlbiIsImNoYW5nZVBhc3N3b3JkU2NoZW1hIiwiY3VycmVudFBhc3N3b3JkIiwibmV3UGFzc3dvcmQiLCJjdXN0b21lckxvZ2luU2NoZW1hIiwiYWRkcmVzc1NjaGVtYSIsImNvbXBhbnkiLCJhZGRyZXNzIiwiYWRkcmVzczIiLCJjaXR5IiwicG9zdGFsQ29kZSIsImNoZWNrb3V0Q3VzdG9tZXJTY2hlbWEiLCJjcmVhdGVBY2NvdW50IiwiY2hlY2tvdXRTaGlwcGluZ1NjaGVtYSIsImNoZWNrb3V0QmlsbGluZ1NjaGVtYSIsImV4dGVuZCIsInNhbWVBc1NoaXBwaW5nIiwiY2hlY2tvdXRQYXltZW50U2NoZW1hIiwicGF5bWVudE1ldGhvZCIsInNhdmVQYXltZW50TWV0aG9kIiwiY29tcGxldGVDaGVja291dFNjaGVtYSIsImN1c3RvbWVyIiwic2hpcHBpbmciLCJiaWxsaW5nIiwicGF5bWVudCIsImFnZVZlcmlmaWNhdGlvbiIsInNwZWNpYWxJbnN0cnVjdGlvbnMiLCJhZGRUb0NhcnRTY2hlbWEiLCJwcm9kdWN0SWQiLCJ1dWlkIiwicXVhbnRpdHkiLCJpbnQiLCJ2YXJpYW50SWQiLCJ1cGRhdGVDYXJ0SXRlbVNjaGVtYSIsIml0ZW1JZCIsInByb2R1Y3RTY2hlbWEiLCJuYW1lIiwic2t1IiwiZGVzY3JpcHRpb24iLCJwcmljZSIsInN0b2NrUXVhbnRpdHkiLCJjYXRlZ29yeSIsInZpbnRhZ2UiLCJhbGNvaG9sQ29udGVudCIsImdyYXBlVmFyaWV0eSIsInJlZ2lvbiIsInByb2R1Y2VyIiwidm9sdW1lIiwic2VydmluZ1RlbXBlcmF0dXJlIiwiYWdpbmdQb3RlbnRpYWwiLCJwYWlyaW5nTm90ZXMiLCJzdGF0dXMiLCJpc0ZlYXR1cmVkIiwiaXNPcmdhbmljIiwiaXNCaW9keW5hbWljIiwiaW1hZ2VVcmwiLCJ1cmwiLCJnYWxsZXJ5SW1hZ2VzIiwiYXJyYXkiLCJvcmRlclNjaGVtYSIsImN1c3RvbWVySWQiLCJjdXN0b21lckVtYWlsIiwiY3VzdG9tZXJGaXJzdE5hbWUiLCJjdXN0b21lckxhc3ROYW1lIiwic2hpcHBpbmdBZGRyZXNzIiwiYmlsbGluZ0FkZHJlc3MiLCJpdGVtcyIsInVuaXRQcmljZSIsInN1YnRvdGFsIiwidmF0QW1vdW50Iiwic2hpcHBpbmdDb3N0IiwidG90YWxBbW91bnQiLCJnaWZ0TWVzc2FnZSIsImNvbnRhY3RGb3JtU2NoZW1hIiwic3ViamVjdCIsIm5ld3NsZXR0ZXJTY2hlbWEiLCJwcmVmZXJlbmNlcyIsIm5ld1Byb2R1Y3RzIiwic3BlY2lhbE9mZmVycyIsIndpbmVFdmVudHMiLCJ3aW5lRWR1Y2F0aW9uIiwiYWRtaW5Mb2dpblNjaGVtYSIsInR3b0ZhY3RvckNvZGUiLCJhZG1pblVzZXJTY2hlbWEiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJpc0FjdGl2ZSIsImludmVudG9yeUFkanVzdG1lbnRTY2hlbWEiLCJhZGp1c3RtZW50IiwicmVhc29uIiwibm90ZXMiLCJyZWZlcmVuY2UiLCJzaGlwcGluZ1JhdGVTY2hlbWEiLCJkZXN0aW5hdGlvbiIsIndlaWdodCIsInRvdGFsVmFsdWUiLCJ2YXRDYWxjdWxhdGlvblNjaGVtYSIsImFtb3VudCIsInNoaXBwaW5nQW1vdW50IiwiY3VzdG9tZXJUeXBlIiwicHJvZHVjdFNlYXJjaFNjaGVtYSIsInF1ZXJ5IiwibWluUHJpY2UiLCJtYXhQcmljZSIsImluU3RvY2siLCJzb3J0QnkiLCJzb3J0T3JkZXIiLCJsaW1pdCIsIm9mZnNldCIsImltYWdlVXBsb2FkU2NoZW1hIiwiZmlsZSIsImFueSIsIkZpbGUiLCJzaXplIiwiaW5jbHVkZXMiLCJ0eXBlIiwiYWx0IiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWEiLCJyZXN1bHQiLCJwYXJzZSIsInN1Y2Nlc3MiLCJlcnJvciIsIlpvZEVycm9yIiwiZXJyb3JzIiwiaXNzdWUiLCJpc3N1ZXMiLCJqb2luIiwicHVzaCIsImdlbmVyYWwiLCJnZXRFcnJvck1lc3NhZ2UiLCJmaWVsZCIsImhhc0Vycm9ycyIsIk9iamVjdCIsImtleXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validators/schemas.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "../app-render/work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "@supabase/supabase-js":
/*!****************************************!*\
  !*** external "@supabase/supabase-js" ***!
  \****************************************/
/***/ ((module) => {

"use strict";
module.exports = require("@supabase/supabase-js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod","vendor-chunks/@supabase"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fproducts%2Froute&page=%2Fapi%2Fproducts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fproducts%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();