/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/vat/calculate/route";
exports.ids = ["app/api/vat/calculate/route"];
exports.modules = {

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvat%2Fcalculate%2Froute&page=%2Fapi%2Fvat%2Fcalculate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvat%2Fcalculate%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!":
/*!********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvat%2Fcalculate%2Froute&page=%2Fapi%2Fvat%2Fcalculate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvat%2Fcalculate%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=! ***!
  \********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   handler: () => (/* binding */ handler),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   workAsyncStorage: () => (/* binding */ workAsyncStorage),\n/* harmony export */   workUnitAsyncStorage: () => (/* binding */ workUnitAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(rsc)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! next/dist/server/request-meta */ \"(rsc)/./node_modules/next/dist/server/request-meta.js\");\n/* harmony import */ var next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/dist/server/lib/trace/tracer */ \"(rsc)/./node_modules/next/dist/server/lib/trace/tracer.js\");\n/* harmony import */ var next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dist/shared/lib/router/utils/app-paths */ \"next/dist/shared/lib/router/utils/app-paths\");\n/* harmony import */ var next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! next/dist/server/base-http/node */ \"(rsc)/./node_modules/next/dist/server/base-http/node.js\");\n/* harmony import */ var next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__);\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! next/dist/server/web/spec-extension/adapters/next-request */ \"(rsc)/./node_modules/next/dist/server/web/spec-extension/adapters/next-request.js\");\n/* harmony import */ var next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! next/dist/server/lib/trace/constants */ \"(rsc)/./node_modules/next/dist/server/lib/trace/constants.js\");\n/* harmony import */ var next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__);\n/* harmony import */ var next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! next/dist/server/instrumentation/utils */ \"(rsc)/./node_modules/next/dist/server/instrumentation/utils.js\");\n/* harmony import */ var next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! next/dist/server/send-response */ \"(rsc)/./node_modules/next/dist/server/send-response.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! next/dist/server/web/utils */ \"(rsc)/./node_modules/next/dist/server/web/utils.js\");\n/* harmony import */ var next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__);\n/* harmony import */ var next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! next/dist/server/lib/cache-control */ \"(rsc)/./node_modules/next/dist/server/lib/cache-control.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! next/dist/lib/constants */ \"(rsc)/./node_modules/next/dist/lib/constants.js\");\n/* harmony import */ var next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__);\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! next/dist/shared/lib/no-fallback-error.external */ \"next/dist/shared/lib/no-fallback-error.external\");\n/* harmony import */ var next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__);\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! next/dist/server/response-cache */ \"(rsc)/./node_modules/next/dist/server/response-cache/index.js\");\n/* harmony import */ var next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__);\n/* harmony import */ var C_Users_olivi_Domaine_Vallot_src_app_api_vat_calculate_route_ts__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./src/app/api/vat/calculate/route.ts */ \"(rsc)/./src/app/api/vat/calculate/route.ts\");\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/vat/calculate/route\",\n        pathname: \"/api/vat/calculate\",\n        filename: \"route\",\n        bundlePath: \"app/api/vat/calculate/route\"\n    },\n    distDir: \".next\" || 0,\n    relativeProjectDir:  false || '',\n    resolvedPagePath: \"C:\\\\Users\\\\olivi\\\\Domaine Vallot\\\\src\\\\app\\\\api\\\\vat\\\\calculate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_olivi_Domaine_Vallot_src_app_api_vat_calculate_route_ts__WEBPACK_IMPORTED_MODULE_16__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { workAsyncStorage, workUnitAsyncStorage, serverHooks } = routeModule;\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        workAsyncStorage,\n        workUnitAsyncStorage\n    });\n}\n\nasync function handler(req, res, ctx) {\n    var _nextConfig_experimental;\n    let srcPage = \"/api/vat/calculate/route\";\n    // turbopack doesn't normalize `/index` in the page name\n    // so we need to to process dynamic routes properly\n    // TODO: fix turbopack providing differing value from webpack\n    if (false) {} else if (srcPage === '/index') {\n        // we always normalize /index specifically\n        srcPage = '/';\n    }\n    const multiZoneDraftMode = false;\n    const prepareResult = await routeModule.prepare(req, res, {\n        srcPage,\n        multiZoneDraftMode\n    });\n    if (!prepareResult) {\n        res.statusCode = 400;\n        res.end('Bad Request');\n        ctx.waitUntil == null ? void 0 : ctx.waitUntil.call(ctx, Promise.resolve());\n        return null;\n    }\n    const { buildId, params, nextConfig, isDraftMode, prerenderManifest, routerServerContext, isOnDemandRevalidate, revalidateOnlyGenerated, resolvedPathname } = prepareResult;\n    const normalizedSrcPage = (0,next_dist_shared_lib_router_utils_app_paths__WEBPACK_IMPORTED_MODULE_5__.normalizeAppPath)(srcPage);\n    let isIsr = Boolean(prerenderManifest.dynamicRoutes[normalizedSrcPage] || prerenderManifest.routes[resolvedPathname]);\n    if (isIsr && !isDraftMode) {\n        const isPrerendered = Boolean(prerenderManifest.routes[resolvedPathname]);\n        const prerenderInfo = prerenderManifest.dynamicRoutes[normalizedSrcPage];\n        if (prerenderInfo) {\n            if (prerenderInfo.fallback === false && !isPrerendered) {\n                throw new next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError();\n            }\n        }\n    }\n    let cacheKey = null;\n    if (isIsr && !routeModule.isDev && !isDraftMode) {\n        cacheKey = resolvedPathname;\n        // ensure /index and / is normalized to one key\n        cacheKey = cacheKey === '/index' ? '/' : cacheKey;\n    }\n    const supportsDynamicResponse = // If we're in development, we always support dynamic HTML\n    routeModule.isDev === true || // If this is not SSG or does not have static paths, then it supports\n    // dynamic HTML.\n    !isIsr;\n    // This is a revalidation request if the request is for a static\n    // page and it is not being resumed from a postponed render and\n    // it is not a dynamic RSC request then it is a revalidation\n    // request.\n    const isRevalidate = isIsr && !supportsDynamicResponse;\n    const method = req.method || 'GET';\n    const tracer = (0,next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.getTracer)();\n    const activeSpan = tracer.getActiveScopeSpan();\n    const context = {\n        params,\n        prerenderManifest,\n        renderOpts: {\n            experimental: {\n                cacheComponents: Boolean(nextConfig.experimental.cacheComponents),\n                authInterrupts: Boolean(nextConfig.experimental.authInterrupts)\n            },\n            supportsDynamicResponse,\n            incrementalCache: (0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'incrementalCache'),\n            cacheLifeProfiles: (_nextConfig_experimental = nextConfig.experimental) == null ? void 0 : _nextConfig_experimental.cacheLife,\n            isRevalidate,\n            waitUntil: ctx.waitUntil,\n            onClose: (cb)=>{\n                res.on('close', cb);\n            },\n            onAfterTaskError: undefined,\n            onInstrumentationRequestError: (error, _request, errorContext)=>routeModule.onRequestError(req, error, errorContext, routerServerContext)\n        },\n        sharedContext: {\n            buildId\n        }\n    };\n    const nodeNextReq = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextRequest(req);\n    const nodeNextRes = new next_dist_server_base_http_node__WEBPACK_IMPORTED_MODULE_6__.NodeNextResponse(res);\n    const nextReq = next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.NextRequestAdapter.fromNodeNextRequest(nodeNextReq, (0,next_dist_server_web_spec_extension_adapters_next_request__WEBPACK_IMPORTED_MODULE_7__.signalFromNodeResponse)(res));\n    try {\n        const invokeRouteModule = async (span)=>{\n            return routeModule.handle(nextReq, context).finally(()=>{\n                if (!span) return;\n                span.setAttributes({\n                    'http.status_code': res.statusCode,\n                    'next.rsc': false\n                });\n                const rootSpanAttributes = tracer.getRootSpanAttributes();\n                // We were unable to get attributes, probably OTEL is not enabled\n                if (!rootSpanAttributes) {\n                    return;\n                }\n                if (rootSpanAttributes.get('next.span_type') !== next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest) {\n                    console.warn(`Unexpected root span type '${rootSpanAttributes.get('next.span_type')}'. Please report this Next.js issue https://github.com/vercel/next.js`);\n                    return;\n                }\n                const route = rootSpanAttributes.get('next.route');\n                if (route) {\n                    const name = `${method} ${route}`;\n                    span.setAttributes({\n                        'next.route': route,\n                        'http.route': route,\n                        'next.span_name': name\n                    });\n                    span.updateName(name);\n                } else {\n                    span.updateName(`${method} ${req.url}`);\n                }\n            });\n        };\n        const handleResponse = async (currentSpan)=>{\n            var _cacheEntry_value;\n            const responseGenerator = async ({ previousCacheEntry })=>{\n                try {\n                    if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isOnDemandRevalidate && revalidateOnlyGenerated && !previousCacheEntry) {\n                        res.statusCode = 404;\n                        // on-demand revalidate always sets this header\n                        res.setHeader('x-nextjs-cache', 'REVALIDATED');\n                        res.end('This page could not be found');\n                        return null;\n                    }\n                    const response = await invokeRouteModule(currentSpan);\n                    req.fetchMetrics = context.renderOpts.fetchMetrics;\n                    let pendingWaitUntil = context.renderOpts.pendingWaitUntil;\n                    // Attempt using provided waitUntil if available\n                    // if it's not we fallback to sendResponse's handling\n                    if (pendingWaitUntil) {\n                        if (ctx.waitUntil) {\n                            ctx.waitUntil(pendingWaitUntil);\n                            pendingWaitUntil = undefined;\n                        }\n                    }\n                    const cacheTags = context.renderOpts.collectedTags;\n                    // If the request is for a static response, we can cache it so long\n                    // as it's not edge.\n                    if (isIsr) {\n                        const blob = await response.blob();\n                        // Copy the headers from the response.\n                        const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.toNodeOutgoingHttpHeaders)(response.headers);\n                        if (cacheTags) {\n                            headers[next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER] = cacheTags;\n                        }\n                        if (!headers['content-type'] && blob.type) {\n                            headers['content-type'] = blob.type;\n                        }\n                        const revalidate = typeof context.renderOpts.collectedRevalidate === 'undefined' || context.renderOpts.collectedRevalidate >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? false : context.renderOpts.collectedRevalidate;\n                        const expire = typeof context.renderOpts.collectedExpire === 'undefined' || context.renderOpts.collectedExpire >= next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.INFINITE_CACHE ? undefined : context.renderOpts.collectedExpire;\n                        // Create the cache entry for the response.\n                        const cacheEntry = {\n                            value: {\n                                kind: next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE,\n                                status: response.status,\n                                body: Buffer.from(await blob.arrayBuffer()),\n                                headers\n                            },\n                            cacheControl: {\n                                revalidate,\n                                expire\n                            }\n                        };\n                        return cacheEntry;\n                    } else {\n                        // send response without caching if not ISR\n                        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, response, context.renderOpts.pendingWaitUntil);\n                        return null;\n                    }\n                } catch (err) {\n                    // if this is a background revalidate we need to report\n                    // the request error here as it won't be bubbled\n                    if (previousCacheEntry == null ? void 0 : previousCacheEntry.isStale) {\n                        await routeModule.onRequestError(req, err, {\n                            routerKind: 'App Router',\n                            routePath: srcPage,\n                            routeType: 'route',\n                            revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                                isRevalidate,\n                                isOnDemandRevalidate\n                            })\n                        }, routerServerContext);\n                    }\n                    throw err;\n                }\n            };\n            const cacheEntry = await routeModule.handleResponse({\n                req,\n                nextConfig,\n                cacheKey,\n                routeKind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n                isFallback: false,\n                prerenderManifest,\n                isRoutePPREnabled: false,\n                isOnDemandRevalidate,\n                revalidateOnlyGenerated,\n                responseGenerator,\n                waitUntil: ctx.waitUntil\n            });\n            // we don't create a cacheEntry for ISR\n            if (!isIsr) {\n                return null;\n            }\n            if ((cacheEntry == null ? void 0 : (_cacheEntry_value = cacheEntry.value) == null ? void 0 : _cacheEntry_value.kind) !== next_dist_server_response_cache__WEBPACK_IMPORTED_MODULE_15__.CachedRouteKind.APP_ROUTE) {\n                var _cacheEntry_value1;\n                throw Object.defineProperty(new Error(`Invariant: app-route received invalid cache entry ${cacheEntry == null ? void 0 : (_cacheEntry_value1 = cacheEntry.value) == null ? void 0 : _cacheEntry_value1.kind}`), \"__NEXT_ERROR_CODE\", {\n                    value: \"E701\",\n                    enumerable: false,\n                    configurable: true\n                });\n            }\n            if (!(0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode')) {\n                res.setHeader('x-nextjs-cache', isOnDemandRevalidate ? 'REVALIDATED' : cacheEntry.isMiss ? 'MISS' : cacheEntry.isStale ? 'STALE' : 'HIT');\n            }\n            // Draft mode should never be cached\n            if (isDraftMode) {\n                res.setHeader('Cache-Control', 'private, no-cache, no-store, max-age=0, must-revalidate');\n            }\n            const headers = (0,next_dist_server_web_utils__WEBPACK_IMPORTED_MODULE_11__.fromNodeOutgoingHttpHeaders)(cacheEntry.value.headers);\n            if (!((0,next_dist_server_request_meta__WEBPACK_IMPORTED_MODULE_3__.getRequestMeta)(req, 'minimalMode') && isIsr)) {\n                headers.delete(next_dist_lib_constants__WEBPACK_IMPORTED_MODULE_13__.NEXT_CACHE_TAGS_HEADER);\n            }\n            // If cache control is already set on the response we don't\n            // override it to allow users to customize it via next.config\n            if (cacheEntry.cacheControl && !res.getHeader('Cache-Control') && !headers.get('Cache-Control')) {\n                headers.set('Cache-Control', (0,next_dist_server_lib_cache_control__WEBPACK_IMPORTED_MODULE_12__.getCacheControlHeader)(cacheEntry.cacheControl));\n            }\n            await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(cacheEntry.value.body, {\n                headers,\n                status: cacheEntry.value.status || 200\n            }));\n            return null;\n        };\n        // TODO: activeSpan code path is for when wrapped by\n        // next-server can be removed when this is no longer used\n        if (activeSpan) {\n            await handleResponse(activeSpan);\n        } else {\n            await tracer.withPropagatedContext(req.headers, ()=>tracer.trace(next_dist_server_lib_trace_constants__WEBPACK_IMPORTED_MODULE_8__.BaseServerSpan.handleRequest, {\n                    spanName: `${method} ${req.url}`,\n                    kind: next_dist_server_lib_trace_tracer__WEBPACK_IMPORTED_MODULE_4__.SpanKind.SERVER,\n                    attributes: {\n                        'http.method': method,\n                        'http.target': req.url\n                    }\n                }, handleResponse));\n        }\n    } catch (err) {\n        if (!(err instanceof next_dist_shared_lib_no_fallback_error_external__WEBPACK_IMPORTED_MODULE_14__.NoFallbackError)) {\n            await routeModule.onRequestError(req, err, {\n                routerKind: 'App Router',\n                routePath: normalizedSrcPage,\n                routeType: 'route',\n                revalidateReason: (0,next_dist_server_instrumentation_utils__WEBPACK_IMPORTED_MODULE_9__.getRevalidateReason)({\n                    isRevalidate,\n                    isOnDemandRevalidate\n                })\n            });\n        }\n        // rethrow so that we can handle serving error page\n        // If this is during static generation, throw the error again.\n        if (isIsr) throw err;\n        // Otherwise, send a 500 response.\n        await (0,next_dist_server_send_response__WEBPACK_IMPORTED_MODULE_10__.sendResponse)(nodeNextReq, nodeNextRes, new Response(null, {\n            status: 500\n        }));\n        return null;\n    }\n}\n\n//# sourceMappingURL=app-route.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIvaW5kZXguanM/bmFtZT1hcHAlMkZhcGklMkZ2YXQlMkZjYWxjdWxhdGUlMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRnZhdCUyRmNhbGN1bGF0ZSUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRnZhdCUyRmNhbGN1bGF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNvbGl2aSU1Q0RvbWFpbmUlMjBWYWxsb3QlNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUMlM0ElNUNVc2VycyU1Q29saXZpJTVDRG9tYWluZSUyMFZhbGxvdCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCZpc0dsb2JhbE5vdEZvdW5kRW5hYmxlZD0hIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ3FCO0FBQ2Q7QUFDUztBQUNPO0FBQ0s7QUFDbUM7QUFDakQ7QUFDTztBQUNmO0FBQ3NDO0FBQ3pCO0FBQ007QUFDQztBQUNoQjtBQUNvQztBQUN0RztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IseUdBQW1CO0FBQzNDO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxhQUFhLE9BQW9DLElBQUksQ0FBRTtBQUN2RCx3QkFBd0IsTUFBdUM7QUFDL0Q7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtB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QjtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFVBQVU7QUFDViw2RUFBNkUsZ0ZBQWM7QUFDM0YsaUNBQWlDLFFBQVEsRUFBRSxRQUFRO0FBQ25ELDBCQUEwQix1RUFBUTtBQUNsQztBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBLE1BQU07QUFDTiw2QkFBNkIsNkZBQWU7QUFDNUM7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrQ0FBa0MsMkZBQW1CO0FBQ3JEO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakIsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxjQUFjLDZFQUFZO0FBQzFCO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTs7QUFFQSIsInNvdXJjZXMiOlsiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IHBhdGNoRmV0Y2ggYXMgX3BhdGNoRmV0Y2ggfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvcGF0Y2gtZmV0Y2hcIjtcbmltcG9ydCB7IGdldFJlcXVlc3RNZXRhIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcmVxdWVzdC1tZXRhXCI7XG5pbXBvcnQgeyBnZXRUcmFjZXIsIFNwYW5LaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3RyYWNlL3RyYWNlclwiO1xuaW1wb3J0IHsgbm9ybWFsaXplQXBwUGF0aCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2hhcmVkL2xpYi9yb3V0ZXIvdXRpbHMvYXBwLXBhdGhzXCI7XG5pbXBvcnQgeyBOb2RlTmV4dFJlcXVlc3QsIE5vZGVOZXh0UmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9iYXNlLWh0dHAvbm9kZVwiO1xuaW1wb3J0IHsgTmV4dFJlcXVlc3RBZGFwdGVyLCBzaWduYWxGcm9tTm9kZVJlc3BvbnNlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvd2ViL3NwZWMtZXh0ZW5zaW9uL2FkYXB0ZXJzL25leHQtcmVxdWVzdFwiO1xuaW1wb3J0IHsgQmFzZVNlcnZlclNwYW4gfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9saWIvdHJhY2UvY29uc3RhbnRzXCI7XG5pbXBvcnQgeyBnZXRSZXZhbGlkYXRlUmVhc29uIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvaW5zdHJ1bWVudGF0aW9uL3V0aWxzXCI7XG5pbXBvcnQgeyBzZW5kUmVzcG9uc2UgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9zZW5kLXJlc3BvbnNlXCI7XG5pbXBvcnQgeyBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMsIHRvTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci93ZWIvdXRpbHNcIjtcbmltcG9ydCB7IGdldENhY2hlQ29udHJvbEhlYWRlciB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9jYWNoZS1jb250cm9sXCI7XG5pbXBvcnQgeyBJTkZJTklURV9DQUNIRSwgTkVYVF9DQUNIRV9UQUdTX0hFQURFUiB9IGZyb20gXCJuZXh0L2Rpc3QvbGliL2NvbnN0YW50c1wiO1xuaW1wb3J0IHsgTm9GYWxsYmFja0Vycm9yIH0gZnJvbSBcIm5leHQvZGlzdC9zaGFyZWQvbGliL25vLWZhbGxiYWNrLWVycm9yLmV4dGVybmFsXCI7XG5pbXBvcnQgeyBDYWNoZWRSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yZXNwb25zZS1jYWNoZVwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIkM6XFxcXFVzZXJzXFxcXG9saXZpXFxcXERvbWFpbmUgVmFsbG90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHZhdFxcXFxjYWxjdWxhdGVcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3ZhdC9jYWxjdWxhdGUvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS92YXQvY2FsY3VsYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS92YXQvY2FsY3VsYXRlL3JvdXRlXCJcbiAgICB9LFxuICAgIGRpc3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9ESVNUX0RJUiB8fCAnJyxcbiAgICByZWxhdGl2ZVByb2plY3REaXI6IHByb2Nlc3MuZW52Ll9fTkVYVF9SRUxBVElWRV9QUk9KRUNUX0RJUiB8fCAnJyxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXG9saXZpXFxcXERvbWFpbmUgVmFsbG90XFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXHZhdFxcXFxjYWxjdWxhdGVcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyB3b3JrQXN5bmNTdG9yYWdlLCB3b3JrVW5pdEFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICB3b3JrQXN5bmNTdG9yYWdlLFxuICAgICAgICB3b3JrVW5pdEFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHdvcmtBc3luY1N0b3JhZ2UsIHdvcmtVbml0QXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgcGF0Y2hGZXRjaCwgIH07XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcywgY3R4KSB7XG4gICAgdmFyIF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbDtcbiAgICBsZXQgc3JjUGFnZSA9IFwiL2FwaS92YXQvY2FsY3VsYXRlL3JvdXRlXCI7XG4gICAgLy8gdHVyYm9wYWNrIGRvZXNuJ3Qgbm9ybWFsaXplIGAvaW5kZXhgIGluIHRoZSBwYWdlIG5hbWVcbiAgICAvLyBzbyB3ZSBuZWVkIHRvIHRvIHByb2Nlc3MgZHluYW1pYyByb3V0ZXMgcHJvcGVybHlcbiAgICAvLyBUT0RPOiBmaXggdHVyYm9wYWNrIHByb3ZpZGluZyBkaWZmZXJpbmcgdmFsdWUgZnJvbSB3ZWJwYWNrXG4gICAgaWYgKHByb2Nlc3MuZW52LlRVUkJPUEFDSykge1xuICAgICAgICBzcmNQYWdlID0gc3JjUGFnZS5yZXBsYWNlKC9cXC9pbmRleCQvLCAnJykgfHwgJy8nO1xuICAgIH0gZWxzZSBpZiAoc3JjUGFnZSA9PT0gJy9pbmRleCcpIHtcbiAgICAgICAgLy8gd2UgYWx3YXlzIG5vcm1hbGl6ZSAvaW5kZXggc3BlY2lmaWNhbGx5XG4gICAgICAgIHNyY1BhZ2UgPSAnLyc7XG4gICAgfVxuICAgIGNvbnN0IG11bHRpWm9uZURyYWZ0TW9kZSA9IHByb2Nlc3MuZW52Ll9fTkVYVF9NVUxUSV9aT05FX0RSQUZUX01PREU7XG4gICAgY29uc3QgcHJlcGFyZVJlc3VsdCA9IGF3YWl0IHJvdXRlTW9kdWxlLnByZXBhcmUocmVxLCByZXMsIHtcbiAgICAgICAgc3JjUGFnZSxcbiAgICAgICAgbXVsdGlab25lRHJhZnRNb2RlXG4gICAgfSk7XG4gICAgaWYgKCFwcmVwYXJlUmVzdWx0KSB7XG4gICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDAwO1xuICAgICAgICByZXMuZW5kKCdCYWQgUmVxdWVzdCcpO1xuICAgICAgICBjdHgud2FpdFVudGlsID09IG51bGwgPyB2b2lkIDAgOiBjdHgud2FpdFVudGlsLmNhbGwoY3R4LCBQcm9taXNlLnJlc29sdmUoKSk7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB7IGJ1aWxkSWQsIHBhcmFtcywgbmV4dENvbmZpZywgaXNEcmFmdE1vZGUsIHByZXJlbmRlck1hbmlmZXN0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0LCBpc09uRGVtYW5kUmV2YWxpZGF0ZSwgcmV2YWxpZGF0ZU9ubHlHZW5lcmF0ZWQsIHJlc29sdmVkUGF0aG5hbWUgfSA9IHByZXBhcmVSZXN1bHQ7XG4gICAgY29uc3Qgbm9ybWFsaXplZFNyY1BhZ2UgPSBub3JtYWxpemVBcHBQYXRoKHNyY1BhZ2UpO1xuICAgIGxldCBpc0lzciA9IEJvb2xlYW4ocHJlcmVuZGVyTWFuaWZlc3QuZHluYW1pY1JvdXRlc1tub3JtYWxpemVkU3JjUGFnZV0gfHwgcHJlcmVuZGVyTWFuaWZlc3Qucm91dGVzW3Jlc29sdmVkUGF0aG5hbWVdKTtcbiAgICBpZiAoaXNJc3IgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNvbnN0IGlzUHJlcmVuZGVyZWQgPSBCb29sZWFuKHByZXJlbmRlck1hbmlmZXN0LnJvdXRlc1tyZXNvbHZlZFBhdGhuYW1lXSk7XG4gICAgICAgIGNvbnN0IHByZXJlbmRlckluZm8gPSBwcmVyZW5kZXJNYW5pZmVzdC5keW5hbWljUm91dGVzW25vcm1hbGl6ZWRTcmNQYWdlXTtcbiAgICAgICAgaWYgKHByZXJlbmRlckluZm8pIHtcbiAgICAgICAgICAgIGlmIChwcmVyZW5kZXJJbmZvLmZhbGxiYWNrID09PSBmYWxzZSAmJiAhaXNQcmVyZW5kZXJlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb0ZhbGxiYWNrRXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBsZXQgY2FjaGVLZXkgPSBudWxsO1xuICAgIGlmIChpc0lzciAmJiAhcm91dGVNb2R1bGUuaXNEZXYgJiYgIWlzRHJhZnRNb2RlKSB7XG4gICAgICAgIGNhY2hlS2V5ID0gcmVzb2x2ZWRQYXRobmFtZTtcbiAgICAgICAgLy8gZW5zdXJlIC9pbmRleCBhbmQgLyBpcyBub3JtYWxpemVkIHRvIG9uZSBrZXlcbiAgICAgICAgY2FjaGVLZXkgPSBjYWNoZUtleSA9PT0gJy9pbmRleCcgPyAnLycgOiBjYWNoZUtleTtcbiAgICB9XG4gICAgY29uc3Qgc3VwcG9ydHNEeW5hbWljUmVzcG9uc2UgPSAvLyBJZiB3ZSdyZSBpbiBkZXZlbG9wbWVudCwgd2UgYWx3YXlzIHN1cHBvcnQgZHluYW1pYyBIVE1MXG4gICAgcm91dGVNb2R1bGUuaXNEZXYgPT09IHRydWUgfHwgLy8gSWYgdGhpcyBpcyBub3QgU1NHIG9yIGRvZXMgbm90IGhhdmUgc3RhdGljIHBhdGhzLCB0aGVuIGl0IHN1cHBvcnRzXG4gICAgLy8gZHluYW1pYyBIVE1MLlxuICAgICFpc0lzcjtcbiAgICAvLyBUaGlzIGlzIGEgcmV2YWxpZGF0aW9uIHJlcXVlc3QgaWYgdGhlIHJlcXVlc3QgaXMgZm9yIGEgc3RhdGljXG4gICAgLy8gcGFnZSBhbmQgaXQgaXMgbm90IGJlaW5nIHJlc3VtZWQgZnJvbSBhIHBvc3Rwb25lZCByZW5kZXIgYW5kXG4gICAgLy8gaXQgaXMgbm90IGEgZHluYW1pYyBSU0MgcmVxdWVzdCB0aGVuIGl0IGlzIGEgcmV2YWxpZGF0aW9uXG4gICAgLy8gcmVxdWVzdC5cbiAgICBjb25zdCBpc1JldmFsaWRhdGUgPSBpc0lzciAmJiAhc3VwcG9ydHNEeW5hbWljUmVzcG9uc2U7XG4gICAgY29uc3QgbWV0aG9kID0gcmVxLm1ldGhvZCB8fCAnR0VUJztcbiAgICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIoKTtcbiAgICBjb25zdCBhY3RpdmVTcGFuID0gdHJhY2VyLmdldEFjdGl2ZVNjb3BlU3BhbigpO1xuICAgIGNvbnN0IGNvbnRleHQgPSB7XG4gICAgICAgIHBhcmFtcyxcbiAgICAgICAgcHJlcmVuZGVyTWFuaWZlc3QsXG4gICAgICAgIHJlbmRlck9wdHM6IHtcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbDoge1xuICAgICAgICAgICAgICAgIGNhY2hlQ29tcG9uZW50czogQm9vbGVhbihuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbC5jYWNoZUNvbXBvbmVudHMpLFxuICAgICAgICAgICAgICAgIGF1dGhJbnRlcnJ1cHRzOiBCb29sZWFuKG5leHRDb25maWcuZXhwZXJpbWVudGFsLmF1dGhJbnRlcnJ1cHRzKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN1cHBvcnRzRHluYW1pY1Jlc3BvbnNlLFxuICAgICAgICAgICAgaW5jcmVtZW50YWxDYWNoZTogZ2V0UmVxdWVzdE1ldGEocmVxLCAnaW5jcmVtZW50YWxDYWNoZScpLFxuICAgICAgICAgICAgY2FjaGVMaWZlUHJvZmlsZXM6IChfbmV4dENvbmZpZ19leHBlcmltZW50YWwgPSBuZXh0Q29uZmlnLmV4cGVyaW1lbnRhbCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9uZXh0Q29uZmlnX2V4cGVyaW1lbnRhbC5jYWNoZUxpZmUsXG4gICAgICAgICAgICBpc1JldmFsaWRhdGUsXG4gICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWwsXG4gICAgICAgICAgICBvbkNsb3NlOiAoY2IpPT57XG4gICAgICAgICAgICAgICAgcmVzLm9uKCdjbG9zZScsIGNiKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkFmdGVyVGFza0Vycm9yOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBvbkluc3RydW1lbnRhdGlvblJlcXVlc3RFcnJvcjogKGVycm9yLCBfcmVxdWVzdCwgZXJyb3JDb250ZXh0KT0+cm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnJvciwgZXJyb3JDb250ZXh0LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KVxuICAgICAgICB9LFxuICAgICAgICBzaGFyZWRDb250ZXh0OiB7XG4gICAgICAgICAgICBidWlsZElkXG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IG5vZGVOZXh0UmVxID0gbmV3IE5vZGVOZXh0UmVxdWVzdChyZXEpO1xuICAgIGNvbnN0IG5vZGVOZXh0UmVzID0gbmV3IE5vZGVOZXh0UmVzcG9uc2UocmVzKTtcbiAgICBjb25zdCBuZXh0UmVxID0gTmV4dFJlcXVlc3RBZGFwdGVyLmZyb21Ob2RlTmV4dFJlcXVlc3Qobm9kZU5leHRSZXEsIHNpZ25hbEZyb21Ob2RlUmVzcG9uc2UocmVzKSk7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW52b2tlUm91dGVNb2R1bGUgPSBhc3luYyAoc3Bhbik9PntcbiAgICAgICAgICAgIHJldHVybiByb3V0ZU1vZHVsZS5oYW5kbGUobmV4dFJlcSwgY29udGV4dCkuZmluYWxseSgoKT0+e1xuICAgICAgICAgICAgICAgIGlmICghc3BhbikgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICdodHRwLnN0YXR1c19jb2RlJzogcmVzLnN0YXR1c0NvZGUsXG4gICAgICAgICAgICAgICAgICAgICduZXh0LnJzYyc6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgY29uc3Qgcm9vdFNwYW5BdHRyaWJ1dGVzID0gdHJhY2VyLmdldFJvb3RTcGFuQXR0cmlidXRlcygpO1xuICAgICAgICAgICAgICAgIC8vIFdlIHdlcmUgdW5hYmxlIHRvIGdldCBhdHRyaWJ1dGVzLCBwcm9iYWJseSBPVEVMIGlzIG5vdCBlbmFibGVkXG4gICAgICAgICAgICAgICAgaWYgKCFyb290U3BhbkF0dHJpYnV0ZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKSAhPT0gQmFzZVNlcnZlclNwYW4uaGFuZGxlUmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFVuZXhwZWN0ZWQgcm9vdCBzcGFuIHR5cGUgJyR7cm9vdFNwYW5BdHRyaWJ1dGVzLmdldCgnbmV4dC5zcGFuX3R5cGUnKX0nLiBQbGVhc2UgcmVwb3J0IHRoaXMgTmV4dC5qcyBpc3N1ZSBodHRwczovL2dpdGh1Yi5jb20vdmVyY2VsL25leHQuanNgKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByb3V0ZSA9IHJvb3RTcGFuQXR0cmlidXRlcy5nZXQoJ25leHQucm91dGUnKTtcbiAgICAgICAgICAgICAgICBpZiAocm91dGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbmFtZSA9IGAke21ldGhvZH0gJHtyb3V0ZX1gO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25leHQucm91dGUnOiByb3V0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICdodHRwLnJvdXRlJzogcm91dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmV4dC5zcGFuX25hbWUnOiBuYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzcGFuLnVwZGF0ZU5hbWUobmFtZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbi51cGRhdGVOYW1lKGAke21ldGhvZH0gJHtyZXEudXJsfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBoYW5kbGVSZXNwb25zZSA9IGFzeW5jIChjdXJyZW50U3Bhbik9PntcbiAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlR2VuZXJhdG9yID0gYXN5bmMgKHsgcHJldmlvdXNDYWNoZUVudHJ5IH0pPT57XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFnZXRSZXF1ZXN0TWV0YShyZXEsICdtaW5pbWFsTW9kZScpICYmIGlzT25EZW1hbmRSZXZhbGlkYXRlICYmIHJldmFsaWRhdGVPbmx5R2VuZXJhdGVkICYmICFwcmV2aW91c0NhY2hlRW50cnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zdGF0dXNDb2RlID0gNDA0O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gb24tZGVtYW5kIHJldmFsaWRhdGUgYWx3YXlzIHNldHMgdGhpcyBoZWFkZXJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgJ1JFVkFMSURBVEVEJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXMuZW5kKCdUaGlzIHBhZ2UgY291bGQgbm90IGJlIGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGludm9rZVJvdXRlTW9kdWxlKGN1cnJlbnRTcGFuKTtcbiAgICAgICAgICAgICAgICAgICAgcmVxLmZldGNoTWV0cmljcyA9IGNvbnRleHQucmVuZGVyT3B0cy5mZXRjaE1ldHJpY3M7XG4gICAgICAgICAgICAgICAgICAgIGxldCBwZW5kaW5nV2FpdFVudGlsID0gY29udGV4dC5yZW5kZXJPcHRzLnBlbmRpbmdXYWl0VW50aWw7XG4gICAgICAgICAgICAgICAgICAgIC8vIEF0dGVtcHQgdXNpbmcgcHJvdmlkZWQgd2FpdFVudGlsIGlmIGF2YWlsYWJsZVxuICAgICAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIG5vdCB3ZSBmYWxsYmFjayB0byBzZW5kUmVzcG9uc2UncyBoYW5kbGluZ1xuICAgICAgICAgICAgICAgICAgICBpZiAocGVuZGluZ1dhaXRVbnRpbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGN0eC53YWl0VW50aWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdHgud2FpdFVudGlsKHBlbmRpbmdXYWl0VW50aWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBlbmRpbmdXYWl0VW50aWwgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVUYWdzID0gY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFRhZ3M7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRoZSByZXF1ZXN0IGlzIGZvciBhIHN0YXRpYyByZXNwb25zZSwgd2UgY2FuIGNhY2hlIGl0IHNvIGxvbmdcbiAgICAgICAgICAgICAgICAgICAgLy8gYXMgaXQncyBub3QgZWRnZS5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzSXNyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBibG9iID0gYXdhaXQgcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29weSB0aGUgaGVhZGVycyBmcm9tIHRoZSByZXNwb25zZS5cbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSB0b05vZGVPdXRnb2luZ0h0dHBIZWFkZXJzKHJlc3BvbnNlLmhlYWRlcnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhY2hlVGFncykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbTkVYVF9DQUNIRV9UQUdTX0hFQURFUl0gPSBjYWNoZVRhZ3M7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddICYmIGJsb2IudHlwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnNbJ2NvbnRlbnQtdHlwZSddID0gYmxvYi50eXBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmV2YWxpZGF0ZSA9IHR5cGVvZiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkUmV2YWxpZGF0ZSA9PT0gJ3VuZGVmaW5lZCcgfHwgY29udGV4dC5yZW5kZXJPcHRzLmNvbGxlY3RlZFJldmFsaWRhdGUgPj0gSU5GSU5JVEVfQ0FDSEUgPyBmYWxzZSA6IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRSZXZhbGlkYXRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXhwaXJlID0gdHlwZW9mIGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPT09ICd1bmRlZmluZWQnIHx8IGNvbnRleHQucmVuZGVyT3B0cy5jb2xsZWN0ZWRFeHBpcmUgPj0gSU5GSU5JVEVfQ0FDSEUgPyB1bmRlZmluZWQgOiBjb250ZXh0LnJlbmRlck9wdHMuY29sbGVjdGVkRXhwaXJlO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ3JlYXRlIHRoZSBjYWNoZSBlbnRyeSBmb3IgdGhlIHJlc3BvbnNlLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY2FjaGVFbnRyeSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBraW5kOiBDYWNoZWRSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0dXM6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogQnVmZmVyLmZyb20oYXdhaXQgYmxvYi5hcnJheUJ1ZmZlcigpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGVDb250cm9sOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmFsaWRhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4cGlyZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY2FjaGVFbnRyeTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHNlbmQgcmVzcG9uc2Ugd2l0aG91dCBjYWNoaW5nIGlmIG5vdCBJU1JcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHNlbmRSZXNwb25zZShub2RlTmV4dFJlcSwgbm9kZU5leHRSZXMsIHJlc3BvbnNlLCBjb250ZXh0LnJlbmRlck9wdHMucGVuZGluZ1dhaXRVbnRpbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiB0aGlzIGlzIGEgYmFja2dyb3VuZCByZXZhbGlkYXRlIHdlIG5lZWQgdG8gcmVwb3J0XG4gICAgICAgICAgICAgICAgICAgIC8vIHRoZSByZXF1ZXN0IGVycm9yIGhlcmUgYXMgaXQgd29uJ3QgYmUgYnViYmxlZFxuICAgICAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNDYWNoZUVudHJ5ID09IG51bGwgPyB2b2lkIDAgOiBwcmV2aW91c0NhY2hlRW50cnkuaXNTdGFsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgcm91dGVNb2R1bGUub25SZXF1ZXN0RXJyb3IocmVxLCBlcnIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3V0ZXJLaW5kOiAnQXBwIFJvdXRlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm91dGVQYXRoOiBzcmNQYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCByb3V0ZXJTZXJ2ZXJDb250ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IGNhY2hlRW50cnkgPSBhd2FpdCByb3V0ZU1vZHVsZS5oYW5kbGVSZXNwb25zZSh7XG4gICAgICAgICAgICAgICAgcmVxLFxuICAgICAgICAgICAgICAgIG5leHRDb25maWcsXG4gICAgICAgICAgICAgICAgY2FjaGVLZXksXG4gICAgICAgICAgICAgICAgcm91dGVLaW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICAgICAgICAgIGlzRmFsbGJhY2s6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHByZXJlbmRlck1hbmlmZXN0LFxuICAgICAgICAgICAgICAgIGlzUm91dGVQUFJFbmFibGVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZSxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlT25seUdlbmVyYXRlZCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUdlbmVyYXRvcixcbiAgICAgICAgICAgICAgICB3YWl0VW50aWw6IGN0eC53YWl0VW50aWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gd2UgZG9uJ3QgY3JlYXRlIGEgY2FjaGVFbnRyeSBmb3IgSVNSXG4gICAgICAgICAgICBpZiAoIWlzSXNyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGNhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZSA9IGNhY2hlRW50cnkudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfY2FjaGVFbnRyeV92YWx1ZS5raW5kKSAhPT0gQ2FjaGVkUm91dGVLaW5kLkFQUF9ST1VURSkge1xuICAgICAgICAgICAgICAgIHZhciBfY2FjaGVFbnRyeV92YWx1ZTE7XG4gICAgICAgICAgICAgICAgdGhyb3cgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ldyBFcnJvcihgSW52YXJpYW50OiBhcHAtcm91dGUgcmVjZWl2ZWQgaW52YWxpZCBjYWNoZSBlbnRyeSAke2NhY2hlRW50cnkgPT0gbnVsbCA/IHZvaWQgMCA6IChfY2FjaGVFbnRyeV92YWx1ZTEgPSBjYWNoZUVudHJ5LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2NhY2hlRW50cnlfdmFsdWUxLmtpbmR9YCksIFwiX19ORVhUX0VSUk9SX0NPREVcIiwge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogXCJFNzAxXCIsXG4gICAgICAgICAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghZ2V0UmVxdWVzdE1ldGEocmVxLCAnbWluaW1hbE1vZGUnKSkge1xuICAgICAgICAgICAgICAgIHJlcy5zZXRIZWFkZXIoJ3gtbmV4dGpzLWNhY2hlJywgaXNPbkRlbWFuZFJldmFsaWRhdGUgPyAnUkVWQUxJREFURUQnIDogY2FjaGVFbnRyeS5pc01pc3MgPyAnTUlTUycgOiBjYWNoZUVudHJ5LmlzU3RhbGUgPyAnU1RBTEUnIDogJ0hJVCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gRHJhZnQgbW9kZSBzaG91bGQgbmV2ZXIgYmUgY2FjaGVkXG4gICAgICAgICAgICBpZiAoaXNEcmFmdE1vZGUpIHtcbiAgICAgICAgICAgICAgICByZXMuc2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJywgJ3ByaXZhdGUsIG5vLWNhY2hlLCBuby1zdG9yZSwgbWF4LWFnZT0wLCBtdXN0LXJldmFsaWRhdGUnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBmcm9tTm9kZU91dGdvaW5nSHR0cEhlYWRlcnMoY2FjaGVFbnRyeS52YWx1ZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIGlmICghKGdldFJlcXVlc3RNZXRhKHJlcSwgJ21pbmltYWxNb2RlJykgJiYgaXNJc3IpKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVycy5kZWxldGUoTkVYVF9DQUNIRV9UQUdTX0hFQURFUik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiBjYWNoZSBjb250cm9sIGlzIGFscmVhZHkgc2V0IG9uIHRoZSByZXNwb25zZSB3ZSBkb24ndFxuICAgICAgICAgICAgLy8gb3ZlcnJpZGUgaXQgdG8gYWxsb3cgdXNlcnMgdG8gY3VzdG9taXplIGl0IHZpYSBuZXh0LmNvbmZpZ1xuICAgICAgICAgICAgaWYgKGNhY2hlRW50cnkuY2FjaGVDb250cm9sICYmICFyZXMuZ2V0SGVhZGVyKCdDYWNoZS1Db250cm9sJykgJiYgIWhlYWRlcnMuZ2V0KCdDYWNoZS1Db250cm9sJykpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnQ2FjaGUtQ29udHJvbCcsIGdldENhY2hlQ29udHJvbEhlYWRlcihjYWNoZUVudHJ5LmNhY2hlQ29udHJvbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKGNhY2hlRW50cnkudmFsdWUuYm9keSwge1xuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgc3RhdHVzOiBjYWNoZUVudHJ5LnZhbHVlLnN0YXR1cyB8fCAyMDBcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgICAvLyBUT0RPOiBhY3RpdmVTcGFuIGNvZGUgcGF0aCBpcyBmb3Igd2hlbiB3cmFwcGVkIGJ5XG4gICAgICAgIC8vIG5leHQtc2VydmVyIGNhbiBiZSByZW1vdmVkIHdoZW4gdGhpcyBpcyBubyBsb25nZXIgdXNlZFxuICAgICAgICBpZiAoYWN0aXZlU3Bhbikge1xuICAgICAgICAgICAgYXdhaXQgaGFuZGxlUmVzcG9uc2UoYWN0aXZlU3Bhbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhd2FpdCB0cmFjZXIud2l0aFByb3BhZ2F0ZWRDb250ZXh0KHJlcS5oZWFkZXJzLCAoKT0+dHJhY2VyLnRyYWNlKEJhc2VTZXJ2ZXJTcGFuLmhhbmRsZVJlcXVlc3QsIHtcbiAgICAgICAgICAgICAgICAgICAgc3Bhbk5hbWU6IGAke21ldGhvZH0gJHtyZXEudXJsfWAsXG4gICAgICAgICAgICAgICAgICAgIGtpbmQ6IFNwYW5LaW5kLlNFUlZFUixcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAubWV0aG9kJzogbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ2h0dHAudGFyZ2V0JzogcmVxLnVybFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSwgaGFuZGxlUmVzcG9uc2UpKTtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBOb0ZhbGxiYWNrRXJyb3IpKSB7XG4gICAgICAgICAgICBhd2FpdCByb3V0ZU1vZHVsZS5vblJlcXVlc3RFcnJvcihyZXEsIGVyciwge1xuICAgICAgICAgICAgICAgIHJvdXRlcktpbmQ6ICdBcHAgUm91dGVyJyxcbiAgICAgICAgICAgICAgICByb3V0ZVBhdGg6IG5vcm1hbGl6ZWRTcmNQYWdlLFxuICAgICAgICAgICAgICAgIHJvdXRlVHlwZTogJ3JvdXRlJyxcbiAgICAgICAgICAgICAgICByZXZhbGlkYXRlUmVhc29uOiBnZXRSZXZhbGlkYXRlUmVhc29uKHtcbiAgICAgICAgICAgICAgICAgICAgaXNSZXZhbGlkYXRlLFxuICAgICAgICAgICAgICAgICAgICBpc09uRGVtYW5kUmV2YWxpZGF0ZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICAvLyByZXRocm93IHNvIHRoYXQgd2UgY2FuIGhhbmRsZSBzZXJ2aW5nIGVycm9yIHBhZ2VcbiAgICAgICAgLy8gSWYgdGhpcyBpcyBkdXJpbmcgc3RhdGljIGdlbmVyYXRpb24sIHRocm93IHRoZSBlcnJvciBhZ2Fpbi5cbiAgICAgICAgaWYgKGlzSXNyKSB0aHJvdyBlcnI7XG4gICAgICAgIC8vIE90aGVyd2lzZSwgc2VuZCBhIDUwMCByZXNwb25zZS5cbiAgICAgICAgYXdhaXQgc2VuZFJlc3BvbnNlKG5vZGVOZXh0UmVxLCBub2RlTmV4dFJlcywgbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgICAgIHN0YXR1czogNTAwXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvat%2Fcalculate%2Froute&page=%2Fapi%2Fvat%2Fcalculate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvat%2Fcalculate%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!\n");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "(rsc)/./src/app/api/vat/calculate/route.ts":
/*!********************************************!*\
  !*** ./src/app/api/vat/calculate/route.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_vat_calculator__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/vat/calculator */ \"(rsc)/./src/lib/vat/calculator.ts\");\n/* harmony import */ var _lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/validators/schemas */ \"(rsc)/./src/lib/validators/schemas.ts\");\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const validation = (0,_lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__.validateSchema)(_lib_validators_schemas__WEBPACK_IMPORTED_MODULE_2__.vatCalculationSchema, body);\n        if (!validation.success) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'Invalid VAT calculation data',\n                details: validation.errors\n            }, {\n                status: 400\n            });\n        }\n        const { amount, shippingAmount, country, customerType, vatNumber } = validation.data;\n        const vatCalculation = (0,_lib_vat_calculator__WEBPACK_IMPORTED_MODULE_1__.calculateVat)({\n            amount,\n            shipping_amount: shippingAmount,\n            country_code: country,\n            customer_type: customerType,\n            business_vat_number: vatNumber\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            calculation: {\n                ...vatCalculation,\n                formatted: {\n                    base_amount: (vatCalculation.base_amount / 100).toFixed(2),\n                    vat_amount: (vatCalculation.vat_amount / 100).toFixed(2),\n                    total_amount: (vatCalculation.total_amount / 100).toFixed(2),\n                    vat_rate: `${(vatCalculation.vat_rate * 100).toFixed(0)}%`\n                }\n            }\n        });\n    } catch (error) {\n        console.error('VAT calculation error:', error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: 'VAT calculation failed'\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS92YXQvY2FsY3VsYXRlL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBdUQ7QUFDSjtBQUM0QjtBQUV4RSxlQUFlSSxLQUFLQyxPQUFvQjtJQUM3QyxJQUFJO1FBQ0YsTUFBTUMsT0FBTyxNQUFNRCxRQUFRRSxJQUFJO1FBQy9CLE1BQU1DLGFBQWFMLHVFQUFjQSxDQUFDRCx5RUFBb0JBLEVBQUVJO1FBRXhELElBQUksQ0FBQ0UsV0FBV0MsT0FBTyxFQUFFO1lBQ3ZCLE9BQU9ULHFEQUFZQSxDQUFDTyxJQUFJLENBQ3RCO2dCQUFFRyxPQUFPO2dCQUFnQ0MsU0FBU0gsV0FBV0ksTUFBTTtZQUFDLEdBQ3BFO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSxNQUFNLEVBQUVDLE1BQU0sRUFBRUMsY0FBYyxFQUFFQyxPQUFPLEVBQUVDLFlBQVksRUFBRUMsU0FBUyxFQUFFLEdBQUdWLFdBQVdXLElBQUk7UUFFcEYsTUFBTUMsaUJBQWlCbkIsaUVBQVlBLENBQUM7WUFDbENhO1lBQ0FPLGlCQUFpQk47WUFDakJPLGNBQWNOO1lBQ2RPLGVBQWVOO1lBQ2ZPLHFCQUFxQk47UUFDdkI7UUFFQSxPQUFPbEIscURBQVlBLENBQUNPLElBQUksQ0FBQztZQUN2QmtCLGFBQWE7Z0JBQ1gsR0FBR0wsY0FBYztnQkFDakJNLFdBQVc7b0JBQ1RDLGFBQWEsQ0FBQ1AsZUFBZU8sV0FBVyxHQUFHLEdBQUUsRUFBR0MsT0FBTyxDQUFDO29CQUN4REMsWUFBWSxDQUFDVCxlQUFlUyxVQUFVLEdBQUcsR0FBRSxFQUFHRCxPQUFPLENBQUM7b0JBQ3RERSxjQUFjLENBQUNWLGVBQWVVLFlBQVksR0FBRyxHQUFFLEVBQUdGLE9BQU8sQ0FBQztvQkFDMURHLFVBQVUsR0FBRyxDQUFDWCxlQUFlVyxRQUFRLEdBQUcsR0FBRSxFQUFHSCxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7Z0JBQzVEO1lBQ0Y7UUFDRjtJQUVGLEVBQUUsT0FBT2xCLE9BQU87UUFDZHNCLFFBQVF0QixLQUFLLENBQUMsMEJBQTBCQTtRQUN4QyxPQUFPVixxREFBWUEsQ0FBQ08sSUFBSSxDQUN0QjtZQUFFRyxPQUFPO1FBQXlCLEdBQ2xDO1lBQUVHLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXG9saXZpXFxEb21haW5lIFZhbGxvdFxcc3JjXFxhcHBcXGFwaVxcdmF0XFxjYWxjdWxhdGVcXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGNhbGN1bGF0ZVZhdCB9IGZyb20gJ0AvbGliL3ZhdC9jYWxjdWxhdG9yJ1xuaW1wb3J0IHsgdmF0Q2FsY3VsYXRpb25TY2hlbWEsIHZhbGlkYXRlU2NoZW1hIH0gZnJvbSAnQC9saWIvdmFsaWRhdG9ycy9zY2hlbWFzJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHZhbGlkYXRpb24gPSB2YWxpZGF0ZVNjaGVtYSh2YXRDYWxjdWxhdGlvblNjaGVtYSwgYm9keSlcblxuICAgIGlmICghdmFsaWRhdGlvbi5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdJbnZhbGlkIFZBVCBjYWxjdWxhdGlvbiBkYXRhJywgZGV0YWlsczogdmFsaWRhdGlvbi5lcnJvcnMgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgY29uc3QgeyBhbW91bnQsIHNoaXBwaW5nQW1vdW50LCBjb3VudHJ5LCBjdXN0b21lclR5cGUsIHZhdE51bWJlciB9ID0gdmFsaWRhdGlvbi5kYXRhXG5cbiAgICBjb25zdCB2YXRDYWxjdWxhdGlvbiA9IGNhbGN1bGF0ZVZhdCh7XG4gICAgICBhbW91bnQsXG4gICAgICBzaGlwcGluZ19hbW91bnQ6IHNoaXBwaW5nQW1vdW50LFxuICAgICAgY291bnRyeV9jb2RlOiBjb3VudHJ5LFxuICAgICAgY3VzdG9tZXJfdHlwZTogY3VzdG9tZXJUeXBlLFxuICAgICAgYnVzaW5lc3NfdmF0X251bWJlcjogdmF0TnVtYmVyXG4gICAgfSlcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBjYWxjdWxhdGlvbjoge1xuICAgICAgICAuLi52YXRDYWxjdWxhdGlvbixcbiAgICAgICAgZm9ybWF0dGVkOiB7XG4gICAgICAgICAgYmFzZV9hbW91bnQ6ICh2YXRDYWxjdWxhdGlvbi5iYXNlX2Ftb3VudCAvIDEwMCkudG9GaXhlZCgyKSxcbiAgICAgICAgICB2YXRfYW1vdW50OiAodmF0Q2FsY3VsYXRpb24udmF0X2Ftb3VudCAvIDEwMCkudG9GaXhlZCgyKSxcbiAgICAgICAgICB0b3RhbF9hbW91bnQ6ICh2YXRDYWxjdWxhdGlvbi50b3RhbF9hbW91bnQgLyAxMDApLnRvRml4ZWQoMiksXG4gICAgICAgICAgdmF0X3JhdGU6IGAkeyh2YXRDYWxjdWxhdGlvbi52YXRfcmF0ZSAqIDEwMCkudG9GaXhlZCgwKX0lYFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ZBVCBjYWxjdWxhdGlvbiBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnVkFUIGNhbGN1bGF0aW9uIGZhaWxlZCcgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgIClcbiAgfVxufSJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJjYWxjdWxhdGVWYXQiLCJ2YXRDYWxjdWxhdGlvblNjaGVtYSIsInZhbGlkYXRlU2NoZW1hIiwiUE9TVCIsInJlcXVlc3QiLCJib2R5IiwianNvbiIsInZhbGlkYXRpb24iLCJzdWNjZXNzIiwiZXJyb3IiLCJkZXRhaWxzIiwiZXJyb3JzIiwic3RhdHVzIiwiYW1vdW50Iiwic2hpcHBpbmdBbW91bnQiLCJjb3VudHJ5IiwiY3VzdG9tZXJUeXBlIiwidmF0TnVtYmVyIiwiZGF0YSIsInZhdENhbGN1bGF0aW9uIiwic2hpcHBpbmdfYW1vdW50IiwiY291bnRyeV9jb2RlIiwiY3VzdG9tZXJfdHlwZSIsImJ1c2luZXNzX3ZhdF9udW1iZXIiLCJjYWxjdWxhdGlvbiIsImZvcm1hdHRlZCIsImJhc2VfYW1vdW50IiwidG9GaXhlZCIsInZhdF9hbW91bnQiLCJ0b3RhbF9hbW91bnQiLCJ2YXRfcmF0ZSIsImNvbnNvbGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/vat/calculate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/validators/schemas.ts":
/*!***************************************!*\
  !*** ./src/lib/validators/schemas.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   addToCartSchema: () => (/* binding */ addToCartSchema),\n/* harmony export */   addressSchema: () => (/* binding */ addressSchema),\n/* harmony export */   adminLoginSchema: () => (/* binding */ adminLoginSchema),\n/* harmony export */   adminUserSchema: () => (/* binding */ adminUserSchema),\n/* harmony export */   ageVerificationSchema: () => (/* binding */ ageVerificationSchema),\n/* harmony export */   changePasswordSchema: () => (/* binding */ changePasswordSchema),\n/* harmony export */   checkoutBillingSchema: () => (/* binding */ checkoutBillingSchema),\n/* harmony export */   checkoutCustomerSchema: () => (/* binding */ checkoutCustomerSchema),\n/* harmony export */   checkoutPaymentSchema: () => (/* binding */ checkoutPaymentSchema),\n/* harmony export */   checkoutShippingSchema: () => (/* binding */ checkoutShippingSchema),\n/* harmony export */   completeCheckoutSchema: () => (/* binding */ completeCheckoutSchema),\n/* harmony export */   contactFormSchema: () => (/* binding */ contactFormSchema),\n/* harmony export */   customerLoginSchema: () => (/* binding */ customerLoginSchema),\n/* harmony export */   customerRegistrationSchema: () => (/* binding */ customerRegistrationSchema),\n/* harmony export */   forgotPasswordSchema: () => (/* binding */ forgotPasswordSchema),\n/* harmony export */   getErrorMessage: () => (/* binding */ getErrorMessage),\n/* harmony export */   hasErrors: () => (/* binding */ hasErrors),\n/* harmony export */   imageUploadSchema: () => (/* binding */ imageUploadSchema),\n/* harmony export */   inventoryAdjustmentSchema: () => (/* binding */ inventoryAdjustmentSchema),\n/* harmony export */   loginSchema: () => (/* binding */ loginSchema),\n/* harmony export */   newsletterSchema: () => (/* binding */ newsletterSchema),\n/* harmony export */   orderSchema: () => (/* binding */ orderSchema),\n/* harmony export */   productImageSchema: () => (/* binding */ productImageSchema),\n/* harmony export */   productSchema: () => (/* binding */ productSchema),\n/* harmony export */   productSearchSchema: () => (/* binding */ productSearchSchema),\n/* harmony export */   registerSchema: () => (/* binding */ registerSchema),\n/* harmony export */   resetPasswordSchema: () => (/* binding */ resetPasswordSchema),\n/* harmony export */   shippingRateSchema: () => (/* binding */ shippingRateSchema),\n/* harmony export */   updateCartItemSchema: () => (/* binding */ updateCartItemSchema),\n/* harmony export */   updateWineProductSchema: () => (/* binding */ updateWineProductSchema),\n/* harmony export */   validateSchema: () => (/* binding */ validateSchema),\n/* harmony export */   vatCalculationSchema: () => (/* binding */ vatCalculationSchema),\n/* harmony export */   wineContactFormSchema: () => (/* binding */ wineContactFormSchema),\n/* harmony export */   wineProductSchema: () => (/* binding */ wineProductSchema)\n/* harmony export */ });\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/types.js\");\n/* harmony import */ var zod__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! zod */ \"(rsc)/./node_modules/zod/v3/ZodError.js\");\n\n// Common validation patterns\nconst emailSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().email('Please enter a valid email address');\nconst phoneSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^(\\+\\d{1,3}[- ]?)?\\d{8,15}$/, 'Please enter a valid phone number').optional();\nconst postalCodeSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'Postal code must be at least 3 characters').max(10, 'Postal code cannot exceed 10 characters');\nconst passwordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().min(8, 'Password must be at least 8 characters').regex(/[A-Z]/, 'Password must contain at least one uppercase letter').regex(/[a-z]/, 'Password must contain at least one lowercase letter').regex(/\\d/, 'Password must contain at least one number').regex(/[!@#$%^&*]/, 'Password must contain at least one special character');\n// Age verification schemas\nconst ageVerificationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    birthDay: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Please select a valid day').max(31, 'Please select a valid day'),\n    birthMonth: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Please select a valid month').max(12, 'Please select a valid month'),\n    birthYear: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1900, 'Please enter a realistic birth year').max(new Date().getFullYear(), 'Birth year cannot be in the future'),\n    documentType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'id_card',\n        'passport',\n        'drivers_license'\n    ]).optional(),\n    documentNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code').optional()\n}).refine((data)=>{\n    // Validate birth date\n    const birthDate = new Date(data.birthYear, data.birthMonth - 1, data.birthDay);\n    return !isNaN(birthDate.getTime()) && birthDate <= new Date();\n}, {\n    message: 'Please enter a valid birth date',\n    path: [\n        'birthDay'\n    ]\n});\n// Customer registration schemas\nconst customerRegistrationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name must be at least 2 characters').max(50, 'First name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'First name contains invalid characters'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name must be at least 2 characters').max(50, 'Last name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Last name contains invalid characters'),\n    phone: phoneSchema,\n    birthDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((date)=>{\n        const birthDate = new Date(date);\n        const age = new Date().getFullYear() - birthDate.getFullYear();\n        return !isNaN(birthDate.getTime()) && age >= 16 && age <= 120;\n    }, 'You must be at least 16 years old to register'),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions'),\n    acceptPrivacy: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the privacy policy'),\n    acceptMarketing: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Please select a country')\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\n// Authentication schemas\nconst loginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Password is required'),\n    rememberMe: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst registerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string(),\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name must be at least 2 characters').max(50, 'First name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'First name contains invalid characters'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name must be at least 2 characters').max(50, 'Last name cannot exceed 50 characters').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Last name contains invalid characters'),\n    phone: phoneSchema,\n    birthDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((date)=>{\n        const birthDate = new Date(date);\n        const age = new Date().getFullYear() - birthDate.getFullYear();\n        return !isNaN(birthDate.getTime()) && age >= 18 && age <= 120;\n    }, 'You must be at least 18 years old to register'),\n    preferredLanguage: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'en',\n        'fr'\n    ]),\n    marketingConsent: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    newsletterConsent: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isBusiness: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    companyName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Company name is required').optional(),\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^[A-Z]{2}[0-9A-Z]+$/, 'Invalid VAT number format').optional(),\n    termsAccepted: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions'),\n    privacyAccepted: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the privacy policy')\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n}).refine((data)=>{\n    if (data.isBusiness) {\n        return data.companyName && data.companyName.length >= 2;\n    }\n    return true;\n}, {\n    message: 'Company name is required for business accounts',\n    path: [\n        'companyName'\n    ]\n});\nconst forgotPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema\n});\nconst resetPasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    token: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Reset token is required'),\n    password: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n}).refine((data)=>data.password === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\nconst changePasswordSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    currentPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Current password is required'),\n    newPassword: passwordSchema,\n    confirmPassword: zod__WEBPACK_IMPORTED_MODULE_0__.string()\n}).refine((data)=>data.newPassword === data.confirmPassword, {\n    message: 'Passwords do not match',\n    path: [\n        'confirmPassword'\n    ]\n});\n// Legacy alias for backward compatibility\nconst customerLoginSchema = loginSchema;\n// Address schemas\nconst addressSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    company: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    address: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(5, 'Street address is required'),\n    address2: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'City is required'),\n    postalCode: postalCodeSchema,\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Please select a country'),\n    phone: phoneSchema\n});\n// Checkout schemas\nconst checkoutCustomerSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    phone: phoneSchema,\n    createAccount: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n}).refine((data)=>{\n    if (data.createAccount) {\n        return data.password && data.password.length >= 8;\n    }\n    return true;\n}, {\n    message: 'Password is required when creating an account',\n    path: [\n        'password'\n    ]\n});\nconst checkoutShippingSchema = addressSchema;\nconst checkoutBillingSchema = addressSchema.extend({\n    sameAsShipping: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n});\nconst checkoutPaymentSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    paymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'mollie',\n        'stripe',\n        'paypal'\n    ]),\n    savePaymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions')\n});\nconst completeCheckoutSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    customer: checkoutCustomerSchema,\n    shipping: checkoutShippingSchema,\n    billing: checkoutBillingSchema,\n    payment: checkoutPaymentSchema,\n    ageVerification: ageVerificationSchema,\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional(),\n    specialInstructions: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Special instructions cannot exceed 500 characters').optional()\n});\n// Cart schemas\nconst addToCartSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n    quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').max(24, 'Maximum 24 bottles per product').int('Quantity must be a whole number'),\n    variantId: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\nconst updateCartItemSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Quantity must be 0 or more').max(24, 'Maximum 24 bottles per product').int('Quantity must be a whole number')\n});\n// Product schemas (for admin)\nconst wineProductSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    sku: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'SKU must be at least 3 characters').max(50, 'SKU cannot exceed 50 characters').regex(/^[A-Z0-9-]+$/, 'SKU must contain only uppercase letters, numbers, and hyphens'),\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'Product name must be at least 3 characters').max(100, 'Product name cannot exceed 100 characters'),\n    vintage: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1800, 'Vintage must be realistic').max(new Date().getFullYear() + 1, 'Vintage cannot be too far in the future').int('Vintage must be a whole number'),\n    varietal: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Varietal must be at least 2 characters').max(100, 'Varietal cannot exceed 100 characters'),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Region name too long').optional(),\n    alcohol_content: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0.5, 'Alcohol content must be at least 0.5%').max(20, 'Alcohol content cannot exceed 20%'),\n    volume_ml: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(187, 'Minimum volume is 187ml').max(3000, 'Maximum volume is 3000ml').int('Volume must be a whole number').default(750),\n    price_eur: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Price cannot be negative').max(10000, 'Price cannot exceed €10,000.00'),\n    cost_eur: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Cost cannot be negative').max(10000, 'Cost cannot exceed €10,000.00').optional(),\n    stock_quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Stock quantity cannot be negative').max(10000, 'Stock quantity cannot exceed 10,000').int('Stock quantity must be a whole number').default(0),\n    reserved_quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Reserved quantity cannot be negative').int('Reserved quantity must be a whole number').default(0),\n    reorder_level: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Reorder level cannot be negative').int('Reorder level must be a whole number').optional(),\n    weight_grams: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(100, 'Weight must be at least 100g').max(5000, 'Weight cannot exceed 5kg').int('Weight must be a whole number').default(1200),\n    description_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'English description must be at least 10 characters').max(2000, 'English description cannot exceed 2000 characters'),\n    description_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'French description must be at least 10 characters').max(2000, 'French description cannot exceed 2000 characters'),\n    tasting_notes_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(1000, 'English tasting notes cannot exceed 1000 characters').optional(),\n    tasting_notes_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(1000, 'French tasting notes cannot exceed 1000 characters').optional(),\n    food_pairing_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'English food pairing cannot exceed 500 characters').optional(),\n    food_pairing_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'French food pairing cannot exceed 500 characters').optional(),\n    production_notes_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(1000, 'English production notes cannot exceed 1000 characters').optional(),\n    production_notes_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(1000, 'French production notes cannot exceed 1000 characters').optional(),\n    allergens: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).optional(),\n    organic_certified: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false),\n    biodynamic_certified: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false),\n    vegan_friendly: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false),\n    google_product_category: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200).optional(),\n    meta_product_category: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200).optional(),\n    is_active: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(true),\n    featured: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false),\n    sort_order: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Sort order cannot be negative').int('Sort order must be a whole number').default(0),\n    seo_title_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(60, 'English SEO title cannot exceed 60 characters').optional(),\n    seo_title_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(60, 'French SEO title cannot exceed 60 characters').optional(),\n    seo_description_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(160, 'English SEO description cannot exceed 160 characters').optional(),\n    seo_description_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(160, 'French SEO description cannot exceed 160 characters').optional(),\n    slug_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'English slug must be at least 3 characters').max(100, 'English slug cannot exceed 100 characters').regex(/^[a-z0-9-]+$/, 'English slug must contain only lowercase letters, numbers, and hyphens'),\n    slug_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'French slug must be at least 3 characters').max(100, 'French slug cannot exceed 100 characters').regex(/^[a-z0-9-]+$/, 'French slug must contain only lowercase letters, numbers, and hyphens')\n});\n// Product image schema\nconst productImageSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    url: zod__WEBPACK_IMPORTED_MODULE_0__.string().url('Please enter a valid image URL'),\n    alt_text_en: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'English alt text cannot exceed 200 characters').optional(),\n    alt_text_fr: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'French alt text cannot exceed 200 characters').optional(),\n    display_order: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Display order cannot be negative').int('Display order must be a whole number').default(0),\n    image_type: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'bottle',\n        'label',\n        'vineyard',\n        'winemaker'\n    ]).default('bottle'),\n    width: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().optional(),\n    height: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().optional(),\n    file_size: zod__WEBPACK_IMPORTED_MODULE_0__.number().int().optional(),\n    is_primary: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().default(false)\n});\n// Update wine product schema (for PUT requests)\nconst updateWineProductSchema = wineProductSchema.partial().extend({\n    id: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID')\n});\n// Legacy product schema for backward compatibility\nconst productSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'Product name must be at least 3 characters').max(100, 'Product name cannot exceed 100 characters'),\n    sku: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(3, 'SKU must be at least 3 characters').max(50, 'SKU cannot exceed 50 characters').regex(/^[A-Z0-9-]+$/, 'SKU must contain only uppercase letters, numbers, and hyphens'),\n    description: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'Description must be at least 10 characters').max(2000, 'Description cannot exceed 2000 characters'),\n    price: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Price must be at least €0.01').max(100000, 'Price cannot exceed €1,000.00'),\n    stockQuantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Stock quantity cannot be negative').max(10000, 'Stock quantity cannot exceed 10,000').int('Stock quantity must be a whole number'),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'red_wine',\n        'white_wine',\n        'rose_wine',\n        'sparkling_wine',\n        'dessert_wine',\n        'fortified_wine'\n    ]),\n    vintage: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1800, 'Vintage must be realistic').max(new Date().getFullYear(), 'Vintage cannot be in the future').optional(),\n    alcoholContent: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0.5, 'Alcohol content must be at least 0.5%').max(20, 'Alcohol content cannot exceed 20%').optional(),\n    grapeVariety: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Grape variety name too long').optional(),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Region name too long').optional(),\n    producer: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Producer name too long').optional(),\n    volume: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(187, 'Minimum volume is 187ml').max(3000, 'Maximum volume is 3000ml').optional(),\n    servingTemperature: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(50, 'Serving temperature description too long').optional(),\n    agingPotential: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Aging potential description too long').optional(),\n    pairingNotes: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Pairing notes too long').optional(),\n    status: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'active',\n        'inactive',\n        'out_of_stock',\n        'discontinued'\n    ]),\n    isFeatured: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isOrganic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isBiodynamic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    imageUrl: zod__WEBPACK_IMPORTED_MODULE_0__.string().url('Please enter a valid image URL').optional(),\n    galleryImages: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string().url()).max(10, 'Maximum 10 gallery images').optional()\n});\n// Order schemas\nconst orderSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    customerId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid customer ID').optional(),\n    customerEmail: emailSchema,\n    customerFirstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    customerLastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    shippingAddress: addressSchema,\n    billingAddress: addressSchema,\n    items: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n        quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').int(),\n        unitPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Unit price must be positive')\n    })).min(1, 'Order must contain at least one item'),\n    subtotal: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Subtotal cannot be negative'),\n    vatAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'VAT amount cannot be negative'),\n    shippingCost: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Shipping cost cannot be negative'),\n    totalAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Total amount must be positive'),\n    paymentMethod: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Payment method is required'),\n    specialInstructions: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Special instructions too long').optional(),\n    giftMessage: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'Gift message too long').optional()\n});\n// Contact form schemas\nconst contactFormSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    name: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Name must be at least 2 characters').max(100, 'Name cannot exceed 100 characters'),\n    email: emailSchema,\n    subject: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(5, 'Subject must be at least 5 characters').max(100, 'Subject cannot exceed 100 characters'),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(10, 'Message must be at least 10 characters').max(1000, 'Message cannot exceed 1000 characters'),\n    phone: phoneSchema,\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'general',\n        'orders',\n        'products',\n        'shipping',\n        'returns',\n        'technical'\n    ]).optional()\n});\n// Wine estate contact form schema - specialized for Domaine Vallot\nconst frenchPhoneSchema = zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^(\\+33|0)[1-9](\\d{8})$/, 'Veuillez entrer un numéro de téléphone français valide (ex: 01 23 45 67 89)').optional();\nconst wineContactFormSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Le prénom doit contenir au moins 2 caractères').max(50, 'Le prénom ne peut pas dépasser 50 caractères').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Le prénom contient des caractères invalides'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Le nom doit contenir au moins 2 caractères').max(50, 'Le nom ne peut pas dépasser 50 caractères').regex(/^[a-zA-ZÀ-ÿ\\s'-]+$/, 'Le nom contient des caractères invalides'),\n    email: zod__WEBPACK_IMPORTED_MODULE_0__.string().email('Veuillez entrer une adresse email valide').max(255, 'L\\'adresse email est trop longue'),\n    phone: frenchPhoneSchema,\n    company: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Le nom de la société ne peut pas dépasser 100 caractères').optional(),\n    inquiryType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'wine_tasting',\n        'group_visit',\n        'wine_orders',\n        'business_partnership',\n        'press_media',\n        'general_inquiry'\n    ], {\n        errorMap: ()=>({\n                message: 'Veuillez sélectionner le type de demande'\n            })\n    }),\n    groupSize: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Le nombre de personnes doit être d\\'au moins 1').max(50, 'Nous ne pouvons accueillir plus de 50 personnes par groupe').int('Le nombre de personnes doit être un nombre entier').optional(),\n    preferredDate: zod__WEBPACK_IMPORTED_MODULE_0__.string().refine((date)=>{\n        if (!date) return true // Optional field\n        ;\n        const selectedDate = new Date(date);\n        const today = new Date();\n        today.setHours(0, 0, 0, 0);\n        return selectedDate >= today;\n    }, 'La date préférée ne peut pas être dans le passé').optional(),\n    message: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(20, 'Votre message doit contenir au moins 20 caractères').max(1500, 'Votre message ne peut pas dépasser 1500 caractères').refine((msg)=>!/<[^>]*>/g.test(msg), 'Le message ne peut pas contenir de HTML'),\n    // Wine-specific fields\n    winePreferences: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(300, 'Les préférences vinicoles ne peuvent pas dépasser 300 caractères').optional(),\n    budgetRange: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(50, 'La fourchette budgétaire ne peut pas dépasser 50 caractères').optional(),\n    specialRequirements: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(300, 'Les exigences spéciales ne peuvent pas dépasser 300 caractères').optional(),\n    // Compliance fields\n    ageVerified: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'Vous devez confirmer avoir l\\'âge légal pour consommer de l\\'alcool'),\n    privacyAccepted: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'Vous devez accepter la politique de confidentialité'),\n    marketingConsent: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    // Anti-spam field (honeypot)\n    website: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(0, 'Ce champ doit rester vide').optional()\n}).refine((data)=>{\n    // Require group size for group visits and tastings\n    if ([\n        'wine_tasting',\n        'group_visit'\n    ].includes(data.inquiryType)) {\n        return data.groupSize && data.groupSize >= 1;\n    }\n    return true;\n}, {\n    message: 'Le nombre de personnes est requis pour les dégustations et visites de groupe',\n    path: [\n        'groupSize'\n    ]\n}).refine((data)=>{\n    // Validate business partnership requires company name\n    if (data.inquiryType === 'business_partnership') {\n        return data.company && data.company.trim().length >= 2;\n    }\n    return true;\n}, {\n    message: 'Le nom de la société est requis pour les partenariats commerciaux',\n    path: [\n        'company'\n    ]\n});\n// Newsletter subscription schema\nconst newsletterSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required').optional(),\n    preferences: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        newProducts: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        specialOffers: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        wineEvents: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n        wineEducation: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional()\n    }).optional(),\n    acceptTerms: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().refine((val)=>val === true, 'You must accept the terms and conditions')\n});\n// Admin schemas\nconst adminLoginSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    password: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(1, 'Password is required'),\n    twoFactorCode: zod__WEBPACK_IMPORTED_MODULE_0__.string().regex(/^\\d{6}$/, '2FA code must be 6 digits').optional()\n});\nconst adminUserSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    email: emailSchema,\n    firstName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'First name is required'),\n    lastName: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'Last name is required'),\n    role: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'admin',\n        'manager',\n        'staff'\n    ]),\n    permissions: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.string()).optional(),\n    isActive: zod__WEBPACK_IMPORTED_MODULE_0__.boolean(),\n    password: passwordSchema.optional()\n});\n// Inventory management schemas\nconst inventoryAdjustmentSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n    adjustment: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(-1000, 'Adjustment too large').max(1000, 'Adjustment too large').int('Adjustment must be a whole number'),\n    reason: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'received',\n        'sold',\n        'damaged',\n        'expired',\n        'returned',\n        'correction',\n        'other'\n    ]),\n    notes: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(500, 'Notes cannot exceed 500 characters').optional(),\n    reference: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Reference cannot exceed 100 characters').optional()\n});\n// Shipping rate calculation schema\nconst shippingRateSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    destination: zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code'),\n        postalCode: postalCodeSchema,\n        city: zod__WEBPACK_IMPORTED_MODULE_0__.string().min(2, 'City is required')\n    }),\n    items: zod__WEBPACK_IMPORTED_MODULE_0__.array(zod__WEBPACK_IMPORTED_MODULE_0__.object({\n        productId: zod__WEBPACK_IMPORTED_MODULE_0__.string().uuid('Invalid product ID'),\n        quantity: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Quantity must be at least 1').int(),\n        weight: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Weight must be positive').optional()\n    })).min(1, 'At least one item is required'),\n    totalValue: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Total value must be positive')\n});\n// VAT calculation schema\nconst vatCalculationSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    amount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Amount must be positive'),\n    shippingAmount: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Shipping amount cannot be negative').optional(),\n    country: zod__WEBPACK_IMPORTED_MODULE_0__.string().length(2, 'Country must be a 2-letter code'),\n    customerType: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'consumer',\n        'business'\n    ]).optional(),\n    vatNumber: zod__WEBPACK_IMPORTED_MODULE_0__.string().optional()\n});\n// Search and filter schemas\nconst productSearchSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    query: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Search query too long').optional(),\n    category: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'red_wine',\n        'white_wine',\n        'rose_wine',\n        'sparkling_wine',\n        'dessert_wine',\n        'fortified_wine'\n    ]).optional(),\n    minPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Minimum price cannot be negative').optional(),\n    maxPrice: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Maximum price cannot be negative').optional(),\n    vintage: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1800, 'Vintage too old').max(new Date().getFullYear(), 'Vintage cannot be in the future').optional(),\n    region: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(100, 'Region name too long').optional(),\n    inStock: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    isOrganic: zod__WEBPACK_IMPORTED_MODULE_0__.boolean().optional(),\n    sortBy: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'name',\n        'price',\n        'vintage',\n        'created_at',\n        'popularity'\n    ]).optional(),\n    sortOrder: zod__WEBPACK_IMPORTED_MODULE_0__[\"enum\"]([\n        'asc',\n        'desc'\n    ]).optional(),\n    limit: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(1, 'Limit must be at least 1').max(100, 'Limit cannot exceed 100').optional(),\n    offset: zod__WEBPACK_IMPORTED_MODULE_0__.number().min(0, 'Offset cannot be negative').optional()\n});\n// File upload schemas\nconst imageUploadSchema = zod__WEBPACK_IMPORTED_MODULE_0__.object({\n    file: zod__WEBPACK_IMPORTED_MODULE_0__.any().refine((file)=>file instanceof File, 'Please select a valid file').refine((file)=>file.size <= 5 * 1024 * 1024, 'File size must be less than 5MB').refine((file)=>[\n            'image/jpeg',\n            'image/png',\n            'image/webp'\n        ].includes(file.type), 'File must be JPEG, PNG, or WebP format'),\n    alt: zod__WEBPACK_IMPORTED_MODULE_0__.string().max(200, 'Alt text cannot exceed 200 characters').optional()\n});\n// Validation helper functions\nconst validateSchema = (schema, data)=>{\n    try {\n        const result = schema.parse(data);\n        return {\n            success: true,\n            data: result\n        };\n    } catch (error) {\n        if (error instanceof zod__WEBPACK_IMPORTED_MODULE_1__.ZodError) {\n            const errors = {};\n            for (const issue of error.issues){\n                const path = issue.path.join('.');\n                if (!errors[path]) {\n                    errors[path] = [];\n                }\n                errors[path].push(issue.message);\n            }\n            return {\n                success: false,\n                errors\n            };\n        }\n        return {\n            success: false,\n            errors: {\n                general: [\n                    'Validation failed'\n                ]\n            }\n        };\n    }\n};\nconst getErrorMessage = (errors, field)=>{\n    return errors[field]?.[0] || '';\n};\nconst hasErrors = (errors)=>{\n    return Object.keys(errors).length > 0;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3ZhbGlkYXRvcnMvc2NoZW1hcy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBdUI7QUFFdkIsNkJBQTZCO0FBQzdCLE1BQU1DLGNBQWNELHVDQUFRLEdBQUdHLEtBQUssQ0FBQztBQUNyQyxNQUFNQyxjQUFjSix1Q0FBUSxHQUFHSyxLQUFLLENBQ2xDLCtCQUNBLHFDQUNBQyxRQUFRO0FBRVYsTUFBTUMsbUJBQW1CUCx1Q0FBUSxHQUM5QlEsR0FBRyxDQUFDLEdBQUcsNkNBQ1BDLEdBQUcsQ0FBQyxJQUFJO0FBRVgsTUFBTUMsaUJBQWlCVix1Q0FBUSxHQUM1QlEsR0FBRyxDQUFDLEdBQUcsMENBQ1BILEtBQUssQ0FBQyxTQUFTLHVEQUNmQSxLQUFLLENBQUMsU0FBUyx1REFDZkEsS0FBSyxDQUFDLE1BQU0sNkNBQ1pBLEtBQUssQ0FBQyxjQUFjO0FBRXZCLDJCQUEyQjtBQUNwQixNQUFNTSx3QkFBd0JYLHVDQUFRLENBQUM7SUFDNUNhLFVBQVViLHVDQUFRLEdBQ2ZRLEdBQUcsQ0FBQyxHQUFHLDZCQUNQQyxHQUFHLENBQUMsSUFBSTtJQUNYTSxZQUFZZix1Q0FBUSxHQUNqQlEsR0FBRyxDQUFDLEdBQUcsK0JBQ1BDLEdBQUcsQ0FBQyxJQUFJO0lBQ1hPLFdBQVdoQix1Q0FBUSxHQUNoQlEsR0FBRyxDQUFDLE1BQU0sdUNBQ1ZDLEdBQUcsQ0FBQyxJQUFJUSxPQUFPQyxXQUFXLElBQUk7SUFDakNDLGNBQWNuQix3Q0FBTSxDQUFDO1FBQUM7UUFBVztRQUFZO0tBQWtCLEVBQUVNLFFBQVE7SUFDekVlLGdCQUFnQnJCLHVDQUFRLEdBQUdNLFFBQVE7SUFDbkNnQixTQUFTdEIsdUNBQVEsR0FBR3VCLE1BQU0sQ0FBQyxHQUFHLG1DQUFtQ2pCLFFBQVE7QUFDM0UsR0FBR2tCLE1BQU0sQ0FDUCxDQUFDQztJQUNDLHNCQUFzQjtJQUN0QixNQUFNQyxZQUFZLElBQUlULEtBQUtRLEtBQUtULFNBQVMsRUFBRVMsS0FBS1YsVUFBVSxHQUFHLEdBQUdVLEtBQUtaLFFBQVE7SUFDN0UsT0FBTyxDQUFDYyxNQUFNRCxVQUFVRSxPQUFPLE9BQU9GLGFBQWEsSUFBSVQ7QUFDekQsR0FDQTtJQUNFWSxTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFXO0FBQ3BCLEdBQ0Q7QUFFRCxnQ0FBZ0M7QUFDekIsTUFBTUMsNkJBQTZCL0IsdUNBQVEsQ0FBQztJQUNqREcsT0FBT0Y7SUFDUCtCLFVBQVV0QjtJQUNWdUIsaUJBQWlCakMsdUNBQVE7SUFDekJrQyxXQUFXbEMsdUNBQVEsR0FDaEJRLEdBQUcsQ0FBQyxHQUFHLDRDQUNQQyxHQUFHLENBQUMsSUFBSSwwQ0FDUkosS0FBSyxDQUFDLHNCQUFzQjtJQUMvQjhCLFVBQVVuQyx1Q0FBUSxHQUNmUSxHQUFHLENBQUMsR0FBRywyQ0FDUEMsR0FBRyxDQUFDLElBQUkseUNBQ1JKLEtBQUssQ0FBQyxzQkFBc0I7SUFDL0IrQixPQUFPaEM7SUFDUHNCLFdBQVcxQix1Q0FBUSxHQUFHd0IsTUFBTSxDQUMxQixDQUFDYTtRQUNDLE1BQU1YLFlBQVksSUFBSVQsS0FBS29CO1FBQzNCLE1BQU1DLE1BQU0sSUFBSXJCLE9BQU9DLFdBQVcsS0FBS1EsVUFBVVIsV0FBVztRQUM1RCxPQUFPLENBQUNTLE1BQU1ELFVBQVVFLE9BQU8sT0FBT1UsT0FBTyxNQUFNQSxPQUFPO0lBQzVELEdBQ0E7SUFFRkMsYUFBYXZDLHdDQUFTLEdBQUd3QixNQUFNLENBQUNpQixDQUFBQSxNQUFPQSxRQUFRLE1BQU07SUFDckRDLGVBQWUxQyx3Q0FBUyxHQUFHd0IsTUFBTSxDQUFDaUIsQ0FBQUEsTUFBT0EsUUFBUSxNQUFNO0lBQ3ZERSxpQkFBaUIzQyx3Q0FBUyxHQUFHTSxRQUFRO0lBQ3JDZ0IsU0FBU3RCLHVDQUFRLEdBQUd1QixNQUFNLENBQUMsR0FBRztBQUNoQyxHQUFHQyxNQUFNLENBQ1AsQ0FBQ0MsT0FBU0EsS0FBS08sUUFBUSxLQUFLUCxLQUFLUSxlQUFlLEVBQ2hEO0lBQ0VKLFNBQVM7SUFDVEMsTUFBTTtRQUFDO0tBQWtCO0FBQzNCLEdBQ0Q7QUFFRCx5QkFBeUI7QUFDbEIsTUFBTWMsY0FBYzVDLHVDQUFRLENBQUM7SUFDbENHLE9BQU9GO0lBQ1ArQixVQUFVaEMsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDNUJxQyxZQUFZN0Msd0NBQVMsR0FBR00sUUFBUTtBQUNsQyxHQUFFO0FBRUssTUFBTXdDLGlCQUFpQjlDLHVDQUFRLENBQUM7SUFDckNHLE9BQU9GO0lBQ1ArQixVQUFVdEI7SUFDVnVCLGlCQUFpQmpDLHVDQUFRO0lBQ3pCa0MsV0FBV2xDLHVDQUFRLEdBQ2hCUSxHQUFHLENBQUMsR0FBRyw0Q0FDUEMsR0FBRyxDQUFDLElBQUksMENBQ1JKLEtBQUssQ0FBQyxzQkFBc0I7SUFDL0I4QixVQUFVbkMsdUNBQVEsR0FDZlEsR0FBRyxDQUFDLEdBQUcsMkNBQ1BDLEdBQUcsQ0FBQyxJQUFJLHlDQUNSSixLQUFLLENBQUMsc0JBQXNCO0lBQy9CK0IsT0FBT2hDO0lBQ1BzQixXQUFXMUIsdUNBQVEsR0FBR3dCLE1BQU0sQ0FDMUIsQ0FBQ2E7UUFDQyxNQUFNWCxZQUFZLElBQUlULEtBQUtvQjtRQUMzQixNQUFNQyxNQUFNLElBQUlyQixPQUFPQyxXQUFXLEtBQUtRLFVBQVVSLFdBQVc7UUFDNUQsT0FBTyxDQUFDUyxNQUFNRCxVQUFVRSxPQUFPLE9BQU9VLE9BQU8sTUFBTUEsT0FBTztJQUM1RCxHQUNBO0lBRUZTLG1CQUFtQi9DLHdDQUFNLENBQUM7UUFBQztRQUFNO0tBQUs7SUFDdENnRCxrQkFBa0JoRCx3Q0FBUyxHQUFHTSxRQUFRO0lBQ3RDMkMsbUJBQW1CakQsd0NBQVMsR0FBR00sUUFBUTtJQUN2QzRDLFlBQVlsRCx3Q0FBUyxHQUFHTSxRQUFRO0lBQ2hDNkMsYUFBYW5ELHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHLDRCQUE0QkYsUUFBUTtJQUNuRThDLFdBQVdwRCx1Q0FBUSxHQUFHSyxLQUFLLENBQUMsdUJBQXVCLDZCQUE2QkMsUUFBUTtJQUN4RitDLGVBQWVyRCx3Q0FBUyxHQUFHd0IsTUFBTSxDQUFDaUIsQ0FBQUEsTUFBT0EsUUFBUSxNQUFNO0lBQ3ZEYSxpQkFBaUJ0RCx3Q0FBUyxHQUFHd0IsTUFBTSxDQUFDaUIsQ0FBQUEsTUFBT0EsUUFBUSxNQUFNO0FBQzNELEdBQUdqQixNQUFNLENBQ1AsQ0FBQ0MsT0FBU0EsS0FBS08sUUFBUSxLQUFLUCxLQUFLUSxlQUFlLEVBQ2hEO0lBQ0VKLFNBQVM7SUFDVEMsTUFBTTtRQUFDO0tBQWtCO0FBQzNCLEdBQ0FOLE1BQU0sQ0FDTixDQUFDQztJQUNDLElBQUlBLEtBQUt5QixVQUFVLEVBQUU7UUFDbkIsT0FBT3pCLEtBQUswQixXQUFXLElBQUkxQixLQUFLMEIsV0FBVyxDQUFDNUIsTUFBTSxJQUFJO0lBQ3hEO0lBQ0EsT0FBTztBQUNULEdBQ0E7SUFDRU0sU0FBUztJQUNUQyxNQUFNO1FBQUM7S0FBYztBQUN2QixHQUNEO0FBRU0sTUFBTXlCLHVCQUF1QnZELHVDQUFRLENBQUM7SUFDM0NHLE9BQU9GO0FBQ1QsR0FBRTtBQUVLLE1BQU11RCxzQkFBc0J4RCx1Q0FBUSxDQUFDO0lBQzFDeUQsT0FBT3pELHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO0lBQ3pCd0IsVUFBVXRCO0lBQ1Z1QixpQkFBaUJqQyx1Q0FBUTtBQUMzQixHQUFHd0IsTUFBTSxDQUNQLENBQUNDLE9BQVNBLEtBQUtPLFFBQVEsS0FBS1AsS0FBS1EsZUFBZSxFQUNoRDtJQUNFSixTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFrQjtBQUMzQixHQUNEO0FBRU0sTUFBTTRCLHVCQUF1QjFELHVDQUFRLENBQUM7SUFDM0MyRCxpQkFBaUIzRCx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUNuQ29ELGFBQWFsRDtJQUNidUIsaUJBQWlCakMsdUNBQVE7QUFDM0IsR0FBR3dCLE1BQU0sQ0FDUCxDQUFDQyxPQUFTQSxLQUFLbUMsV0FBVyxLQUFLbkMsS0FBS1EsZUFBZSxFQUNuRDtJQUNFSixTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFrQjtBQUMzQixHQUNEO0FBRUQsMENBQTBDO0FBQ25DLE1BQU0rQixzQkFBc0JqQixZQUFXO0FBRTlDLGtCQUFrQjtBQUNYLE1BQU1rQixnQkFBZ0I5RCx1Q0FBUSxDQUFDO0lBQ3BDa0MsV0FBV2xDLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO0lBQzdCMkIsVUFBVW5DLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO0lBQzVCdUQsU0FBUy9ELHVDQUFRLEdBQUdNLFFBQVE7SUFDNUIwRCxTQUFTaEUsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDM0J5RCxVQUFVakUsdUNBQVEsR0FBR00sUUFBUTtJQUM3QjRELE1BQU1sRSx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUN4QjJELFlBQVk1RDtJQUNaZSxTQUFTdEIsdUNBQVEsR0FBR3VCLE1BQU0sQ0FBQyxHQUFHO0lBQzlCYSxPQUFPaEM7QUFDVCxHQUFFO0FBRUYsbUJBQW1CO0FBQ1osTUFBTWdFLHlCQUF5QnBFLHVDQUFRLENBQUM7SUFDN0NHLE9BQU9GO0lBQ1BpQyxXQUFXbEMsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDN0IyQixVQUFVbkMsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDNUI0QixPQUFPaEM7SUFDUGlFLGVBQWVyRSx3Q0FBUyxHQUFHTSxRQUFRO0lBQ25DMEIsVUFBVWhDLHVDQUFRLEdBQUdNLFFBQVE7QUFDL0IsR0FBR2tCLE1BQU0sQ0FDUCxDQUFDQztJQUNDLElBQUlBLEtBQUs0QyxhQUFhLEVBQUU7UUFDdEIsT0FBTzVDLEtBQUtPLFFBQVEsSUFBSVAsS0FBS08sUUFBUSxDQUFDVCxNQUFNLElBQUk7SUFDbEQ7SUFDQSxPQUFPO0FBQ1QsR0FDQTtJQUNFTSxTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFXO0FBQ3BCLEdBQ0Q7QUFFTSxNQUFNd0MseUJBQXlCUixjQUFhO0FBRTVDLE1BQU1TLHdCQUF3QlQsY0FBY1UsTUFBTSxDQUFDO0lBQ3hEQyxnQkFBZ0J6RSx3Q0FBUyxHQUFHTSxRQUFRO0FBQ3RDLEdBQUU7QUFFSyxNQUFNb0Usd0JBQXdCMUUsdUNBQVEsQ0FBQztJQUM1QzJFLGVBQWUzRSx3Q0FBTSxDQUFDO1FBQUM7UUFBVTtRQUFVO0tBQVM7SUFDcEQ0RSxtQkFBbUI1RSx3Q0FBUyxHQUFHTSxRQUFRO0lBQ3ZDaUMsYUFBYXZDLHdDQUFTLEdBQUd3QixNQUFNLENBQUNpQixDQUFBQSxNQUFPQSxRQUFRLE1BQU07QUFDdkQsR0FBRTtBQUVLLE1BQU1vQyx5QkFBeUI3RSx1Q0FBUSxDQUFDO0lBQzdDOEUsVUFBVVY7SUFDVlcsVUFBVVQ7SUFDVlUsU0FBU1Q7SUFDVFUsU0FBU1A7SUFDVFEsaUJBQWlCdkU7SUFDakJ5QyxXQUFXcEQsdUNBQVEsR0FBR00sUUFBUTtJQUM5QjZFLHFCQUFxQm5GLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLHFEQUFxREgsUUFBUTtBQUN4RyxHQUFFO0FBRUYsZUFBZTtBQUNSLE1BQU04RSxrQkFBa0JwRix1Q0FBUSxDQUFDO0lBQ3RDcUYsV0FBV3JGLHVDQUFRLEdBQUdzRixJQUFJLENBQUM7SUFDM0JDLFVBQVV2Rix1Q0FBUSxHQUNmUSxHQUFHLENBQUMsR0FBRywrQkFDUEMsR0FBRyxDQUFDLElBQUksa0NBQ1IrRSxHQUFHLENBQUM7SUFDUEMsV0FBV3pGLHVDQUFRLEdBQUdNLFFBQVE7QUFDaEMsR0FBRTtBQUVLLE1BQU1vRix1QkFBdUIxRix1Q0FBUSxDQUFDO0lBQzNDdUYsVUFBVXZGLHVDQUFRLEdBQ2ZRLEdBQUcsQ0FBQyxHQUFHLDhCQUNQQyxHQUFHLENBQUMsSUFBSSxrQ0FDUitFLEdBQUcsQ0FBQztBQUNULEdBQUU7QUFFRiw4QkFBOEI7QUFDdkIsTUFBTUcsb0JBQW9CM0YsdUNBQVEsQ0FBQztJQUN4QzRGLEtBQUs1Rix1Q0FBUSxHQUNWUSxHQUFHLENBQUMsR0FBRyxxQ0FDUEMsR0FBRyxDQUFDLElBQUksbUNBQ1JKLEtBQUssQ0FBQyxnQkFBZ0I7SUFDekJ3RixNQUFNN0YsdUNBQVEsR0FDWFEsR0FBRyxDQUFDLEdBQUcsOENBQ1BDLEdBQUcsQ0FBQyxLQUFLO0lBQ1pxRixTQUFTOUYsdUNBQVEsR0FDZFEsR0FBRyxDQUFDLE1BQU0sNkJBQ1ZDLEdBQUcsQ0FBQyxJQUFJUSxPQUFPQyxXQUFXLEtBQUssR0FBRywyQ0FDbENzRSxHQUFHLENBQUM7SUFDUE8sVUFBVS9GLHVDQUFRLEdBQ2ZRLEdBQUcsQ0FBQyxHQUFHLDBDQUNQQyxHQUFHLENBQUMsS0FBSztJQUNadUYsUUFBUWhHLHVDQUFRLEdBQ2JTLEdBQUcsQ0FBQyxLQUFLLHdCQUNUSCxRQUFRO0lBQ1gyRixpQkFBaUJqRyx1Q0FBUSxHQUN0QlEsR0FBRyxDQUFDLEtBQUsseUNBQ1RDLEdBQUcsQ0FBQyxJQUFJO0lBQ1h5RixXQUFXbEcsdUNBQVEsR0FDaEJRLEdBQUcsQ0FBQyxLQUFLLDJCQUNUQyxHQUFHLENBQUMsTUFBTSw0QkFDVitFLEdBQUcsQ0FBQyxpQ0FDSlcsT0FBTyxDQUFDO0lBQ1hDLFdBQVdwRyx1Q0FBUSxHQUNoQlEsR0FBRyxDQUFDLEdBQUcsNEJBQ1BDLEdBQUcsQ0FBQyxPQUFPO0lBQ2Q0RixVQUFVckcsdUNBQVEsR0FDZlEsR0FBRyxDQUFDLEdBQUcsMkJBQ1BDLEdBQUcsQ0FBQyxPQUFPLGlDQUNYSCxRQUFRO0lBQ1hnRyxnQkFBZ0J0Ryx1Q0FBUSxHQUNyQlEsR0FBRyxDQUFDLEdBQUcscUNBQ1BDLEdBQUcsQ0FBQyxPQUFPLHVDQUNYK0UsR0FBRyxDQUFDLHlDQUNKVyxPQUFPLENBQUM7SUFDWEksbUJBQW1CdkcsdUNBQVEsR0FDeEJRLEdBQUcsQ0FBQyxHQUFHLHdDQUNQZ0YsR0FBRyxDQUFDLDRDQUNKVyxPQUFPLENBQUM7SUFDWEssZUFBZXhHLHVDQUFRLEdBQ3BCUSxHQUFHLENBQUMsR0FBRyxvQ0FDUGdGLEdBQUcsQ0FBQyx3Q0FDSmxGLFFBQVE7SUFDWG1HLGNBQWN6Ryx1Q0FBUSxHQUNuQlEsR0FBRyxDQUFDLEtBQUssZ0NBQ1RDLEdBQUcsQ0FBQyxNQUFNLDRCQUNWK0UsR0FBRyxDQUFDLGlDQUNKVyxPQUFPLENBQUM7SUFDWE8sZ0JBQWdCMUcsdUNBQVEsR0FDckJRLEdBQUcsQ0FBQyxJQUFJLHNEQUNSQyxHQUFHLENBQUMsTUFBTTtJQUNia0csZ0JBQWdCM0csdUNBQVEsR0FDckJRLEdBQUcsQ0FBQyxJQUFJLHFEQUNSQyxHQUFHLENBQUMsTUFBTTtJQUNibUcsa0JBQWtCNUcsdUNBQVEsR0FDdkJTLEdBQUcsQ0FBQyxNQUFNLHVEQUNWSCxRQUFRO0lBQ1h1RyxrQkFBa0I3Ryx1Q0FBUSxHQUN2QlMsR0FBRyxDQUFDLE1BQU0sc0RBQ1ZILFFBQVE7SUFDWHdHLGlCQUFpQjlHLHVDQUFRLEdBQ3RCUyxHQUFHLENBQUMsS0FBSyxxREFDVEgsUUFBUTtJQUNYeUcsaUJBQWlCL0csdUNBQVEsR0FDdEJTLEdBQUcsQ0FBQyxLQUFLLG9EQUNUSCxRQUFRO0lBQ1gwRyxxQkFBcUJoSCx1Q0FBUSxHQUMxQlMsR0FBRyxDQUFDLE1BQU0sMERBQ1ZILFFBQVE7SUFDWDJHLHFCQUFxQmpILHVDQUFRLEdBQzFCUyxHQUFHLENBQUMsTUFBTSx5REFDVkgsUUFBUTtJQUNYNEcsV0FBV2xILHNDQUFPLENBQUNBLHVDQUFRLElBQUlNLFFBQVE7SUFDdkM4RyxtQkFBbUJwSCx3Q0FBUyxHQUFHbUcsT0FBTyxDQUFDO0lBQ3ZDa0Isc0JBQXNCckgsd0NBQVMsR0FBR21HLE9BQU8sQ0FBQztJQUMxQ21CLGdCQUFnQnRILHdDQUFTLEdBQUdtRyxPQUFPLENBQUM7SUFDcENvQix5QkFBeUJ2SCx1Q0FBUSxHQUFHUyxHQUFHLENBQUMsS0FBS0gsUUFBUTtJQUNyRGtILHVCQUF1QnhILHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLSCxRQUFRO0lBQ25EbUgsV0FBV3pILHdDQUFTLEdBQUdtRyxPQUFPLENBQUM7SUFDL0J1QixVQUFVMUgsd0NBQVMsR0FBR21HLE9BQU8sQ0FBQztJQUM5QndCLFlBQVkzSCx1Q0FBUSxHQUNqQlEsR0FBRyxDQUFDLEdBQUcsaUNBQ1BnRixHQUFHLENBQUMscUNBQ0pXLE9BQU8sQ0FBQztJQUNYeUIsY0FBYzVILHVDQUFRLEdBQ25CUyxHQUFHLENBQUMsSUFBSSxpREFDUkgsUUFBUTtJQUNYdUgsY0FBYzdILHVDQUFRLEdBQ25CUyxHQUFHLENBQUMsSUFBSSxnREFDUkgsUUFBUTtJQUNYd0gsb0JBQW9COUgsdUNBQVEsR0FDekJTLEdBQUcsQ0FBQyxLQUFLLHdEQUNUSCxRQUFRO0lBQ1h5SCxvQkFBb0IvSCx1Q0FBUSxHQUN6QlMsR0FBRyxDQUFDLEtBQUssdURBQ1RILFFBQVE7SUFDWDBILFNBQVNoSSx1Q0FBUSxHQUNkUSxHQUFHLENBQUMsR0FBRyw4Q0FDUEMsR0FBRyxDQUFDLEtBQUssNkNBQ1RKLEtBQUssQ0FBQyxnQkFBZ0I7SUFDekI0SCxTQUFTakksdUNBQVEsR0FDZFEsR0FBRyxDQUFDLEdBQUcsNkNBQ1BDLEdBQUcsQ0FBQyxLQUFLLDRDQUNUSixLQUFLLENBQUMsZ0JBQWdCO0FBQzNCLEdBQUU7QUFFRix1QkFBdUI7QUFDaEIsTUFBTTZILHFCQUFxQmxJLHVDQUFRLENBQUM7SUFDekNtSSxLQUFLbkksdUNBQVEsR0FBR21JLEdBQUcsQ0FBQztJQUNwQkMsYUFBYXBJLHVDQUFRLEdBQ2xCUyxHQUFHLENBQUMsS0FBSyxpREFDVEgsUUFBUTtJQUNYK0gsYUFBYXJJLHVDQUFRLEdBQ2xCUyxHQUFHLENBQUMsS0FBSyxnREFDVEgsUUFBUTtJQUNYZ0ksZUFBZXRJLHVDQUFRLEdBQ3BCUSxHQUFHLENBQUMsR0FBRyxvQ0FDUGdGLEdBQUcsQ0FBQyx3Q0FDSlcsT0FBTyxDQUFDO0lBQ1hvQyxZQUFZdkksd0NBQU0sQ0FBQztRQUFDO1FBQVU7UUFBUztRQUFZO0tBQVksRUFBRW1HLE9BQU8sQ0FBQztJQUN6RXFDLE9BQU94SSx1Q0FBUSxHQUFHd0YsR0FBRyxHQUFHbEYsUUFBUTtJQUNoQ21JLFFBQVF6SSx1Q0FBUSxHQUFHd0YsR0FBRyxHQUFHbEYsUUFBUTtJQUNqQ29JLFdBQVcxSSx1Q0FBUSxHQUFHd0YsR0FBRyxHQUFHbEYsUUFBUTtJQUNwQ3FJLFlBQVkzSSx3Q0FBUyxHQUFHbUcsT0FBTyxDQUFDO0FBQ2xDLEdBQUU7QUFFRixnREFBZ0Q7QUFDekMsTUFBTXlDLDBCQUEwQmpELGtCQUFrQmtELE9BQU8sR0FBR3JFLE1BQU0sQ0FBQztJQUN4RXNFLElBQUk5SSx1Q0FBUSxHQUFHc0YsSUFBSSxDQUFDO0FBQ3RCLEdBQUU7QUFFRixtREFBbUQ7QUFDNUMsTUFBTXlELGdCQUFnQi9JLHVDQUFRLENBQUM7SUFDcEM2RixNQUFNN0YsdUNBQVEsR0FDWFEsR0FBRyxDQUFDLEdBQUcsOENBQ1BDLEdBQUcsQ0FBQyxLQUFLO0lBQ1ptRixLQUFLNUYsdUNBQVEsR0FDVlEsR0FBRyxDQUFDLEdBQUcscUNBQ1BDLEdBQUcsQ0FBQyxJQUFJLG1DQUNSSixLQUFLLENBQUMsZ0JBQWdCO0lBQ3pCMkksYUFBYWhKLHVDQUFRLEdBQ2xCUSxHQUFHLENBQUMsSUFBSSw4Q0FDUkMsR0FBRyxDQUFDLE1BQU07SUFDYndJLE9BQU9qSix1Q0FBUSxHQUNaUSxHQUFHLENBQUMsR0FBRyxnQ0FDUEMsR0FBRyxDQUFDLFFBQVE7SUFDZnlJLGVBQWVsSix1Q0FBUSxHQUNwQlEsR0FBRyxDQUFDLEdBQUcscUNBQ1BDLEdBQUcsQ0FBQyxPQUFPLHVDQUNYK0UsR0FBRyxDQUFDO0lBQ1AyRCxVQUFVbkosd0NBQU0sQ0FBQztRQUFDO1FBQVk7UUFBYztRQUFhO1FBQWtCO1FBQWdCO0tBQWlCO0lBQzVHOEYsU0FBUzlGLHVDQUFRLEdBQ2RRLEdBQUcsQ0FBQyxNQUFNLDZCQUNWQyxHQUFHLENBQUMsSUFBSVEsT0FBT0MsV0FBVyxJQUFJLG1DQUM5QlosUUFBUTtJQUNYOEksZ0JBQWdCcEosdUNBQVEsR0FDckJRLEdBQUcsQ0FBQyxLQUFLLHlDQUNUQyxHQUFHLENBQUMsSUFBSSxxQ0FDUkgsUUFBUTtJQUNYK0ksY0FBY3JKLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLCtCQUErQkgsUUFBUTtJQUN6RTBGLFFBQVFoRyx1Q0FBUSxHQUFHUyxHQUFHLENBQUMsS0FBSyx3QkFBd0JILFFBQVE7SUFDNURnSixVQUFVdEosdUNBQVEsR0FBR1MsR0FBRyxDQUFDLEtBQUssMEJBQTBCSCxRQUFRO0lBQ2hFaUosUUFBUXZKLHVDQUFRLEdBQ2JRLEdBQUcsQ0FBQyxLQUFLLDJCQUNUQyxHQUFHLENBQUMsTUFBTSw0QkFDVkgsUUFBUTtJQUNYa0osb0JBQW9CeEosdUNBQVEsR0FBR1MsR0FBRyxDQUFDLElBQUksNENBQTRDSCxRQUFRO0lBQzNGbUosZ0JBQWdCekosdUNBQVEsR0FBR1MsR0FBRyxDQUFDLEtBQUssd0NBQXdDSCxRQUFRO0lBQ3BGb0osY0FBYzFKLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLDBCQUEwQkgsUUFBUTtJQUNwRXFKLFFBQVEzSix3Q0FBTSxDQUFDO1FBQUM7UUFBVTtRQUFZO1FBQWdCO0tBQWU7SUFDckU0SixZQUFZNUosd0NBQVMsR0FBR00sUUFBUTtJQUNoQ3VKLFdBQVc3Six3Q0FBUyxHQUFHTSxRQUFRO0lBQy9Cd0osY0FBYzlKLHdDQUFTLEdBQUdNLFFBQVE7SUFDbEN5SixVQUFVL0osdUNBQVEsR0FBR21JLEdBQUcsQ0FBQyxrQ0FBa0M3SCxRQUFRO0lBQ25FMEosZUFBZWhLLHNDQUFPLENBQUNBLHVDQUFRLEdBQUdtSSxHQUFHLElBQUkxSCxHQUFHLENBQUMsSUFBSSw2QkFBNkJILFFBQVE7QUFDeEYsR0FBRTtBQUVGLGdCQUFnQjtBQUNULE1BQU0ySixjQUFjakssdUNBQVEsQ0FBQztJQUNsQ2tLLFlBQVlsSyx1Q0FBUSxHQUFHc0YsSUFBSSxDQUFDLHVCQUF1QmhGLFFBQVE7SUFDM0Q2SixlQUFlbEs7SUFDZm1LLG1CQUFtQnBLLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHO0lBQ3JDNkosa0JBQWtCckssdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDcEM4SixpQkFBaUJ4RztJQUNqQnlHLGdCQUFnQnpHO0lBQ2hCMEcsT0FBT3hLLHNDQUFPLENBQUNBLHVDQUFRLENBQUM7UUFDdEJxRixXQUFXckYsdUNBQVEsR0FBR3NGLElBQUksQ0FBQztRQUMzQkMsVUFBVXZGLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHLCtCQUErQmdGLEdBQUc7UUFDOURpRixXQUFXekssdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDL0IsSUFBSUEsR0FBRyxDQUFDLEdBQUc7SUFDWGtLLFVBQVUxSyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUM1Qm1LLFdBQVczSyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUM3Qm9LLGNBQWM1Syx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUNoQ3FLLGFBQWE3Syx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUMvQm1FLGVBQWUzRSx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUNqQzJFLHFCQUFxQm5GLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLGlDQUFpQ0gsUUFBUTtJQUNsRndLLGFBQWE5Syx1Q0FBUSxHQUFHUyxHQUFHLENBQUMsS0FBSyx5QkFBeUJILFFBQVE7QUFDcEUsR0FBRTtBQUVGLHVCQUF1QjtBQUNoQixNQUFNeUssb0JBQW9CL0ssdUNBQVEsQ0FBQztJQUN4QzZGLE1BQU03Rix1Q0FBUSxHQUNYUSxHQUFHLENBQUMsR0FBRyxzQ0FDUEMsR0FBRyxDQUFDLEtBQUs7SUFDWk4sT0FBT0Y7SUFDUCtLLFNBQVNoTCx1Q0FBUSxHQUNkUSxHQUFHLENBQUMsR0FBRyx5Q0FDUEMsR0FBRyxDQUFDLEtBQUs7SUFDWm9CLFNBQVM3Qix1Q0FBUSxHQUNkUSxHQUFHLENBQUMsSUFBSSwwQ0FDUkMsR0FBRyxDQUFDLE1BQU07SUFDYjJCLE9BQU9oQztJQUNQK0ksVUFBVW5KLHdDQUFNLENBQUM7UUFBQztRQUFXO1FBQVU7UUFBWTtRQUFZO1FBQVc7S0FBWSxFQUFFTSxRQUFRO0FBQ2xHLEdBQUU7QUFFRixtRUFBbUU7QUFDbkUsTUFBTTJLLG9CQUFvQmpMLHVDQUFRLEdBQUdLLEtBQUssQ0FDeEMsMEJBQ0EsK0VBQ0FDLFFBQVE7QUFFSCxNQUFNNEssd0JBQXdCbEwsdUNBQVEsQ0FBQztJQUM1Q2tDLFdBQVdsQyx1Q0FBUSxHQUNoQlEsR0FBRyxDQUFDLEdBQUcsaURBQ1BDLEdBQUcsQ0FBQyxJQUFJLGdEQUNSSixLQUFLLENBQUMsc0JBQXNCO0lBQy9COEIsVUFBVW5DLHVDQUFRLEdBQ2ZRLEdBQUcsQ0FBQyxHQUFHLDhDQUNQQyxHQUFHLENBQUMsSUFBSSw2Q0FDUkosS0FBSyxDQUFDLHNCQUFzQjtJQUMvQkYsT0FBT0gsdUNBQVEsR0FDWkcsS0FBSyxDQUFDLDRDQUNOTSxHQUFHLENBQUMsS0FBSztJQUNaMkIsT0FBTzZJO0lBQ1BsSCxTQUFTL0QsdUNBQVEsR0FDZFMsR0FBRyxDQUFDLEtBQUssNERBQ1RILFFBQVE7SUFDWDZLLGFBQWFuTCx3Q0FBTSxDQUFDO1FBQ2xCO1FBQ0E7UUFDQTtRQUNBO1FBQ0E7UUFDQTtLQUNELEVBQUU7UUFDRG9MLFVBQVUsSUFBTztnQkFBRXZKLFNBQVM7WUFBMkM7SUFDekU7SUFDQXdKLFdBQVdyTCx1Q0FBUSxHQUNoQlEsR0FBRyxDQUFDLEdBQUcsa0RBQ1BDLEdBQUcsQ0FBQyxJQUFJLDhEQUNSK0UsR0FBRyxDQUFDLHFEQUNKbEYsUUFBUTtJQUNYZ0wsZUFBZXRMLHVDQUFRLEdBQ3BCd0IsTUFBTSxDQUNMLENBQUNhO1FBQ0MsSUFBSSxDQUFDQSxNQUFNLE9BQU8sS0FBSyxpQkFBaUI7O1FBQ3hDLE1BQU1rSixlQUFlLElBQUl0SyxLQUFLb0I7UUFDOUIsTUFBTW1KLFFBQVEsSUFBSXZLO1FBQ2xCdUssTUFBTUMsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHO1FBQ3hCLE9BQU9GLGdCQUFnQkM7SUFDekIsR0FDQSxtREFFRGxMLFFBQVE7SUFDWHVCLFNBQVM3Qix1Q0FBUSxHQUNkUSxHQUFHLENBQUMsSUFBSSxzREFDUkMsR0FBRyxDQUFDLE1BQU0sc0RBQ1ZlLE1BQU0sQ0FDTCxDQUFDa0ssTUFBUSxDQUFDLFdBQVdDLElBQUksQ0FBQ0QsTUFDMUI7SUFFSix1QkFBdUI7SUFDdkJFLGlCQUFpQjVMLHVDQUFRLEdBQ3RCUyxHQUFHLENBQUMsS0FBSyxvRUFDVEgsUUFBUTtJQUNYdUwsYUFBYTdMLHVDQUFRLEdBQ2xCUyxHQUFHLENBQUMsSUFBSSwrREFDUkgsUUFBUTtJQUNYd0wscUJBQXFCOUwsdUNBQVEsR0FDMUJTLEdBQUcsQ0FBQyxLQUFLLGtFQUNUSCxRQUFRO0lBQ1gsb0JBQW9CO0lBQ3BCeUwsYUFBYS9MLHdDQUFTLEdBQUd3QixNQUFNLENBQzdCaUIsQ0FBQUEsTUFBT0EsUUFBUSxNQUNmO0lBRUZhLGlCQUFpQnRELHdDQUFTLEdBQUd3QixNQUFNLENBQ2pDaUIsQ0FBQUEsTUFBT0EsUUFBUSxNQUNmO0lBRUZPLGtCQUFrQmhELHdDQUFTLEdBQUdNLFFBQVE7SUFDdEMsNkJBQTZCO0lBQzdCMEwsU0FBU2hNLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxHQUFHLDZCQUE2QkgsUUFBUTtBQUNsRSxHQUFHa0IsTUFBTSxDQUNQLENBQUNDO0lBQ0MsbURBQW1EO0lBQ25ELElBQUk7UUFBQztRQUFnQjtLQUFjLENBQUN3SyxRQUFRLENBQUN4SyxLQUFLMEosV0FBVyxHQUFHO1FBQzlELE9BQU8xSixLQUFLNEosU0FBUyxJQUFJNUosS0FBSzRKLFNBQVMsSUFBSTtJQUM3QztJQUNBLE9BQU87QUFDVCxHQUNBO0lBQ0V4SixTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFZO0FBQ3JCLEdBQ0FOLE1BQU0sQ0FDTixDQUFDQztJQUNDLHNEQUFzRDtJQUN0RCxJQUFJQSxLQUFLMEosV0FBVyxLQUFLLHdCQUF3QjtRQUMvQyxPQUFPMUosS0FBS3NDLE9BQU8sSUFBSXRDLEtBQUtzQyxPQUFPLENBQUNtSSxJQUFJLEdBQUczSyxNQUFNLElBQUk7SUFDdkQ7SUFDQSxPQUFPO0FBQ1QsR0FDQTtJQUNFTSxTQUFTO0lBQ1RDLE1BQU07UUFBQztLQUFVO0FBQ25CLEdBQ0Q7QUFFRCxpQ0FBaUM7QUFDMUIsTUFBTXFLLG1CQUFtQm5NLHVDQUFRLENBQUM7SUFDdkNHLE9BQU9GO0lBQ1BpQyxXQUFXbEMsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUcsMEJBQTBCRixRQUFRO0lBQy9EOEwsYUFBYXBNLHVDQUFRLENBQUM7UUFDcEJxTSxhQUFhck0sd0NBQVMsR0FBR00sUUFBUTtRQUNqQ2dNLGVBQWV0TSx3Q0FBUyxHQUFHTSxRQUFRO1FBQ25DaU0sWUFBWXZNLHdDQUFTLEdBQUdNLFFBQVE7UUFDaENrTSxlQUFleE0sd0NBQVMsR0FBR00sUUFBUTtJQUNyQyxHQUFHQSxRQUFRO0lBQ1hpQyxhQUFhdkMsd0NBQVMsR0FBR3dCLE1BQU0sQ0FBQ2lCLENBQUFBLE1BQU9BLFFBQVEsTUFBTTtBQUN2RCxHQUFFO0FBRUYsZ0JBQWdCO0FBQ1QsTUFBTWdLLG1CQUFtQnpNLHVDQUFRLENBQUM7SUFDdkNHLE9BQU9GO0lBQ1ArQixVQUFVaEMsdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7SUFDNUJrTSxlQUFlMU0sdUNBQVEsR0FBR0ssS0FBSyxDQUFDLFdBQVcsNkJBQTZCQyxRQUFRO0FBQ2xGLEdBQUU7QUFFSyxNQUFNcU0sa0JBQWtCM00sdUNBQVEsQ0FBQztJQUN0Q0csT0FBT0Y7SUFDUGlDLFdBQVdsQyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUM3QjJCLFVBQVVuQyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUM1Qm9NLE1BQU01TSx3Q0FBTSxDQUFDO1FBQUM7UUFBUztRQUFXO0tBQVE7SUFDMUM2TSxhQUFhN00sc0NBQU8sQ0FBQ0EsdUNBQVEsSUFBSU0sUUFBUTtJQUN6Q3dNLFVBQVU5TSx3Q0FBUztJQUNuQmdDLFVBQVV0QixlQUFlSixRQUFRO0FBQ25DLEdBQUU7QUFFRiwrQkFBK0I7QUFDeEIsTUFBTXlNLDRCQUE0Qi9NLHVDQUFRLENBQUM7SUFDaERxRixXQUFXckYsdUNBQVEsR0FBR3NGLElBQUksQ0FBQztJQUMzQjBILFlBQVloTix1Q0FBUSxHQUNqQlEsR0FBRyxDQUFDLENBQUMsTUFBTSx3QkFDWEMsR0FBRyxDQUFDLE1BQU0sd0JBQ1YrRSxHQUFHLENBQUM7SUFDUHlILFFBQVFqTix3Q0FBTSxDQUFDO1FBQUM7UUFBWTtRQUFRO1FBQVc7UUFBVztRQUFZO1FBQWM7S0FBUTtJQUM1RmtOLE9BQU9sTix1Q0FBUSxHQUFHUyxHQUFHLENBQUMsS0FBSyxzQ0FBc0NILFFBQVE7SUFDekU2TSxXQUFXbk4sdUNBQVEsR0FBR1MsR0FBRyxDQUFDLEtBQUssMENBQTBDSCxRQUFRO0FBQ25GLEdBQUU7QUFFRixtQ0FBbUM7QUFDNUIsTUFBTThNLHFCQUFxQnBOLHVDQUFRLENBQUM7SUFDekNxTixhQUFhck4sdUNBQVEsQ0FBQztRQUNwQnNCLFNBQVN0Qix1Q0FBUSxHQUFHdUIsTUFBTSxDQUFDLEdBQUc7UUFDOUI0QyxZQUFZNUQ7UUFDWjJELE1BQU1sRSx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUMxQjtJQUNBZ0ssT0FBT3hLLHNDQUFPLENBQUNBLHVDQUFRLENBQUM7UUFDdEJxRixXQUFXckYsdUNBQVEsR0FBR3NGLElBQUksQ0FBQztRQUMzQkMsVUFBVXZGLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHLCtCQUErQmdGLEdBQUc7UUFDOUQ4SCxRQUFRdE4sdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUcsMkJBQTJCRixRQUFRO0lBQy9ELElBQUlFLEdBQUcsQ0FBQyxHQUFHO0lBQ1grTSxZQUFZdk4sdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUc7QUFDaEMsR0FBRTtBQUVGLHlCQUF5QjtBQUNsQixNQUFNZ04sdUJBQXVCeE4sdUNBQVEsQ0FBQztJQUMzQ3lOLFFBQVF6Tix1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRztJQUMxQmtOLGdCQUFnQjFOLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHLHNDQUFzQ0YsUUFBUTtJQUNoRmdCLFNBQVN0Qix1Q0FBUSxHQUFHdUIsTUFBTSxDQUFDLEdBQUc7SUFDOUJvTSxjQUFjM04sd0NBQU0sQ0FBQztRQUFDO1FBQVk7S0FBVyxFQUFFTSxRQUFRO0lBQ3ZEOEMsV0FBV3BELHVDQUFRLEdBQUdNLFFBQVE7QUFDaEMsR0FBRTtBQUVGLDRCQUE0QjtBQUNyQixNQUFNc04sc0JBQXNCNU4sdUNBQVEsQ0FBQztJQUMxQzZOLE9BQU83Tix1Q0FBUSxHQUFHUyxHQUFHLENBQUMsS0FBSyx5QkFBeUJILFFBQVE7SUFDNUQ2SSxVQUFVbkosd0NBQU0sQ0FBQztRQUFDO1FBQVk7UUFBYztRQUFhO1FBQWtCO1FBQWdCO0tBQWlCLEVBQUVNLFFBQVE7SUFDdEh3TixVQUFVOU4sdUNBQVEsR0FBR1EsR0FBRyxDQUFDLEdBQUcsb0NBQW9DRixRQUFRO0lBQ3hFeU4sVUFBVS9OLHVDQUFRLEdBQUdRLEdBQUcsQ0FBQyxHQUFHLG9DQUFvQ0YsUUFBUTtJQUN4RXdGLFNBQVM5Rix1Q0FBUSxHQUFHUSxHQUFHLENBQUMsTUFBTSxtQkFBbUJDLEdBQUcsQ0FBQyxJQUFJUSxPQUFPQyxXQUFXLElBQUksbUNBQW1DWixRQUFRO0lBQzFIMEYsUUFBUWhHLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLHdCQUF3QkgsUUFBUTtJQUM1RDBOLFNBQVNoTyx3Q0FBUyxHQUFHTSxRQUFRO0lBQzdCdUosV0FBVzdKLHdDQUFTLEdBQUdNLFFBQVE7SUFDL0IyTixRQUFRak8sd0NBQU0sQ0FBQztRQUFDO1FBQVE7UUFBUztRQUFXO1FBQWM7S0FBYSxFQUFFTSxRQUFRO0lBQ2pGNE4sV0FBV2xPLHdDQUFNLENBQUM7UUFBQztRQUFPO0tBQU8sRUFBRU0sUUFBUTtJQUMzQzZOLE9BQU9uTyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRyw0QkFBNEJDLEdBQUcsQ0FBQyxLQUFLLDJCQUEyQkgsUUFBUTtJQUNqRzhOLFFBQVFwTyx1Q0FBUSxHQUFHUSxHQUFHLENBQUMsR0FBRyw2QkFBNkJGLFFBQVE7QUFDakUsR0FBRTtBQUVGLHNCQUFzQjtBQUNmLE1BQU0rTixvQkFBb0JyTyx1Q0FBUSxDQUFDO0lBQ3hDc08sTUFBTXRPLG9DQUFLLEdBQUd3QixNQUFNLENBQ2xCLENBQUM4TSxPQUFTQSxnQkFBZ0JFLE1BQzFCLDhCQUNBaE4sTUFBTSxDQUNOLENBQUM4TSxPQUFTQSxLQUFLRyxJQUFJLElBQUksSUFBSSxPQUFPLE1BQ2xDLG1DQUNBak4sTUFBTSxDQUNOLENBQUM4TSxPQUFTO1lBQUM7WUFBYztZQUFhO1NBQWEsQ0FBQ3JDLFFBQVEsQ0FBQ3FDLEtBQUtJLElBQUksR0FDdEU7SUFFRkMsS0FBSzNPLHVDQUFRLEdBQUdTLEdBQUcsQ0FBQyxLQUFLLHlDQUF5Q0gsUUFBUTtBQUM1RSxHQUFFO0FBOEJGLDhCQUE4QjtBQUN2QixNQUFNc08saUJBQWlCLENBQUlDLFFBQXdCcE47SUFLeEQsSUFBSTtRQUNGLE1BQU1xTixTQUFTRCxPQUFPRSxLQUFLLENBQUN0TjtRQUM1QixPQUFPO1lBQUV1TixTQUFTO1lBQU12TixNQUFNcU47UUFBTztJQUN2QyxFQUFFLE9BQU9HLE9BQU87UUFDZCxJQUFJQSxpQkFBaUJqUCx5Q0FBVSxFQUFFO1lBQy9CLE1BQU1tUCxTQUFtQyxDQUFDO1lBRTFDLEtBQUssTUFBTUMsU0FBU0gsTUFBTUksTUFBTSxDQUFFO2dCQUNoQyxNQUFNdk4sT0FBT3NOLE1BQU10TixJQUFJLENBQUN3TixJQUFJLENBQUM7Z0JBQzdCLElBQUksQ0FBQ0gsTUFBTSxDQUFDck4sS0FBSyxFQUFFO29CQUNqQnFOLE1BQU0sQ0FBQ3JOLEtBQUssR0FBRyxFQUFFO2dCQUNuQjtnQkFDQXFOLE1BQU0sQ0FBQ3JOLEtBQUssQ0FBQ3lOLElBQUksQ0FBQ0gsTUFBTXZOLE9BQU87WUFDakM7WUFFQSxPQUFPO2dCQUFFbU4sU0FBUztnQkFBT0c7WUFBTztRQUNsQztRQUVBLE9BQU87WUFBRUgsU0FBUztZQUFPRyxRQUFRO2dCQUFFSyxTQUFTO29CQUFDO2lCQUFvQjtZQUFDO1FBQUU7SUFDdEU7QUFDRixFQUFDO0FBRU0sTUFBTUMsa0JBQWtCLENBQUNOLFFBQWtDTztJQUNoRSxPQUFPUCxNQUFNLENBQUNPLE1BQU0sRUFBRSxDQUFDLEVBQUUsSUFBSTtBQUMvQixFQUFDO0FBRU0sTUFBTUMsWUFBWSxDQUFDUjtJQUN4QixPQUFPUyxPQUFPQyxJQUFJLENBQUNWLFFBQVE1TixNQUFNLEdBQUc7QUFDdEMsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxvbGl2aVxcRG9tYWluZSBWYWxsb3RcXHNyY1xcbGliXFx2YWxpZGF0b3JzXFxzY2hlbWFzLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHogfSBmcm9tICd6b2QnXG5cbi8vIENvbW1vbiB2YWxpZGF0aW9uIHBhdHRlcm5zXG5jb25zdCBlbWFpbFNjaGVtYSA9IHouc3RyaW5nKCkuZW1haWwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGVtYWlsIGFkZHJlc3MnKVxuY29uc3QgcGhvbmVTY2hlbWEgPSB6LnN0cmluZygpLnJlZ2V4KFxuICAvXihcXCtcXGR7MSwzfVstIF0/KT9cXGR7OCwxNX0kLyxcbiAgJ1BsZWFzZSBlbnRlciBhIHZhbGlkIHBob25lIG51bWJlcidcbikub3B0aW9uYWwoKVxuXG5jb25zdCBwb3N0YWxDb2RlU2NoZW1hID0gei5zdHJpbmcoKVxuICAubWluKDMsICdQb3N0YWwgY29kZSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycycpXG4gIC5tYXgoMTAsICdQb3N0YWwgY29kZSBjYW5ub3QgZXhjZWVkIDEwIGNoYXJhY3RlcnMnKVxuXG5jb25zdCBwYXNzd29yZFNjaGVtYSA9IHouc3RyaW5nKClcbiAgLm1pbig4LCAnUGFzc3dvcmQgbXVzdCBiZSBhdCBsZWFzdCA4IGNoYXJhY3RlcnMnKVxuICAucmVnZXgoL1tBLVpdLywgJ1Bhc3N3b3JkIG11c3QgY29udGFpbiBhdCBsZWFzdCBvbmUgdXBwZXJjYXNlIGxldHRlcicpXG4gIC5yZWdleCgvW2Etel0vLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBsb3dlcmNhc2UgbGV0dGVyJylcbiAgLnJlZ2V4KC9cXGQvLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBudW1iZXInKVxuICAucmVnZXgoL1shQCMkJV4mKl0vLCAnUGFzc3dvcmQgbXVzdCBjb250YWluIGF0IGxlYXN0IG9uZSBzcGVjaWFsIGNoYXJhY3RlcicpXG5cbi8vIEFnZSB2ZXJpZmljYXRpb24gc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGFnZVZlcmlmaWNhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYmlydGhEYXk6IHoubnVtYmVyKClcbiAgICAubWluKDEsICdQbGVhc2Ugc2VsZWN0IGEgdmFsaWQgZGF5JylcbiAgICAubWF4KDMxLCAnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIGRheScpLFxuICBiaXJ0aE1vbnRoOiB6Lm51bWJlcigpXG4gICAgLm1pbigxLCAnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIG1vbnRoJylcbiAgICAubWF4KDEyLCAnUGxlYXNlIHNlbGVjdCBhIHZhbGlkIG1vbnRoJyksXG4gIGJpcnRoWWVhcjogei5udW1iZXIoKVxuICAgIC5taW4oMTkwMCwgJ1BsZWFzZSBlbnRlciBhIHJlYWxpc3RpYyBiaXJ0aCB5ZWFyJylcbiAgICAubWF4KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSwgJ0JpcnRoIHllYXIgY2Fubm90IGJlIGluIHRoZSBmdXR1cmUnKSxcbiAgZG9jdW1lbnRUeXBlOiB6LmVudW0oWydpZF9jYXJkJywgJ3Bhc3Nwb3J0JywgJ2RyaXZlcnNfbGljZW5zZSddKS5vcHRpb25hbCgpLFxuICBkb2N1bWVudE51bWJlcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBjb3VudHJ5OiB6LnN0cmluZygpLmxlbmd0aCgyLCAnQ291bnRyeSBtdXN0IGJlIGEgMi1sZXR0ZXIgY29kZScpLm9wdGlvbmFsKClcbn0pLnJlZmluZShcbiAgKGRhdGEpID0+IHtcbiAgICAvLyBWYWxpZGF0ZSBiaXJ0aCBkYXRlXG4gICAgY29uc3QgYmlydGhEYXRlID0gbmV3IERhdGUoZGF0YS5iaXJ0aFllYXIsIGRhdGEuYmlydGhNb250aCAtIDEsIGRhdGEuYmlydGhEYXkpXG4gICAgcmV0dXJuICFpc05hTihiaXJ0aERhdGUuZ2V0VGltZSgpKSAmJiBiaXJ0aERhdGUgPD0gbmV3IERhdGUoKVxuICB9LFxuICB7XG4gICAgbWVzc2FnZTogJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGJpcnRoIGRhdGUnLFxuICAgIHBhdGg6IFsnYmlydGhEYXknXVxuICB9XG4pXG5cbi8vIEN1c3RvbWVyIHJlZ2lzdHJhdGlvbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgY3VzdG9tZXJSZWdpc3RyYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgcGFzc3dvcmQ6IHBhc3N3b3JkU2NoZW1hLFxuICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKCksXG4gIGZpcnN0TmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ0ZpcnN0IG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoNTAsICdGaXJzdCBuYW1lIGNhbm5vdCBleGNlZWQgNTAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWsOALcO/XFxzJy1dKyQvLCAnRmlyc3QgbmFtZSBjb250YWlucyBpbnZhbGlkIGNoYXJhY3RlcnMnKSxcbiAgbGFzdE5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDIsICdMYXN0IG5hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoNTAsICdMYXN0IG5hbWUgY2Fubm90IGV4Y2VlZCA1MCBjaGFyYWN0ZXJzJylcbiAgICAucmVnZXgoL15bYS16QS1aw4Atw79cXHMnLV0rJC8sICdMYXN0IG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJyksXG4gIHBob25lOiBwaG9uZVNjaGVtYSxcbiAgYmlydGhEYXRlOiB6LnN0cmluZygpLnJlZmluZShcbiAgICAoZGF0ZSkgPT4ge1xuICAgICAgY29uc3QgYmlydGhEYXRlID0gbmV3IERhdGUoZGF0ZSlcbiAgICAgIGNvbnN0IGFnZSA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSAtIGJpcnRoRGF0ZS5nZXRGdWxsWWVhcigpXG4gICAgICByZXR1cm4gIWlzTmFOKGJpcnRoRGF0ZS5nZXRUaW1lKCkpICYmIGFnZSA+PSAxNiAmJiBhZ2UgPD0gMTIwXG4gICAgfSxcbiAgICAnWW91IG11c3QgYmUgYXQgbGVhc3QgMTYgeWVhcnMgb2xkIHRvIHJlZ2lzdGVyJ1xuICApLFxuICBhY2NlcHRUZXJtczogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zJyksXG4gIGFjY2VwdFByaXZhY3k6IHouYm9vbGVhbigpLnJlZmluZSh2YWwgPT4gdmFsID09PSB0cnVlLCAnWW91IG11c3QgYWNjZXB0IHRoZSBwcml2YWN5IHBvbGljeScpLFxuICBhY2NlcHRNYXJrZXRpbmc6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGNvdW50cnk6IHouc3RyaW5nKCkubGVuZ3RoKDIsICdQbGVhc2Ugc2VsZWN0IGEgY291bnRyeScpXG59KS5yZWZpbmUoXG4gIChkYXRhKSA9PiBkYXRhLnBhc3N3b3JkID09PSBkYXRhLmNvbmZpcm1QYXNzd29yZCxcbiAge1xuICAgIG1lc3NhZ2U6ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyxcbiAgICBwYXRoOiBbJ2NvbmZpcm1QYXNzd29yZCddXG4gIH1cbilcblxuLy8gQXV0aGVudGljYXRpb24gc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGxvZ2luU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogZW1haWxTY2hlbWEsXG4gIHBhc3N3b3JkOiB6LnN0cmluZygpLm1pbigxLCAnUGFzc3dvcmQgaXMgcmVxdWlyZWQnKSxcbiAgcmVtZW1iZXJNZTogei5ib29sZWFuKCkub3B0aW9uYWwoKVxufSlcblxuZXhwb3J0IGNvbnN0IHJlZ2lzdGVyU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogZW1haWxTY2hlbWEsXG4gIHBhc3N3b3JkOiBwYXNzd29yZFNjaGVtYSxcbiAgY29uZmlybVBhc3N3b3JkOiB6LnN0cmluZygpLFxuICBmaXJzdE5hbWU6IHouc3RyaW5nKClcbiAgICAubWluKDIsICdGaXJzdCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDUwLCAnRmlyc3QgbmFtZSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXpBLVrDgC3Dv1xccyctXSskLywgJ0ZpcnN0IG5hbWUgY29udGFpbnMgaW52YWxpZCBjaGFyYWN0ZXJzJyksXG4gIGxhc3ROYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigyLCAnTGFzdCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDUwLCAnTGFzdCBuYW1lIGNhbm5vdCBleGNlZWQgNTAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWsOALcO/XFxzJy1dKyQvLCAnTGFzdCBuYW1lIGNvbnRhaW5zIGludmFsaWQgY2hhcmFjdGVycycpLFxuICBwaG9uZTogcGhvbmVTY2hlbWEsXG4gIGJpcnRoRGF0ZTogei5zdHJpbmcoKS5yZWZpbmUoXG4gICAgKGRhdGUpID0+IHtcbiAgICAgIGNvbnN0IGJpcnRoRGF0ZSA9IG5ldyBEYXRlKGRhdGUpXG4gICAgICBjb25zdCBhZ2UgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCkgLSBiaXJ0aERhdGUuZ2V0RnVsbFllYXIoKVxuICAgICAgcmV0dXJuICFpc05hTihiaXJ0aERhdGUuZ2V0VGltZSgpKSAmJiBhZ2UgPj0gMTggJiYgYWdlIDw9IDEyMFxuICAgIH0sXG4gICAgJ1lvdSBtdXN0IGJlIGF0IGxlYXN0IDE4IHllYXJzIG9sZCB0byByZWdpc3RlcidcbiAgKSxcbiAgcHJlZmVycmVkTGFuZ3VhZ2U6IHouZW51bShbJ2VuJywgJ2ZyJ10pLFxuICBtYXJrZXRpbmdDb25zZW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBuZXdzbGV0dGVyQ29uc2VudDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaXNCdXNpbmVzczogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgY29tcGFueU5hbWU6IHouc3RyaW5nKCkubWluKDIsICdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQnKS5vcHRpb25hbCgpLFxuICB2YXROdW1iZXI6IHouc3RyaW5nKCkucmVnZXgoL15bQS1aXXsyfVswLTlBLVpdKyQvLCAnSW52YWxpZCBWQVQgbnVtYmVyIGZvcm1hdCcpLm9wdGlvbmFsKCksXG4gIHRlcm1zQWNjZXB0ZWQ6IHouYm9vbGVhbigpLnJlZmluZSh2YWwgPT4gdmFsID09PSB0cnVlLCAnWW91IG11c3QgYWNjZXB0IHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucycpLFxuICBwcml2YWN5QWNjZXB0ZWQ6IHouYm9vbGVhbigpLnJlZmluZSh2YWwgPT4gdmFsID09PSB0cnVlLCAnWW91IG11c3QgYWNjZXB0IHRoZSBwcml2YWN5IHBvbGljeScpXG59KS5yZWZpbmUoXG4gIChkYXRhKSA9PiBkYXRhLnBhc3N3b3JkID09PSBkYXRhLmNvbmZpcm1QYXNzd29yZCxcbiAge1xuICAgIG1lc3NhZ2U6ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJyxcbiAgICBwYXRoOiBbJ2NvbmZpcm1QYXNzd29yZCddXG4gIH1cbikucmVmaW5lKFxuICAoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLmlzQnVzaW5lc3MpIHtcbiAgICAgIHJldHVybiBkYXRhLmNvbXBhbnlOYW1lICYmIGRhdGEuY29tcGFueU5hbWUubGVuZ3RoID49IDJcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcbiAge1xuICAgIG1lc3NhZ2U6ICdDb21wYW55IG5hbWUgaXMgcmVxdWlyZWQgZm9yIGJ1c2luZXNzIGFjY291bnRzJyxcbiAgICBwYXRoOiBbJ2NvbXBhbnlOYW1lJ11cbiAgfVxuKVxuXG5leHBvcnQgY29uc3QgZm9yZ290UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYVxufSlcblxuZXhwb3J0IGNvbnN0IHJlc2V0UGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHRva2VuOiB6LnN0cmluZygpLm1pbigxLCAnUmVzZXQgdG9rZW4gaXMgcmVxdWlyZWQnKSxcbiAgcGFzc3dvcmQ6IHBhc3N3b3JkU2NoZW1hLFxuICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKClcbn0pLnJlZmluZShcbiAgKGRhdGEpID0+IGRhdGEucGFzc3dvcmQgPT09IGRhdGEuY29uZmlybVBhc3N3b3JkLFxuICB7XG4gICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLFxuICAgIHBhdGg6IFsnY29uZmlybVBhc3N3b3JkJ11cbiAgfVxuKVxuXG5leHBvcnQgY29uc3QgY2hhbmdlUGFzc3dvcmRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGN1cnJlbnRQYXNzd29yZDogei5zdHJpbmcoKS5taW4oMSwgJ0N1cnJlbnQgcGFzc3dvcmQgaXMgcmVxdWlyZWQnKSxcbiAgbmV3UGFzc3dvcmQ6IHBhc3N3b3JkU2NoZW1hLFxuICBjb25maXJtUGFzc3dvcmQ6IHouc3RyaW5nKClcbn0pLnJlZmluZShcbiAgKGRhdGEpID0+IGRhdGEubmV3UGFzc3dvcmQgPT09IGRhdGEuY29uZmlybVBhc3N3b3JkLFxuICB7XG4gICAgbWVzc2FnZTogJ1Bhc3N3b3JkcyBkbyBub3QgbWF0Y2gnLFxuICAgIHBhdGg6IFsnY29uZmlybVBhc3N3b3JkJ11cbiAgfVxuKVxuXG4vLyBMZWdhY3kgYWxpYXMgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBjdXN0b21lckxvZ2luU2NoZW1hID0gbG9naW5TY2hlbWFcblxuLy8gQWRkcmVzcyBzY2hlbWFzXG5leHBvcnQgY29uc3QgYWRkcmVzc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgZmlyc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBsYXN0TmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ0xhc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBjb21wYW55OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIGFkZHJlc3M6IHouc3RyaW5nKCkubWluKDUsICdTdHJlZXQgYWRkcmVzcyBpcyByZXF1aXJlZCcpLFxuICBhZGRyZXNzMjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBjaXR5OiB6LnN0cmluZygpLm1pbigyLCAnQ2l0eSBpcyByZXF1aXJlZCcpLFxuICBwb3N0YWxDb2RlOiBwb3N0YWxDb2RlU2NoZW1hLFxuICBjb3VudHJ5OiB6LnN0cmluZygpLmxlbmd0aCgyLCAnUGxlYXNlIHNlbGVjdCBhIGNvdW50cnknKSxcbiAgcGhvbmU6IHBob25lU2NoZW1hXG59KVxuXG4vLyBDaGVja291dCBzY2hlbWFzXG5leHBvcnQgY29uc3QgY2hlY2tvdXRDdXN0b21lclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICBmaXJzdE5hbWU6IHouc3RyaW5nKCkubWluKDIsICdGaXJzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIGxhc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIHBob25lOiBwaG9uZVNjaGVtYSxcbiAgY3JlYXRlQWNjb3VudDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgcGFzc3dvcmQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSkucmVmaW5lKFxuICAoZGF0YSkgPT4ge1xuICAgIGlmIChkYXRhLmNyZWF0ZUFjY291bnQpIHtcbiAgICAgIHJldHVybiBkYXRhLnBhc3N3b3JkICYmIGRhdGEucGFzc3dvcmQubGVuZ3RoID49IDhcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcbiAge1xuICAgIG1lc3NhZ2U6ICdQYXNzd29yZCBpcyByZXF1aXJlZCB3aGVuIGNyZWF0aW5nIGFuIGFjY291bnQnLFxuICAgIHBhdGg6IFsncGFzc3dvcmQnXVxuICB9XG4pXG5cbmV4cG9ydCBjb25zdCBjaGVja291dFNoaXBwaW5nU2NoZW1hID0gYWRkcmVzc1NjaGVtYVxuXG5leHBvcnQgY29uc3QgY2hlY2tvdXRCaWxsaW5nU2NoZW1hID0gYWRkcmVzc1NjaGVtYS5leHRlbmQoe1xuICBzYW1lQXNTaGlwcGluZzogei5ib29sZWFuKCkub3B0aW9uYWwoKVxufSlcblxuZXhwb3J0IGNvbnN0IGNoZWNrb3V0UGF5bWVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcGF5bWVudE1ldGhvZDogei5lbnVtKFsnbW9sbGllJywgJ3N0cmlwZScsICdwYXlwYWwnXSksXG4gIHNhdmVQYXltZW50TWV0aG9kOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBhY2NlcHRUZXJtczogei5ib29sZWFuKCkucmVmaW5lKHZhbCA9PiB2YWwgPT09IHRydWUsICdZb3UgbXVzdCBhY2NlcHQgdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zJylcbn0pXG5cbmV4cG9ydCBjb25zdCBjb21wbGV0ZUNoZWNrb3V0U2NoZW1hID0gei5vYmplY3Qoe1xuICBjdXN0b21lcjogY2hlY2tvdXRDdXN0b21lclNjaGVtYSxcbiAgc2hpcHBpbmc6IGNoZWNrb3V0U2hpcHBpbmdTY2hlbWEsXG4gIGJpbGxpbmc6IGNoZWNrb3V0QmlsbGluZ1NjaGVtYSxcbiAgcGF5bWVudDogY2hlY2tvdXRQYXltZW50U2NoZW1hLFxuICBhZ2VWZXJpZmljYXRpb246IGFnZVZlcmlmaWNhdGlvblNjaGVtYSxcbiAgdmF0TnVtYmVyOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gIHNwZWNpYWxJbnN0cnVjdGlvbnM6IHouc3RyaW5nKCkubWF4KDUwMCwgJ1NwZWNpYWwgaW5zdHJ1Y3Rpb25zIGNhbm5vdCBleGNlZWQgNTAwIGNoYXJhY3RlcnMnKS5vcHRpb25hbCgpXG59KVxuXG4vLyBDYXJ0IHNjaGVtYXNcbmV4cG9ydCBjb25zdCBhZGRUb0NhcnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHByb2R1Y3RJZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIHByb2R1Y3QgSUQnKSxcbiAgcXVhbnRpdHk6IHoubnVtYmVyKClcbiAgICAubWluKDEsICdRdWFudGl0eSBtdXN0IGJlIGF0IGxlYXN0IDEnKVxuICAgIC5tYXgoMjQsICdNYXhpbXVtIDI0IGJvdHRsZXMgcGVyIHByb2R1Y3QnKVxuICAgIC5pbnQoJ1F1YW50aXR5IG11c3QgYmUgYSB3aG9sZSBudW1iZXInKSxcbiAgdmFyaWFudElkOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pXG5cbmV4cG9ydCBjb25zdCB1cGRhdGVDYXJ0SXRlbVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgcXVhbnRpdHk6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdRdWFudGl0eSBtdXN0IGJlIDAgb3IgbW9yZScpXG4gICAgLm1heCgyNCwgJ01heGltdW0gMjQgYm90dGxlcyBwZXIgcHJvZHVjdCcpXG4gICAgLmludCgnUXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpXG59KVxuXG4vLyBQcm9kdWN0IHNjaGVtYXMgKGZvciBhZG1pbilcbmV4cG9ydCBjb25zdCB3aW5lUHJvZHVjdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgc2t1OiB6LnN0cmluZygpXG4gICAgLm1pbigzLCAnU0tVIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDUwLCAnU0tVIGNhbm5vdCBleGNlZWQgNTAgY2hhcmFjdGVycycpXG4gICAgLnJlZ2V4KC9eW0EtWjAtOS1dKyQvLCAnU0tVIG11c3QgY29udGFpbiBvbmx5IHVwcGVyY2FzZSBsZXR0ZXJzLCBudW1iZXJzLCBhbmQgaHlwaGVucycpLFxuICBuYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigzLCAnUHJvZHVjdCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDEwMCwgJ1Byb2R1Y3QgbmFtZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIHZpbnRhZ2U6IHoubnVtYmVyKClcbiAgICAubWluKDE4MDAsICdWaW50YWdlIG11c3QgYmUgcmVhbGlzdGljJylcbiAgICAubWF4KG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKSArIDEsICdWaW50YWdlIGNhbm5vdCBiZSB0b28gZmFyIGluIHRoZSBmdXR1cmUnKVxuICAgIC5pbnQoJ1ZpbnRhZ2UgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpLFxuICB2YXJpZXRhbDogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ1ZhcmlldGFsIG11c3QgYmUgYXQgbGVhc3QgMiBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDEwMCwgJ1ZhcmlldGFsIGNhbm5vdCBleGNlZWQgMTAwIGNoYXJhY3RlcnMnKSxcbiAgcmVnaW9uOiB6LnN0cmluZygpXG4gICAgLm1heCgxMDAsICdSZWdpb24gbmFtZSB0b28gbG9uZycpXG4gICAgLm9wdGlvbmFsKCksXG4gIGFsY29ob2xfY29udGVudDogei5udW1iZXIoKVxuICAgIC5taW4oMC41LCAnQWxjb2hvbCBjb250ZW50IG11c3QgYmUgYXQgbGVhc3QgMC41JScpXG4gICAgLm1heCgyMCwgJ0FsY29ob2wgY29udGVudCBjYW5ub3QgZXhjZWVkIDIwJScpLFxuICB2b2x1bWVfbWw6IHoubnVtYmVyKClcbiAgICAubWluKDE4NywgJ01pbmltdW0gdm9sdW1lIGlzIDE4N21sJylcbiAgICAubWF4KDMwMDAsICdNYXhpbXVtIHZvbHVtZSBpcyAzMDAwbWwnKVxuICAgIC5pbnQoJ1ZvbHVtZSBtdXN0IGJlIGEgd2hvbGUgbnVtYmVyJylcbiAgICAuZGVmYXVsdCg3NTApLFxuICBwcmljZV9ldXI6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdQcmljZSBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICAgIC5tYXgoMTAwMDAsICdQcmljZSBjYW5ub3QgZXhjZWVkIOKCrDEwLDAwMC4wMCcpLFxuICBjb3N0X2V1cjogei5udW1iZXIoKVxuICAgIC5taW4oMCwgJ0Nvc3QgY2Fubm90IGJlIG5lZ2F0aXZlJylcbiAgICAubWF4KDEwMDAwLCAnQ29zdCBjYW5ub3QgZXhjZWVkIOKCrDEwLDAwMC4wMCcpXG4gICAgLm9wdGlvbmFsKCksXG4gIHN0b2NrX3F1YW50aXR5OiB6Lm51bWJlcigpXG4gICAgLm1pbigwLCAnU3RvY2sgcXVhbnRpdHkgY2Fubm90IGJlIG5lZ2F0aXZlJylcbiAgICAubWF4KDEwMDAwLCAnU3RvY2sgcXVhbnRpdHkgY2Fubm90IGV4Y2VlZCAxMCwwMDAnKVxuICAgIC5pbnQoJ1N0b2NrIHF1YW50aXR5IG11c3QgYmUgYSB3aG9sZSBudW1iZXInKVxuICAgIC5kZWZhdWx0KDApLFxuICByZXNlcnZlZF9xdWFudGl0eTogei5udW1iZXIoKVxuICAgIC5taW4oMCwgJ1Jlc2VydmVkIHF1YW50aXR5IGNhbm5vdCBiZSBuZWdhdGl2ZScpXG4gICAgLmludCgnUmVzZXJ2ZWQgcXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpXG4gICAgLmRlZmF1bHQoMCksXG4gIHJlb3JkZXJfbGV2ZWw6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdSZW9yZGVyIGxldmVsIGNhbm5vdCBiZSBuZWdhdGl2ZScpXG4gICAgLmludCgnUmVvcmRlciBsZXZlbCBtdXN0IGJlIGEgd2hvbGUgbnVtYmVyJylcbiAgICAub3B0aW9uYWwoKSxcbiAgd2VpZ2h0X2dyYW1zOiB6Lm51bWJlcigpXG4gICAgLm1pbigxMDAsICdXZWlnaHQgbXVzdCBiZSBhdCBsZWFzdCAxMDBnJylcbiAgICAubWF4KDUwMDAsICdXZWlnaHQgY2Fubm90IGV4Y2VlZCA1a2cnKVxuICAgIC5pbnQoJ1dlaWdodCBtdXN0IGJlIGEgd2hvbGUgbnVtYmVyJylcbiAgICAuZGVmYXVsdCgxMjAwKSxcbiAgZGVzY3JpcHRpb25fZW46IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnRW5nbGlzaCBkZXNjcmlwdGlvbiBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMjAwMCwgJ0VuZ2xpc2ggZGVzY3JpcHRpb24gY2Fubm90IGV4Y2VlZCAyMDAwIGNoYXJhY3RlcnMnKSxcbiAgZGVzY3JpcHRpb25fZnI6IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnRnJlbmNoIGRlc2NyaXB0aW9uIG11c3QgYmUgYXQgbGVhc3QgMTAgY2hhcmFjdGVycycpXG4gICAgLm1heCgyMDAwLCAnRnJlbmNoIGRlc2NyaXB0aW9uIGNhbm5vdCBleGNlZWQgMjAwMCBjaGFyYWN0ZXJzJyksXG4gIHRhc3Rpbmdfbm90ZXNfZW46IHouc3RyaW5nKClcbiAgICAubWF4KDEwMDAsICdFbmdsaXNoIHRhc3Rpbmcgbm90ZXMgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICB0YXN0aW5nX25vdGVzX2ZyOiB6LnN0cmluZygpXG4gICAgLm1heCgxMDAwLCAnRnJlbmNoIHRhc3Rpbmcgbm90ZXMgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBmb29kX3BhaXJpbmdfZW46IHouc3RyaW5nKClcbiAgICAubWF4KDUwMCwgJ0VuZ2xpc2ggZm9vZCBwYWlyaW5nIGNhbm5vdCBleGNlZWQgNTAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBmb29kX3BhaXJpbmdfZnI6IHouc3RyaW5nKClcbiAgICAubWF4KDUwMCwgJ0ZyZW5jaCBmb29kIHBhaXJpbmcgY2Fubm90IGV4Y2VlZCA1MDAgY2hhcmFjdGVycycpXG4gICAgLm9wdGlvbmFsKCksXG4gIHByb2R1Y3Rpb25fbm90ZXNfZW46IHouc3RyaW5nKClcbiAgICAubWF4KDEwMDAsICdFbmdsaXNoIHByb2R1Y3Rpb24gbm90ZXMgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBwcm9kdWN0aW9uX25vdGVzX2ZyOiB6LnN0cmluZygpXG4gICAgLm1heCgxMDAwLCAnRnJlbmNoIHByb2R1Y3Rpb24gbm90ZXMgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBhbGxlcmdlbnM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgb3JnYW5pY19jZXJ0aWZpZWQ6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICBiaW9keW5hbWljX2NlcnRpZmllZDogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSksXG4gIHZlZ2FuX2ZyaWVuZGx5OiB6LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKSxcbiAgZ29vZ2xlX3Byb2R1Y3RfY2F0ZWdvcnk6IHouc3RyaW5nKCkubWF4KDIwMCkub3B0aW9uYWwoKSxcbiAgbWV0YV9wcm9kdWN0X2NhdGVnb3J5OiB6LnN0cmluZygpLm1heCgyMDApLm9wdGlvbmFsKCksXG4gIGlzX2FjdGl2ZTogei5ib29sZWFuKCkuZGVmYXVsdCh0cnVlKSxcbiAgZmVhdHVyZWQ6IHouYm9vbGVhbigpLmRlZmF1bHQoZmFsc2UpLFxuICBzb3J0X29yZGVyOiB6Lm51bWJlcigpXG4gICAgLm1pbigwLCAnU29ydCBvcmRlciBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICAgIC5pbnQoJ1NvcnQgb3JkZXIgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpXG4gICAgLmRlZmF1bHQoMCksXG4gIHNlb190aXRsZV9lbjogei5zdHJpbmcoKVxuICAgIC5tYXgoNjAsICdFbmdsaXNoIFNFTyB0aXRsZSBjYW5ub3QgZXhjZWVkIDYwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBzZW9fdGl0bGVfZnI6IHouc3RyaW5nKClcbiAgICAubWF4KDYwLCAnRnJlbmNoIFNFTyB0aXRsZSBjYW5ub3QgZXhjZWVkIDYwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBzZW9fZGVzY3JpcHRpb25fZW46IHouc3RyaW5nKClcbiAgICAubWF4KDE2MCwgJ0VuZ2xpc2ggU0VPIGRlc2NyaXB0aW9uIGNhbm5vdCBleGNlZWQgMTYwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBzZW9fZGVzY3JpcHRpb25fZnI6IHouc3RyaW5nKClcbiAgICAubWF4KDE2MCwgJ0ZyZW5jaCBTRU8gZGVzY3JpcHRpb24gY2Fubm90IGV4Y2VlZCAxNjAgY2hhcmFjdGVycycpXG4gICAgLm9wdGlvbmFsKCksXG4gIHNsdWdfZW46IHouc3RyaW5nKClcbiAgICAubWluKDMsICdFbmdsaXNoIHNsdWcgbXVzdCBiZSBhdCBsZWFzdCAzIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnRW5nbGlzaCBzbHVnIGNhbm5vdCBleGNlZWQgMTAwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXowLTktXSskLywgJ0VuZ2xpc2ggc2x1ZyBtdXN0IGNvbnRhaW4gb25seSBsb3dlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIGh5cGhlbnMnKSxcbiAgc2x1Z19mcjogei5zdHJpbmcoKVxuICAgIC5taW4oMywgJ0ZyZW5jaCBzbHVnIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDEwMCwgJ0ZyZW5jaCBzbHVnIGNhbm5vdCBleGNlZWQgMTAwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXlthLXowLTktXSskLywgJ0ZyZW5jaCBzbHVnIG11c3QgY29udGFpbiBvbmx5IGxvd2VyY2FzZSBsZXR0ZXJzLCBudW1iZXJzLCBhbmQgaHlwaGVucycpXG59KVxuXG4vLyBQcm9kdWN0IGltYWdlIHNjaGVtYVxuZXhwb3J0IGNvbnN0IHByb2R1Y3RJbWFnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgdXJsOiB6LnN0cmluZygpLnVybCgnUGxlYXNlIGVudGVyIGEgdmFsaWQgaW1hZ2UgVVJMJyksXG4gIGFsdF90ZXh0X2VuOiB6LnN0cmluZygpXG4gICAgLm1heCgyMDAsICdFbmdsaXNoIGFsdCB0ZXh0IGNhbm5vdCBleGNlZWQgMjAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBhbHRfdGV4dF9mcjogei5zdHJpbmcoKVxuICAgIC5tYXgoMjAwLCAnRnJlbmNoIGFsdCB0ZXh0IGNhbm5vdCBleGNlZWQgMjAwIGNoYXJhY3RlcnMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBkaXNwbGF5X29yZGVyOiB6Lm51bWJlcigpXG4gICAgLm1pbigwLCAnRGlzcGxheSBvcmRlciBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICAgIC5pbnQoJ0Rpc3BsYXkgb3JkZXIgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpXG4gICAgLmRlZmF1bHQoMCksXG4gIGltYWdlX3R5cGU6IHouZW51bShbJ2JvdHRsZScsICdsYWJlbCcsICd2aW5leWFyZCcsICd3aW5lbWFrZXInXSkuZGVmYXVsdCgnYm90dGxlJyksXG4gIHdpZHRoOiB6Lm51bWJlcigpLmludCgpLm9wdGlvbmFsKCksXG4gIGhlaWdodDogei5udW1iZXIoKS5pbnQoKS5vcHRpb25hbCgpLFxuICBmaWxlX3NpemU6IHoubnVtYmVyKCkuaW50KCkub3B0aW9uYWwoKSxcbiAgaXNfcHJpbWFyeTogei5ib29sZWFuKCkuZGVmYXVsdChmYWxzZSlcbn0pXG5cbi8vIFVwZGF0ZSB3aW5lIHByb2R1Y3Qgc2NoZW1hIChmb3IgUFVUIHJlcXVlc3RzKVxuZXhwb3J0IGNvbnN0IHVwZGF0ZVdpbmVQcm9kdWN0U2NoZW1hID0gd2luZVByb2R1Y3RTY2hlbWEucGFydGlhbCgpLmV4dGVuZCh7XG4gIGlkOiB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcHJvZHVjdCBJRCcpXG59KVxuXG4vLyBMZWdhY3kgcHJvZHVjdCBzY2hlbWEgZm9yIGJhY2t3YXJkIGNvbXBhdGliaWxpdHlcbmV4cG9ydCBjb25zdCBwcm9kdWN0U2NoZW1hID0gei5vYmplY3Qoe1xuICBuYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigzLCAnUHJvZHVjdCBuYW1lIG11c3QgYmUgYXQgbGVhc3QgMyBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDEwMCwgJ1Byb2R1Y3QgbmFtZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIHNrdTogei5zdHJpbmcoKVxuICAgIC5taW4oMywgJ1NLVSBtdXN0IGJlIGF0IGxlYXN0IDMgY2hhcmFjdGVycycpXG4gICAgLm1heCg1MCwgJ1NLVSBjYW5ub3QgZXhjZWVkIDUwIGNoYXJhY3RlcnMnKVxuICAgIC5yZWdleCgvXltBLVowLTktXSskLywgJ1NLVSBtdXN0IGNvbnRhaW4gb25seSB1cHBlcmNhc2UgbGV0dGVycywgbnVtYmVycywgYW5kIGh5cGhlbnMnKSxcbiAgZGVzY3JpcHRpb246IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnRGVzY3JpcHRpb24gbXVzdCBiZSBhdCBsZWFzdCAxMCBjaGFyYWN0ZXJzJylcbiAgICAubWF4KDIwMDAsICdEZXNjcmlwdGlvbiBjYW5ub3QgZXhjZWVkIDIwMDAgY2hhcmFjdGVycycpLFxuICBwcmljZTogei5udW1iZXIoKVxuICAgIC5taW4oMSwgJ1ByaWNlIG11c3QgYmUgYXQgbGVhc3Qg4oKsMC4wMScpXG4gICAgLm1heCgxMDAwMDAsICdQcmljZSBjYW5ub3QgZXhjZWVkIOKCrDEsMDAwLjAwJyksXG4gIHN0b2NrUXVhbnRpdHk6IHoubnVtYmVyKClcbiAgICAubWluKDAsICdTdG9jayBxdWFudGl0eSBjYW5ub3QgYmUgbmVnYXRpdmUnKVxuICAgIC5tYXgoMTAwMDAsICdTdG9jayBxdWFudGl0eSBjYW5ub3QgZXhjZWVkIDEwLDAwMCcpXG4gICAgLmludCgnU3RvY2sgcXVhbnRpdHkgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpLFxuICBjYXRlZ29yeTogei5lbnVtKFsncmVkX3dpbmUnLCAnd2hpdGVfd2luZScsICdyb3NlX3dpbmUnLCAnc3BhcmtsaW5nX3dpbmUnLCAnZGVzc2VydF93aW5lJywgJ2ZvcnRpZmllZF93aW5lJ10pLFxuICB2aW50YWdlOiB6Lm51bWJlcigpXG4gICAgLm1pbigxODAwLCAnVmludGFnZSBtdXN0IGJlIHJlYWxpc3RpYycpXG4gICAgLm1heChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksICdWaW50YWdlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlJylcbiAgICAub3B0aW9uYWwoKSxcbiAgYWxjb2hvbENvbnRlbnQ6IHoubnVtYmVyKClcbiAgICAubWluKDAuNSwgJ0FsY29ob2wgY29udGVudCBtdXN0IGJlIGF0IGxlYXN0IDAuNSUnKVxuICAgIC5tYXgoMjAsICdBbGNvaG9sIGNvbnRlbnQgY2Fubm90IGV4Y2VlZCAyMCUnKVxuICAgIC5vcHRpb25hbCgpLFxuICBncmFwZVZhcmlldHk6IHouc3RyaW5nKCkubWF4KDEwMCwgJ0dyYXBlIHZhcmlldHkgbmFtZSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHJlZ2lvbjogei5zdHJpbmcoKS5tYXgoMTAwLCAnUmVnaW9uIG5hbWUgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICBwcm9kdWNlcjogei5zdHJpbmcoKS5tYXgoMTAwLCAnUHJvZHVjZXIgbmFtZSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHZvbHVtZTogei5udW1iZXIoKVxuICAgIC5taW4oMTg3LCAnTWluaW11bSB2b2x1bWUgaXMgMTg3bWwnKVxuICAgIC5tYXgoMzAwMCwgJ01heGltdW0gdm9sdW1lIGlzIDMwMDBtbCcpXG4gICAgLm9wdGlvbmFsKCksXG4gIHNlcnZpbmdUZW1wZXJhdHVyZTogei5zdHJpbmcoKS5tYXgoNTAsICdTZXJ2aW5nIHRlbXBlcmF0dXJlIGRlc2NyaXB0aW9uIHRvbyBsb25nJykub3B0aW9uYWwoKSxcbiAgYWdpbmdQb3RlbnRpYWw6IHouc3RyaW5nKCkubWF4KDEwMCwgJ0FnaW5nIHBvdGVudGlhbCBkZXNjcmlwdGlvbiB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHBhaXJpbmdOb3Rlczogei5zdHJpbmcoKS5tYXgoNTAwLCAnUGFpcmluZyBub3RlcyB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIHN0YXR1czogei5lbnVtKFsnYWN0aXZlJywgJ2luYWN0aXZlJywgJ291dF9vZl9zdG9jaycsICdkaXNjb250aW51ZWQnXSksXG4gIGlzRmVhdHVyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGlzT3JnYW5pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaXNCaW9keW5hbWljOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBpbWFnZVVybDogei5zdHJpbmcoKS51cmwoJ1BsZWFzZSBlbnRlciBhIHZhbGlkIGltYWdlIFVSTCcpLm9wdGlvbmFsKCksXG4gIGdhbGxlcnlJbWFnZXM6IHouYXJyYXkoei5zdHJpbmcoKS51cmwoKSkubWF4KDEwLCAnTWF4aW11bSAxMCBnYWxsZXJ5IGltYWdlcycpLm9wdGlvbmFsKClcbn0pXG5cbi8vIE9yZGVyIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBvcmRlclNjaGVtYSA9IHoub2JqZWN0KHtcbiAgY3VzdG9tZXJJZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIGN1c3RvbWVyIElEJykub3B0aW9uYWwoKSxcbiAgY3VzdG9tZXJFbWFpbDogZW1haWxTY2hlbWEsXG4gIGN1c3RvbWVyRmlyc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLFxuICBjdXN0b21lckxhc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnTGFzdCBuYW1lIGlzIHJlcXVpcmVkJyksXG4gIHNoaXBwaW5nQWRkcmVzczogYWRkcmVzc1NjaGVtYSxcbiAgYmlsbGluZ0FkZHJlc3M6IGFkZHJlc3NTY2hlbWEsXG4gIGl0ZW1zOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICBwcm9kdWN0SWQ6IHouc3RyaW5nKCkudXVpZCgnSW52YWxpZCBwcm9kdWN0IElEJyksXG4gICAgcXVhbnRpdHk6IHoubnVtYmVyKCkubWluKDEsICdRdWFudGl0eSBtdXN0IGJlIGF0IGxlYXN0IDEnKS5pbnQoKSxcbiAgICB1bml0UHJpY2U6IHoubnVtYmVyKCkubWluKDEsICdVbml0IHByaWNlIG11c3QgYmUgcG9zaXRpdmUnKVxuICB9KSkubWluKDEsICdPcmRlciBtdXN0IGNvbnRhaW4gYXQgbGVhc3Qgb25lIGl0ZW0nKSxcbiAgc3VidG90YWw6IHoubnVtYmVyKCkubWluKDAsICdTdWJ0b3RhbCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgdmF0QW1vdW50OiB6Lm51bWJlcigpLm1pbigwLCAnVkFUIGFtb3VudCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgc2hpcHBpbmdDb3N0OiB6Lm51bWJlcigpLm1pbigwLCAnU2hpcHBpbmcgY29zdCBjYW5ub3QgYmUgbmVnYXRpdmUnKSxcbiAgdG90YWxBbW91bnQ6IHoubnVtYmVyKCkubWluKDEsICdUb3RhbCBhbW91bnQgbXVzdCBiZSBwb3NpdGl2ZScpLFxuICBwYXltZW50TWV0aG9kOiB6LnN0cmluZygpLm1pbigxLCAnUGF5bWVudCBtZXRob2QgaXMgcmVxdWlyZWQnKSxcbiAgc3BlY2lhbEluc3RydWN0aW9uczogei5zdHJpbmcoKS5tYXgoNTAwLCAnU3BlY2lhbCBpbnN0cnVjdGlvbnMgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICBnaWZ0TWVzc2FnZTogei5zdHJpbmcoKS5tYXgoMjAwLCAnR2lmdCBtZXNzYWdlIHRvbyBsb25nJykub3B0aW9uYWwoKVxufSlcblxuLy8gQ29udGFjdCBmb3JtIHNjaGVtYXNcbmV4cG9ydCBjb25zdCBjb250YWN0Rm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbmFtZTogei5zdHJpbmcoKVxuICAgIC5taW4oMiwgJ05hbWUgbXVzdCBiZSBhdCBsZWFzdCAyIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnTmFtZSBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgc3ViamVjdDogei5zdHJpbmcoKVxuICAgIC5taW4oNSwgJ1N1YmplY3QgbXVzdCBiZSBhdCBsZWFzdCA1IGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwLCAnU3ViamVjdCBjYW5ub3QgZXhjZWVkIDEwMCBjaGFyYWN0ZXJzJyksXG4gIG1lc3NhZ2U6IHouc3RyaW5nKClcbiAgICAubWluKDEwLCAnTWVzc2FnZSBtdXN0IGJlIGF0IGxlYXN0IDEwIGNoYXJhY3RlcnMnKVxuICAgIC5tYXgoMTAwMCwgJ01lc3NhZ2UgY2Fubm90IGV4Y2VlZCAxMDAwIGNoYXJhY3RlcnMnKSxcbiAgcGhvbmU6IHBob25lU2NoZW1hLFxuICBjYXRlZ29yeTogei5lbnVtKFsnZ2VuZXJhbCcsICdvcmRlcnMnLCAncHJvZHVjdHMnLCAnc2hpcHBpbmcnLCAncmV0dXJucycsICd0ZWNobmljYWwnXSkub3B0aW9uYWwoKVxufSlcblxuLy8gV2luZSBlc3RhdGUgY29udGFjdCBmb3JtIHNjaGVtYSAtIHNwZWNpYWxpemVkIGZvciBEb21haW5lIFZhbGxvdFxuY29uc3QgZnJlbmNoUGhvbmVTY2hlbWEgPSB6LnN0cmluZygpLnJlZ2V4KFxuICAvXihcXCszM3wwKVsxLTldKFxcZHs4fSkkLyxcbiAgJ1ZldWlsbGV6IGVudHJlciB1biBudW3DqXJvIGRlIHTDqWzDqXBob25lIGZyYW7Dp2FpcyB2YWxpZGUgKGV4OiAwMSAyMyA0NSA2NyA4OSknXG4pLm9wdGlvbmFsKClcblxuZXhwb3J0IGNvbnN0IHdpbmVDb250YWN0Rm9ybVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZmlyc3ROYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigyLCAnTGUgcHLDqW5vbSBkb2l0IGNvbnRlbmlyIGF1IG1vaW5zIDIgY2FyYWN0w6hyZXMnKVxuICAgIC5tYXgoNTAsICdMZSBwcsOpbm9tIG5lIHBldXQgcGFzIGTDqXBhc3NlciA1MCBjYXJhY3TDqHJlcycpXG4gICAgLnJlZ2V4KC9eW2EtekEtWsOALcO/XFxzJy1dKyQvLCAnTGUgcHLDqW5vbSBjb250aWVudCBkZXMgY2FyYWN0w6hyZXMgaW52YWxpZGVzJyksXG4gIGxhc3ROYW1lOiB6LnN0cmluZygpXG4gICAgLm1pbigyLCAnTGUgbm9tIGRvaXQgY29udGVuaXIgYXUgbW9pbnMgMiBjYXJhY3TDqHJlcycpXG4gICAgLm1heCg1MCwgJ0xlIG5vbSBuZSBwZXV0IHBhcyBkw6lwYXNzZXIgNTAgY2FyYWN0w6hyZXMnKVxuICAgIC5yZWdleCgvXlthLXpBLVrDgC3Dv1xccyctXSskLywgJ0xlIG5vbSBjb250aWVudCBkZXMgY2FyYWN0w6hyZXMgaW52YWxpZGVzJyksXG4gIGVtYWlsOiB6LnN0cmluZygpXG4gICAgLmVtYWlsKCdWZXVpbGxleiBlbnRyZXIgdW5lIGFkcmVzc2UgZW1haWwgdmFsaWRlJylcbiAgICAubWF4KDI1NSwgJ0xcXCdhZHJlc3NlIGVtYWlsIGVzdCB0cm9wIGxvbmd1ZScpLFxuICBwaG9uZTogZnJlbmNoUGhvbmVTY2hlbWEsXG4gIGNvbXBhbnk6IHouc3RyaW5nKClcbiAgICAubWF4KDEwMCwgJ0xlIG5vbSBkZSBsYSBzb2Npw6l0w6kgbmUgcGV1dCBwYXMgZMOpcGFzc2VyIDEwMCBjYXJhY3TDqHJlcycpXG4gICAgLm9wdGlvbmFsKCksXG4gIGlucXVpcnlUeXBlOiB6LmVudW0oW1xuICAgICd3aW5lX3Rhc3RpbmcnLFxuICAgICdncm91cF92aXNpdCcsXG4gICAgJ3dpbmVfb3JkZXJzJyxcbiAgICAnYnVzaW5lc3NfcGFydG5lcnNoaXAnLFxuICAgICdwcmVzc19tZWRpYScsXG4gICAgJ2dlbmVyYWxfaW5xdWlyeSdcbiAgXSwge1xuICAgIGVycm9yTWFwOiAoKSA9PiAoeyBtZXNzYWdlOiAnVmV1aWxsZXogc8OpbGVjdGlvbm5lciBsZSB0eXBlIGRlIGRlbWFuZGUnIH0pXG4gIH0pLFxuICBncm91cFNpemU6IHoubnVtYmVyKClcbiAgICAubWluKDEsICdMZSBub21icmUgZGUgcGVyc29ubmVzIGRvaXQgw6p0cmUgZFxcJ2F1IG1vaW5zIDEnKVxuICAgIC5tYXgoNTAsICdOb3VzIG5lIHBvdXZvbnMgYWNjdWVpbGxpciBwbHVzIGRlIDUwIHBlcnNvbm5lcyBwYXIgZ3JvdXBlJylcbiAgICAuaW50KCdMZSBub21icmUgZGUgcGVyc29ubmVzIGRvaXQgw6p0cmUgdW4gbm9tYnJlIGVudGllcicpXG4gICAgLm9wdGlvbmFsKCksXG4gIHByZWZlcnJlZERhdGU6IHouc3RyaW5nKClcbiAgICAucmVmaW5lKFxuICAgICAgKGRhdGUpID0+IHtcbiAgICAgICAgaWYgKCFkYXRlKSByZXR1cm4gdHJ1ZSAvLyBPcHRpb25hbCBmaWVsZFxuICAgICAgICBjb25zdCBzZWxlY3RlZERhdGUgPSBuZXcgRGF0ZShkYXRlKVxuICAgICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKClcbiAgICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMClcbiAgICAgICAgcmV0dXJuIHNlbGVjdGVkRGF0ZSA+PSB0b2RheVxuICAgICAgfSxcbiAgICAgICdMYSBkYXRlIHByw6lmw6lyw6llIG5lIHBldXQgcGFzIMOqdHJlIGRhbnMgbGUgcGFzc8OpJ1xuICAgIClcbiAgICAub3B0aW9uYWwoKSxcbiAgbWVzc2FnZTogei5zdHJpbmcoKVxuICAgIC5taW4oMjAsICdWb3RyZSBtZXNzYWdlIGRvaXQgY29udGVuaXIgYXUgbW9pbnMgMjAgY2FyYWN0w6hyZXMnKVxuICAgIC5tYXgoMTUwMCwgJ1ZvdHJlIG1lc3NhZ2UgbmUgcGV1dCBwYXMgZMOpcGFzc2VyIDE1MDAgY2FyYWN0w6hyZXMnKVxuICAgIC5yZWZpbmUoXG4gICAgICAobXNnKSA9PiAhLzxbXj5dKj4vZy50ZXN0KG1zZyksXG4gICAgICAnTGUgbWVzc2FnZSBuZSBwZXV0IHBhcyBjb250ZW5pciBkZSBIVE1MJ1xuICAgICksXG4gIC8vIFdpbmUtc3BlY2lmaWMgZmllbGRzXG4gIHdpbmVQcmVmZXJlbmNlczogei5zdHJpbmcoKVxuICAgIC5tYXgoMzAwLCAnTGVzIHByw6lmw6lyZW5jZXMgdmluaWNvbGVzIG5lIHBldXZlbnQgcGFzIGTDqXBhc3NlciAzMDAgY2FyYWN0w6hyZXMnKVxuICAgIC5vcHRpb25hbCgpLFxuICBidWRnZXRSYW5nZTogei5zdHJpbmcoKVxuICAgIC5tYXgoNTAsICdMYSBmb3VyY2hldHRlIGJ1ZGfDqXRhaXJlIG5lIHBldXQgcGFzIGTDqXBhc3NlciA1MCBjYXJhY3TDqHJlcycpXG4gICAgLm9wdGlvbmFsKCksXG4gIHNwZWNpYWxSZXF1aXJlbWVudHM6IHouc3RyaW5nKClcbiAgICAubWF4KDMwMCwgJ0xlcyBleGlnZW5jZXMgc3DDqWNpYWxlcyBuZSBwZXV2ZW50IHBhcyBkw6lwYXNzZXIgMzAwIGNhcmFjdMOocmVzJylcbiAgICAub3B0aW9uYWwoKSxcbiAgLy8gQ29tcGxpYW5jZSBmaWVsZHNcbiAgYWdlVmVyaWZpZWQ6IHouYm9vbGVhbigpLnJlZmluZShcbiAgICB2YWwgPT4gdmFsID09PSB0cnVlLFxuICAgICdWb3VzIGRldmV6IGNvbmZpcm1lciBhdm9pciBsXFwnw6JnZSBsw6lnYWwgcG91ciBjb25zb21tZXIgZGUgbFxcJ2FsY29vbCdcbiAgKSxcbiAgcHJpdmFjeUFjY2VwdGVkOiB6LmJvb2xlYW4oKS5yZWZpbmUoXG4gICAgdmFsID0+IHZhbCA9PT0gdHJ1ZSxcbiAgICAnVm91cyBkZXZleiBhY2NlcHRlciBsYSBwb2xpdGlxdWUgZGUgY29uZmlkZW50aWFsaXTDqSdcbiAgKSxcbiAgbWFya2V0aW5nQ29uc2VudDogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgLy8gQW50aS1zcGFtIGZpZWxkIChob25leXBvdClcbiAgd2Vic2l0ZTogei5zdHJpbmcoKS5tYXgoMCwgJ0NlIGNoYW1wIGRvaXQgcmVzdGVyIHZpZGUnKS5vcHRpb25hbCgpLFxufSkucmVmaW5lKFxuICAoZGF0YSkgPT4ge1xuICAgIC8vIFJlcXVpcmUgZ3JvdXAgc2l6ZSBmb3IgZ3JvdXAgdmlzaXRzIGFuZCB0YXN0aW5nc1xuICAgIGlmIChbJ3dpbmVfdGFzdGluZycsICdncm91cF92aXNpdCddLmluY2x1ZGVzKGRhdGEuaW5xdWlyeVR5cGUpKSB7XG4gICAgICByZXR1cm4gZGF0YS5ncm91cFNpemUgJiYgZGF0YS5ncm91cFNpemUgPj0gMVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZVxuICB9LFxuICB7XG4gICAgbWVzc2FnZTogJ0xlIG5vbWJyZSBkZSBwZXJzb25uZXMgZXN0IHJlcXVpcyBwb3VyIGxlcyBkw6lndXN0YXRpb25zIGV0IHZpc2l0ZXMgZGUgZ3JvdXBlJyxcbiAgICBwYXRoOiBbJ2dyb3VwU2l6ZSddXG4gIH1cbikucmVmaW5lKFxuICAoZGF0YSkgPT4ge1xuICAgIC8vIFZhbGlkYXRlIGJ1c2luZXNzIHBhcnRuZXJzaGlwIHJlcXVpcmVzIGNvbXBhbnkgbmFtZVxuICAgIGlmIChkYXRhLmlucXVpcnlUeXBlID09PSAnYnVzaW5lc3NfcGFydG5lcnNoaXAnKSB7XG4gICAgICByZXR1cm4gZGF0YS5jb21wYW55ICYmIGRhdGEuY29tcGFueS50cmltKCkubGVuZ3RoID49IDJcbiAgICB9XG4gICAgcmV0dXJuIHRydWVcbiAgfSxcbiAge1xuICAgIG1lc3NhZ2U6ICdMZSBub20gZGUgbGEgc29jacOpdMOpIGVzdCByZXF1aXMgcG91ciBsZXMgcGFydGVuYXJpYXRzIGNvbW1lcmNpYXV4JyxcbiAgICBwYXRoOiBbJ2NvbXBhbnknXVxuICB9XG4pXG5cbi8vIE5ld3NsZXR0ZXIgc3Vic2NyaXB0aW9uIHNjaGVtYVxuZXhwb3J0IGNvbnN0IG5ld3NsZXR0ZXJTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGVtYWlsOiBlbWFpbFNjaGVtYSxcbiAgZmlyc3ROYW1lOiB6LnN0cmluZygpLm1pbigyLCAnRmlyc3QgbmFtZSBpcyByZXF1aXJlZCcpLm9wdGlvbmFsKCksXG4gIHByZWZlcmVuY2VzOiB6Lm9iamVjdCh7XG4gICAgbmV3UHJvZHVjdHM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgc3BlY2lhbE9mZmVyczogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICB3aW5lRXZlbnRzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHdpbmVFZHVjYXRpb246IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbiAgfSkub3B0aW9uYWwoKSxcbiAgYWNjZXB0VGVybXM6IHouYm9vbGVhbigpLnJlZmluZSh2YWwgPT4gdmFsID09PSB0cnVlLCAnWW91IG11c3QgYWNjZXB0IHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucycpXG59KVxuXG4vLyBBZG1pbiBzY2hlbWFzXG5leHBvcnQgY29uc3QgYWRtaW5Mb2dpblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgZW1haWw6IGVtYWlsU2NoZW1hLFxuICBwYXNzd29yZDogei5zdHJpbmcoKS5taW4oMSwgJ1Bhc3N3b3JkIGlzIHJlcXVpcmVkJyksXG4gIHR3b0ZhY3RvckNvZGU6IHouc3RyaW5nKCkucmVnZXgoL15cXGR7Nn0kLywgJzJGQSBjb2RlIG11c3QgYmUgNiBkaWdpdHMnKS5vcHRpb25hbCgpXG59KVxuXG5leHBvcnQgY29uc3QgYWRtaW5Vc2VyU2NoZW1hID0gei5vYmplY3Qoe1xuICBlbWFpbDogZW1haWxTY2hlbWEsXG4gIGZpcnN0TmFtZTogei5zdHJpbmcoKS5taW4oMiwgJ0ZpcnN0IG5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgbGFzdE5hbWU6IHouc3RyaW5nKCkubWluKDIsICdMYXN0IG5hbWUgaXMgcmVxdWlyZWQnKSxcbiAgcm9sZTogei5lbnVtKFsnYWRtaW4nLCAnbWFuYWdlcicsICdzdGFmZiddKSxcbiAgcGVybWlzc2lvbnM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgaXNBY3RpdmU6IHouYm9vbGVhbigpLFxuICBwYXNzd29yZDogcGFzc3dvcmRTY2hlbWEub3B0aW9uYWwoKVxufSlcblxuLy8gSW52ZW50b3J5IG1hbmFnZW1lbnQgc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGludmVudG9yeUFkanVzdG1lbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHByb2R1Y3RJZDogei5zdHJpbmcoKS51dWlkKCdJbnZhbGlkIHByb2R1Y3QgSUQnKSxcbiAgYWRqdXN0bWVudDogei5udW1iZXIoKVxuICAgIC5taW4oLTEwMDAsICdBZGp1c3RtZW50IHRvbyBsYXJnZScpXG4gICAgLm1heCgxMDAwLCAnQWRqdXN0bWVudCB0b28gbGFyZ2UnKVxuICAgIC5pbnQoJ0FkanVzdG1lbnQgbXVzdCBiZSBhIHdob2xlIG51bWJlcicpLFxuICByZWFzb246IHouZW51bShbJ3JlY2VpdmVkJywgJ3NvbGQnLCAnZGFtYWdlZCcsICdleHBpcmVkJywgJ3JldHVybmVkJywgJ2NvcnJlY3Rpb24nLCAnb3RoZXInXSksXG4gIG5vdGVzOiB6LnN0cmluZygpLm1heCg1MDAsICdOb3RlcyBjYW5ub3QgZXhjZWVkIDUwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKSxcbiAgcmVmZXJlbmNlOiB6LnN0cmluZygpLm1heCgxMDAsICdSZWZlcmVuY2UgY2Fubm90IGV4Y2VlZCAxMDAgY2hhcmFjdGVycycpLm9wdGlvbmFsKClcbn0pXG5cbi8vIFNoaXBwaW5nIHJhdGUgY2FsY3VsYXRpb24gc2NoZW1hXG5leHBvcnQgY29uc3Qgc2hpcHBpbmdSYXRlU2NoZW1hID0gei5vYmplY3Qoe1xuICBkZXN0aW5hdGlvbjogei5vYmplY3Qoe1xuICAgIGNvdW50cnk6IHouc3RyaW5nKCkubGVuZ3RoKDIsICdDb3VudHJ5IG11c3QgYmUgYSAyLWxldHRlciBjb2RlJyksXG4gICAgcG9zdGFsQ29kZTogcG9zdGFsQ29kZVNjaGVtYSxcbiAgICBjaXR5OiB6LnN0cmluZygpLm1pbigyLCAnQ2l0eSBpcyByZXF1aXJlZCcpXG4gIH0pLFxuICBpdGVtczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgcHJvZHVjdElkOiB6LnN0cmluZygpLnV1aWQoJ0ludmFsaWQgcHJvZHVjdCBJRCcpLFxuICAgIHF1YW50aXR5OiB6Lm51bWJlcigpLm1pbigxLCAnUXVhbnRpdHkgbXVzdCBiZSBhdCBsZWFzdCAxJykuaW50KCksXG4gICAgd2VpZ2h0OiB6Lm51bWJlcigpLm1pbigxLCAnV2VpZ2h0IG11c3QgYmUgcG9zaXRpdmUnKS5vcHRpb25hbCgpXG4gIH0pKS5taW4oMSwgJ0F0IGxlYXN0IG9uZSBpdGVtIGlzIHJlcXVpcmVkJyksXG4gIHRvdGFsVmFsdWU6IHoubnVtYmVyKCkubWluKDEsICdUb3RhbCB2YWx1ZSBtdXN0IGJlIHBvc2l0aXZlJylcbn0pXG5cbi8vIFZBVCBjYWxjdWxhdGlvbiBzY2hlbWFcbmV4cG9ydCBjb25zdCB2YXRDYWxjdWxhdGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgYW1vdW50OiB6Lm51bWJlcigpLm1pbigxLCAnQW1vdW50IG11c3QgYmUgcG9zaXRpdmUnKSxcbiAgc2hpcHBpbmdBbW91bnQ6IHoubnVtYmVyKCkubWluKDAsICdTaGlwcGluZyBhbW91bnQgY2Fubm90IGJlIG5lZ2F0aXZlJykub3B0aW9uYWwoKSxcbiAgY291bnRyeTogei5zdHJpbmcoKS5sZW5ndGgoMiwgJ0NvdW50cnkgbXVzdCBiZSBhIDItbGV0dGVyIGNvZGUnKSxcbiAgY3VzdG9tZXJUeXBlOiB6LmVudW0oWydjb25zdW1lcicsICdidXNpbmVzcyddKS5vcHRpb25hbCgpLFxuICB2YXROdW1iZXI6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcblxuLy8gU2VhcmNoIGFuZCBmaWx0ZXIgc2NoZW1hc1xuZXhwb3J0IGNvbnN0IHByb2R1Y3RTZWFyY2hTY2hlbWEgPSB6Lm9iamVjdCh7XG4gIHF1ZXJ5OiB6LnN0cmluZygpLm1heCgxMDAsICdTZWFyY2ggcXVlcnkgdG9vIGxvbmcnKS5vcHRpb25hbCgpLFxuICBjYXRlZ29yeTogei5lbnVtKFsncmVkX3dpbmUnLCAnd2hpdGVfd2luZScsICdyb3NlX3dpbmUnLCAnc3BhcmtsaW5nX3dpbmUnLCAnZGVzc2VydF93aW5lJywgJ2ZvcnRpZmllZF93aW5lJ10pLm9wdGlvbmFsKCksXG4gIG1pblByaWNlOiB6Lm51bWJlcigpLm1pbigwLCAnTWluaW11bSBwcmljZSBjYW5ub3QgYmUgbmVnYXRpdmUnKS5vcHRpb25hbCgpLFxuICBtYXhQcmljZTogei5udW1iZXIoKS5taW4oMCwgJ01heGltdW0gcHJpY2UgY2Fubm90IGJlIG5lZ2F0aXZlJykub3B0aW9uYWwoKSxcbiAgdmludGFnZTogei5udW1iZXIoKS5taW4oMTgwMCwgJ1ZpbnRhZ2UgdG9vIG9sZCcpLm1heChuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKCksICdWaW50YWdlIGNhbm5vdCBiZSBpbiB0aGUgZnV0dXJlJykub3B0aW9uYWwoKSxcbiAgcmVnaW9uOiB6LnN0cmluZygpLm1heCgxMDAsICdSZWdpb24gbmFtZSB0b28gbG9uZycpLm9wdGlvbmFsKCksXG4gIGluU3RvY2s6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIGlzT3JnYW5pYzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgc29ydEJ5OiB6LmVudW0oWyduYW1lJywgJ3ByaWNlJywgJ3ZpbnRhZ2UnLCAnY3JlYXRlZF9hdCcsICdwb3B1bGFyaXR5J10pLm9wdGlvbmFsKCksXG4gIHNvcnRPcmRlcjogei5lbnVtKFsnYXNjJywgJ2Rlc2MnXSkub3B0aW9uYWwoKSxcbiAgbGltaXQ6IHoubnVtYmVyKCkubWluKDEsICdMaW1pdCBtdXN0IGJlIGF0IGxlYXN0IDEnKS5tYXgoMTAwLCAnTGltaXQgY2Fubm90IGV4Y2VlZCAxMDAnKS5vcHRpb25hbCgpLFxuICBvZmZzZXQ6IHoubnVtYmVyKCkubWluKDAsICdPZmZzZXQgY2Fubm90IGJlIG5lZ2F0aXZlJykub3B0aW9uYWwoKVxufSlcblxuLy8gRmlsZSB1cGxvYWQgc2NoZW1hc1xuZXhwb3J0IGNvbnN0IGltYWdlVXBsb2FkU2NoZW1hID0gei5vYmplY3Qoe1xuICBmaWxlOiB6LmFueSgpLnJlZmluZShcbiAgICAoZmlsZSkgPT4gZmlsZSBpbnN0YW5jZW9mIEZpbGUsXG4gICAgJ1BsZWFzZSBzZWxlY3QgYSB2YWxpZCBmaWxlJ1xuICApLnJlZmluZShcbiAgICAoZmlsZSkgPT4gZmlsZS5zaXplIDw9IDUgKiAxMDI0ICogMTAyNCwgLy8gNU1CXG4gICAgJ0ZpbGUgc2l6ZSBtdXN0IGJlIGxlc3MgdGhhbiA1TUInXG4gICkucmVmaW5lKFxuICAgIChmaWxlKSA9PiBbJ2ltYWdlL2pwZWcnLCAnaW1hZ2UvcG5nJywgJ2ltYWdlL3dlYnAnXS5pbmNsdWRlcyhmaWxlLnR5cGUpLFxuICAgICdGaWxlIG11c3QgYmUgSlBFRywgUE5HLCBvciBXZWJQIGZvcm1hdCdcbiAgKSxcbiAgYWx0OiB6LnN0cmluZygpLm1heCgyMDAsICdBbHQgdGV4dCBjYW5ub3QgZXhjZWVkIDIwMCBjaGFyYWN0ZXJzJykub3B0aW9uYWwoKVxufSlcblxuLy8gVHlwZSBleHBvcnRzIGZvciBUeXBlU2NyaXB0XG5leHBvcnQgdHlwZSBBZ2VWZXJpZmljYXRpb25EYXRhID0gei5pbmZlcjx0eXBlb2YgYWdlVmVyaWZpY2F0aW9uU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ3VzdG9tZXJSZWdpc3RyYXRpb25EYXRhID0gei5pbmZlcjx0eXBlb2YgY3VzdG9tZXJSZWdpc3RyYXRpb25TY2hlbWE+XG5leHBvcnQgdHlwZSBMb2dpbkRhdGEgPSB6LmluZmVyPHR5cGVvZiBsb2dpblNjaGVtYT5cbmV4cG9ydCB0eXBlIFJlZ2lzdGVyRGF0YSA9IHouaW5mZXI8dHlwZW9mIHJlZ2lzdGVyU2NoZW1hPlxuZXhwb3J0IHR5cGUgRm9yZ290UGFzc3dvcmREYXRhID0gei5pbmZlcjx0eXBlb2YgZm9yZ290UGFzc3dvcmRTY2hlbWE+XG5leHBvcnQgdHlwZSBSZXNldFBhc3N3b3JkRGF0YSA9IHouaW5mZXI8dHlwZW9mIHJlc2V0UGFzc3dvcmRTY2hlbWE+XG5leHBvcnQgdHlwZSBDaGFuZ2VQYXNzd29yZERhdGEgPSB6LmluZmVyPHR5cGVvZiBjaGFuZ2VQYXNzd29yZFNjaGVtYT5cbmV4cG9ydCB0eXBlIEN1c3RvbWVyTG9naW5EYXRhID0gei5pbmZlcjx0eXBlb2YgY3VzdG9tZXJMb2dpblNjaGVtYT5cbmV4cG9ydCB0eXBlIEFkZHJlc3NEYXRhID0gei5pbmZlcjx0eXBlb2YgYWRkcmVzc1NjaGVtYT5cbmV4cG9ydCB0eXBlIENoZWNrb3V0RGF0YSA9IHouaW5mZXI8dHlwZW9mIGNvbXBsZXRlQ2hlY2tvdXRTY2hlbWE+XG5leHBvcnQgdHlwZSBBZGRUb0NhcnREYXRhID0gei5pbmZlcjx0eXBlb2YgYWRkVG9DYXJ0U2NoZW1hPlxuZXhwb3J0IHR5cGUgVXBkYXRlQ2FydEl0ZW1EYXRhID0gei5pbmZlcjx0eXBlb2YgdXBkYXRlQ2FydEl0ZW1TY2hlbWE+XG5leHBvcnQgdHlwZSBQcm9kdWN0RGF0YSA9IHouaW5mZXI8dHlwZW9mIHByb2R1Y3RTY2hlbWE+XG5leHBvcnQgdHlwZSBXaW5lUHJvZHVjdERhdGEgPSB6LmluZmVyPHR5cGVvZiB3aW5lUHJvZHVjdFNjaGVtYT5cbmV4cG9ydCB0eXBlIFVwZGF0ZVdpbmVQcm9kdWN0RGF0YSA9IHouaW5mZXI8dHlwZW9mIHVwZGF0ZVdpbmVQcm9kdWN0U2NoZW1hPlxuZXhwb3J0IHR5cGUgUHJvZHVjdEltYWdlRGF0YSA9IHouaW5mZXI8dHlwZW9mIHByb2R1Y3RJbWFnZVNjaGVtYT5cbmV4cG9ydCB0eXBlIE9yZGVyRGF0YSA9IHouaW5mZXI8dHlwZW9mIG9yZGVyU2NoZW1hPlxuZXhwb3J0IHR5cGUgQ29udGFjdEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2YgY29udGFjdEZvcm1TY2hlbWE+XG5leHBvcnQgdHlwZSBXaW5lQ29udGFjdEZvcm1EYXRhID0gei5pbmZlcjx0eXBlb2Ygd2luZUNvbnRhY3RGb3JtU2NoZW1hPlxuZXhwb3J0IHR5cGUgTmV3c2xldHRlckRhdGEgPSB6LmluZmVyPHR5cGVvZiBuZXdzbGV0dGVyU2NoZW1hPlxuZXhwb3J0IHR5cGUgQWRtaW5Mb2dpbkRhdGEgPSB6LmluZmVyPHR5cGVvZiBhZG1pbkxvZ2luU2NoZW1hPlxuZXhwb3J0IHR5cGUgSW52ZW50b3J5QWRqdXN0bWVudERhdGEgPSB6LmluZmVyPHR5cGVvZiBpbnZlbnRvcnlBZGp1c3RtZW50U2NoZW1hPlxuZXhwb3J0IHR5cGUgU2hpcHBpbmdSYXRlRGF0YSA9IHouaW5mZXI8dHlwZW9mIHNoaXBwaW5nUmF0ZVNjaGVtYT5cbmV4cG9ydCB0eXBlIFZhdENhbGN1bGF0aW9uRGF0YSA9IHouaW5mZXI8dHlwZW9mIHZhdENhbGN1bGF0aW9uU2NoZW1hPlxuZXhwb3J0IHR5cGUgUHJvZHVjdFNlYXJjaERhdGEgPSB6LmluZmVyPHR5cGVvZiBwcm9kdWN0U2VhcmNoU2NoZW1hPlxuZXhwb3J0IHR5cGUgSW1hZ2VVcGxvYWREYXRhID0gei5pbmZlcjx0eXBlb2YgaW1hZ2VVcGxvYWRTY2hlbWE+XG5cbi8vIFZhbGlkYXRpb24gaGVscGVyIGZ1bmN0aW9uc1xuZXhwb3J0IGNvbnN0IHZhbGlkYXRlU2NoZW1hID0gPFQ+KHNjaGVtYTogei5ab2RTY2hlbWE8VD4sIGRhdGE6IHVua25vd24pOiB7XG4gIHN1Y2Nlc3M6IGJvb2xlYW5cbiAgZGF0YT86IFRcbiAgZXJyb3JzPzogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+XG59ID0+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXN1bHQgPSBzY2hlbWEucGFyc2UoZGF0YSlcbiAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIHouWm9kRXJyb3IpIHtcbiAgICAgIGNvbnN0IGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+ID0ge31cblxuICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IGlzc3VlLnBhdGguam9pbignLicpXG4gICAgICAgIGlmICghZXJyb3JzW3BhdGhdKSB7XG4gICAgICAgICAgZXJyb3JzW3BhdGhdID0gW11cbiAgICAgICAgfVxuICAgICAgICBlcnJvcnNbcGF0aF0ucHVzaChpc3N1ZS5tZXNzYWdlKVxuICAgICAgfVxuXG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JzIH1cbiAgICB9XG5cbiAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3JzOiB7IGdlbmVyYWw6IFsnVmFsaWRhdGlvbiBmYWlsZWQnXSB9IH1cbiAgfVxufVxuXG5leHBvcnQgY29uc3QgZ2V0RXJyb3JNZXNzYWdlID0gKGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+LCBmaWVsZDogc3RyaW5nKTogc3RyaW5nID0+IHtcbiAgcmV0dXJuIGVycm9yc1tmaWVsZF0/LlswXSB8fCAnJ1xufVxuXG5leHBvcnQgY29uc3QgaGFzRXJyb3JzID0gKGVycm9yczogUmVjb3JkPHN0cmluZywgc3RyaW5nW10+KTogYm9vbGVhbiA9PiB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhlcnJvcnMpLmxlbmd0aCA+IDBcbn0iXSwibmFtZXMiOlsieiIsImVtYWlsU2NoZW1hIiwic3RyaW5nIiwiZW1haWwiLCJwaG9uZVNjaGVtYSIsInJlZ2V4Iiwib3B0aW9uYWwiLCJwb3N0YWxDb2RlU2NoZW1hIiwibWluIiwibWF4IiwicGFzc3dvcmRTY2hlbWEiLCJhZ2VWZXJpZmljYXRpb25TY2hlbWEiLCJvYmplY3QiLCJiaXJ0aERheSIsIm51bWJlciIsImJpcnRoTW9udGgiLCJiaXJ0aFllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJkb2N1bWVudFR5cGUiLCJlbnVtIiwiZG9jdW1lbnROdW1iZXIiLCJjb3VudHJ5IiwibGVuZ3RoIiwicmVmaW5lIiwiZGF0YSIsImJpcnRoRGF0ZSIsImlzTmFOIiwiZ2V0VGltZSIsIm1lc3NhZ2UiLCJwYXRoIiwiY3VzdG9tZXJSZWdpc3RyYXRpb25TY2hlbWEiLCJwYXNzd29yZCIsImNvbmZpcm1QYXNzd29yZCIsImZpcnN0TmFtZSIsImxhc3ROYW1lIiwicGhvbmUiLCJkYXRlIiwiYWdlIiwiYWNjZXB0VGVybXMiLCJib29sZWFuIiwidmFsIiwiYWNjZXB0UHJpdmFjeSIsImFjY2VwdE1hcmtldGluZyIsImxvZ2luU2NoZW1hIiwicmVtZW1iZXJNZSIsInJlZ2lzdGVyU2NoZW1hIiwicHJlZmVycmVkTGFuZ3VhZ2UiLCJtYXJrZXRpbmdDb25zZW50IiwibmV3c2xldHRlckNvbnNlbnQiLCJpc0J1c2luZXNzIiwiY29tcGFueU5hbWUiLCJ2YXROdW1iZXIiLCJ0ZXJtc0FjY2VwdGVkIiwicHJpdmFjeUFjY2VwdGVkIiwiZm9yZ290UGFzc3dvcmRTY2hlbWEiLCJyZXNldFBhc3N3b3JkU2NoZW1hIiwidG9rZW4iLCJjaGFuZ2VQYXNzd29yZFNjaGVtYSIsImN1cnJlbnRQYXNzd29yZCIsIm5ld1Bhc3N3b3JkIiwiY3VzdG9tZXJMb2dpblNjaGVtYSIsImFkZHJlc3NTY2hlbWEiLCJjb21wYW55IiwiYWRkcmVzcyIsImFkZHJlc3MyIiwiY2l0eSIsInBvc3RhbENvZGUiLCJjaGVja291dEN1c3RvbWVyU2NoZW1hIiwiY3JlYXRlQWNjb3VudCIsImNoZWNrb3V0U2hpcHBpbmdTY2hlbWEiLCJjaGVja291dEJpbGxpbmdTY2hlbWEiLCJleHRlbmQiLCJzYW1lQXNTaGlwcGluZyIsImNoZWNrb3V0UGF5bWVudFNjaGVtYSIsInBheW1lbnRNZXRob2QiLCJzYXZlUGF5bWVudE1ldGhvZCIsImNvbXBsZXRlQ2hlY2tvdXRTY2hlbWEiLCJjdXN0b21lciIsInNoaXBwaW5nIiwiYmlsbGluZyIsInBheW1lbnQiLCJhZ2VWZXJpZmljYXRpb24iLCJzcGVjaWFsSW5zdHJ1Y3Rpb25zIiwiYWRkVG9DYXJ0U2NoZW1hIiwicHJvZHVjdElkIiwidXVpZCIsInF1YW50aXR5IiwiaW50IiwidmFyaWFudElkIiwidXBkYXRlQ2FydEl0ZW1TY2hlbWEiLCJ3aW5lUHJvZHVjdFNjaGVtYSIsInNrdSIsIm5hbWUiLCJ2aW50YWdlIiwidmFyaWV0YWwiLCJyZWdpb24iLCJhbGNvaG9sX2NvbnRlbnQiLCJ2b2x1bWVfbWwiLCJkZWZhdWx0IiwicHJpY2VfZXVyIiwiY29zdF9ldXIiLCJzdG9ja19xdWFudGl0eSIsInJlc2VydmVkX3F1YW50aXR5IiwicmVvcmRlcl9sZXZlbCIsIndlaWdodF9ncmFtcyIsImRlc2NyaXB0aW9uX2VuIiwiZGVzY3JpcHRpb25fZnIiLCJ0YXN0aW5nX25vdGVzX2VuIiwidGFzdGluZ19ub3Rlc19mciIsImZvb2RfcGFpcmluZ19lbiIsImZvb2RfcGFpcmluZ19mciIsInByb2R1Y3Rpb25fbm90ZXNfZW4iLCJwcm9kdWN0aW9uX25vdGVzX2ZyIiwiYWxsZXJnZW5zIiwiYXJyYXkiLCJvcmdhbmljX2NlcnRpZmllZCIsImJpb2R5bmFtaWNfY2VydGlmaWVkIiwidmVnYW5fZnJpZW5kbHkiLCJnb29nbGVfcHJvZHVjdF9jYXRlZ29yeSIsIm1ldGFfcHJvZHVjdF9jYXRlZ29yeSIsImlzX2FjdGl2ZSIsImZlYXR1cmVkIiwic29ydF9vcmRlciIsInNlb190aXRsZV9lbiIsInNlb190aXRsZV9mciIsInNlb19kZXNjcmlwdGlvbl9lbiIsInNlb19kZXNjcmlwdGlvbl9mciIsInNsdWdfZW4iLCJzbHVnX2ZyIiwicHJvZHVjdEltYWdlU2NoZW1hIiwidXJsIiwiYWx0X3RleHRfZW4iLCJhbHRfdGV4dF9mciIsImRpc3BsYXlfb3JkZXIiLCJpbWFnZV90eXBlIiwid2lkdGgiLCJoZWlnaHQiLCJmaWxlX3NpemUiLCJpc19wcmltYXJ5IiwidXBkYXRlV2luZVByb2R1Y3RTY2hlbWEiLCJwYXJ0aWFsIiwiaWQiLCJwcm9kdWN0U2NoZW1hIiwiZGVzY3JpcHRpb24iLCJwcmljZSIsInN0b2NrUXVhbnRpdHkiLCJjYXRlZ29yeSIsImFsY29ob2xDb250ZW50IiwiZ3JhcGVWYXJpZXR5IiwicHJvZHVjZXIiLCJ2b2x1bWUiLCJzZXJ2aW5nVGVtcGVyYXR1cmUiLCJhZ2luZ1BvdGVudGlhbCIsInBhaXJpbmdOb3RlcyIsInN0YXR1cyIsImlzRmVhdHVyZWQiLCJpc09yZ2FuaWMiLCJpc0Jpb2R5bmFtaWMiLCJpbWFnZVVybCIsImdhbGxlcnlJbWFnZXMiLCJvcmRlclNjaGVtYSIsImN1c3RvbWVySWQiLCJjdXN0b21lckVtYWlsIiwiY3VzdG9tZXJGaXJzdE5hbWUiLCJjdXN0b21lckxhc3ROYW1lIiwic2hpcHBpbmdBZGRyZXNzIiwiYmlsbGluZ0FkZHJlc3MiLCJpdGVtcyIsInVuaXRQcmljZSIsInN1YnRvdGFsIiwidmF0QW1vdW50Iiwic2hpcHBpbmdDb3N0IiwidG90YWxBbW91bnQiLCJnaWZ0TWVzc2FnZSIsImNvbnRhY3RGb3JtU2NoZW1hIiwic3ViamVjdCIsImZyZW5jaFBob25lU2NoZW1hIiwid2luZUNvbnRhY3RGb3JtU2NoZW1hIiwiaW5xdWlyeVR5cGUiLCJlcnJvck1hcCIsImdyb3VwU2l6ZSIsInByZWZlcnJlZERhdGUiLCJzZWxlY3RlZERhdGUiLCJ0b2RheSIsInNldEhvdXJzIiwibXNnIiwidGVzdCIsIndpbmVQcmVmZXJlbmNlcyIsImJ1ZGdldFJhbmdlIiwic3BlY2lhbFJlcXVpcmVtZW50cyIsImFnZVZlcmlmaWVkIiwid2Vic2l0ZSIsImluY2x1ZGVzIiwidHJpbSIsIm5ld3NsZXR0ZXJTY2hlbWEiLCJwcmVmZXJlbmNlcyIsIm5ld1Byb2R1Y3RzIiwic3BlY2lhbE9mZmVycyIsIndpbmVFdmVudHMiLCJ3aW5lRWR1Y2F0aW9uIiwiYWRtaW5Mb2dpblNjaGVtYSIsInR3b0ZhY3RvckNvZGUiLCJhZG1pblVzZXJTY2hlbWEiLCJyb2xlIiwicGVybWlzc2lvbnMiLCJpc0FjdGl2ZSIsImludmVudG9yeUFkanVzdG1lbnRTY2hlbWEiLCJhZGp1c3RtZW50IiwicmVhc29uIiwibm90ZXMiLCJyZWZlcmVuY2UiLCJzaGlwcGluZ1JhdGVTY2hlbWEiLCJkZXN0aW5hdGlvbiIsIndlaWdodCIsInRvdGFsVmFsdWUiLCJ2YXRDYWxjdWxhdGlvblNjaGVtYSIsImFtb3VudCIsInNoaXBwaW5nQW1vdW50IiwiY3VzdG9tZXJUeXBlIiwicHJvZHVjdFNlYXJjaFNjaGVtYSIsInF1ZXJ5IiwibWluUHJpY2UiLCJtYXhQcmljZSIsImluU3RvY2siLCJzb3J0QnkiLCJzb3J0T3JkZXIiLCJsaW1pdCIsIm9mZnNldCIsImltYWdlVXBsb2FkU2NoZW1hIiwiZmlsZSIsImFueSIsIkZpbGUiLCJzaXplIiwidHlwZSIsImFsdCIsInZhbGlkYXRlU2NoZW1hIiwic2NoZW1hIiwicmVzdWx0IiwicGFyc2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJab2RFcnJvciIsImVycm9ycyIsImlzc3VlIiwiaXNzdWVzIiwiam9pbiIsInB1c2giLCJnZW5lcmFsIiwiZ2V0RXJyb3JNZXNzYWdlIiwiZmllbGQiLCJoYXNFcnJvcnMiLCJPYmplY3QiLCJrZXlzIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/validators/schemas.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/vat/calculator.ts":
/*!***********************************!*\
  !*** ./src/lib/vat/calculator.ts ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   VatCalculator: () => (/* binding */ VatCalculator),\n/* harmony export */   calculateVat: () => (/* binding */ calculateVat),\n/* harmony export */   formatVatAmount: () => (/* binding */ formatVatAmount),\n/* harmony export */   formatVatRate: () => (/* binding */ formatVatRate),\n/* harmony export */   isEuCountry: () => (/* binding */ isEuCountry),\n/* harmony export */   validateVatCalculationInput: () => (/* binding */ validateVatCalculationInput),\n/* harmony export */   vatCalculator: () => (/* binding */ vatCalculator)\n/* harmony export */ });\n// VAT calculation service for EU wine sales compliance\n// EU VAT rates for wine (as of 2024)\nconst EU_VAT_RATES = {\n    'AT': {\n        country_code: 'AT',\n        country_name: 'Austria',\n        rate: 0.20,\n        is_eu_member: true,\n        is_active: true\n    },\n    'BE': {\n        country_code: 'BE',\n        country_name: 'Belgium',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'BG': {\n        country_code: 'BG',\n        country_name: 'Bulgaria',\n        rate: 0.20,\n        is_eu_member: true,\n        is_active: true\n    },\n    'HR': {\n        country_code: 'HR',\n        country_name: 'Croatia',\n        rate: 0.25,\n        is_eu_member: true,\n        is_active: true\n    },\n    'CY': {\n        country_code: 'CY',\n        country_name: 'Cyprus',\n        rate: 0.19,\n        is_eu_member: true,\n        is_active: true\n    },\n    'CZ': {\n        country_code: 'CZ',\n        country_name: 'Czech Republic',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'DK': {\n        country_code: 'DK',\n        country_name: 'Denmark',\n        rate: 0.25,\n        is_eu_member: true,\n        is_active: true\n    },\n    'EE': {\n        country_code: 'EE',\n        country_name: 'Estonia',\n        rate: 0.20,\n        is_eu_member: true,\n        is_active: true\n    },\n    'FI': {\n        country_code: 'FI',\n        country_name: 'Finland',\n        rate: 0.24,\n        is_eu_member: true,\n        is_active: true\n    },\n    'FR': {\n        country_code: 'FR',\n        country_name: 'France',\n        rate: 0.20,\n        is_eu_member: true,\n        is_active: true\n    },\n    'DE': {\n        country_code: 'DE',\n        country_name: 'Germany',\n        rate: 0.19,\n        is_eu_member: true,\n        is_active: true\n    },\n    'GR': {\n        country_code: 'GR',\n        country_name: 'Greece',\n        rate: 0.24,\n        is_eu_member: true,\n        is_active: true\n    },\n    'HU': {\n        country_code: 'HU',\n        country_name: 'Hungary',\n        rate: 0.27,\n        is_eu_member: true,\n        is_active: true\n    },\n    'IE': {\n        country_code: 'IE',\n        country_name: 'Ireland',\n        rate: 0.23,\n        is_eu_member: true,\n        is_active: true\n    },\n    'IT': {\n        country_code: 'IT',\n        country_name: 'Italy',\n        rate: 0.22,\n        is_eu_member: true,\n        is_active: true\n    },\n    'LV': {\n        country_code: 'LV',\n        country_name: 'Latvia',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'LT': {\n        country_code: 'LT',\n        country_name: 'Lithuania',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'LU': {\n        country_code: 'LU',\n        country_name: 'Luxembourg',\n        rate: 0.17,\n        is_eu_member: true,\n        is_active: true\n    },\n    'MT': {\n        country_code: 'MT',\n        country_name: 'Malta',\n        rate: 0.18,\n        is_eu_member: true,\n        is_active: true\n    },\n    'NL': {\n        country_code: 'NL',\n        country_name: 'Netherlands',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'PL': {\n        country_code: 'PL',\n        country_name: 'Poland',\n        rate: 0.23,\n        is_eu_member: true,\n        is_active: true\n    },\n    'PT': {\n        country_code: 'PT',\n        country_name: 'Portugal',\n        rate: 0.23,\n        is_eu_member: true,\n        is_active: true\n    },\n    'RO': {\n        country_code: 'RO',\n        country_name: 'Romania',\n        rate: 0.19,\n        is_eu_member: true,\n        is_active: true\n    },\n    'SK': {\n        country_code: 'SK',\n        country_name: 'Slovakia',\n        rate: 0.20,\n        is_eu_member: true,\n        is_active: true\n    },\n    'SI': {\n        country_code: 'SI',\n        country_name: 'Slovenia',\n        rate: 0.22,\n        is_eu_member: true,\n        is_active: true\n    },\n    'ES': {\n        country_code: 'ES',\n        country_name: 'Spain',\n        rate: 0.21,\n        is_eu_member: true,\n        is_active: true\n    },\n    'SE': {\n        country_code: 'SE',\n        country_name: 'Sweden',\n        rate: 0.25,\n        is_eu_member: true,\n        is_active: true\n    }\n};\n// Seller location (assumed to be France for Domaine Vallot)\nconst SELLER_COUNTRY = 'FR';\nclass VatCalculator {\n    constructor(customRates){\n        this.vatRates = customRates || EU_VAT_RATES;\n    }\n    /**\n   * Calculate VAT for a transaction based on EU rules\n   */ calculateVat(input) {\n        const { amount, shipping_amount = 0, country_code, product_type = 'wine', customer_type = 'consumer', business_vat_number } = input;\n        const countryCode = country_code.toUpperCase();\n        const vatRate = this.getVatRate(countryCode);\n        // Determine if reverse charge applies (B2B within EU, excluding seller country)\n        const isReverseCharge = this.shouldApplyReverseCharge(countryCode, customer_type, business_vat_number);\n        // Calculate VAT amounts\n        const effectiveVatRate = isReverseCharge ? 0 : vatRate?.rate || 0;\n        const productVat = Math.round(amount * effectiveVatRate);\n        const shippingVat = Math.round(shipping_amount * effectiveVatRate);\n        const totalVat = productVat + shippingVat;\n        const totalAmount = amount + shipping_amount + totalVat;\n        return {\n            base_amount: amount,\n            shipping_amount,\n            vat_rate: effectiveVatRate,\n            vat_amount: totalVat,\n            total_amount: totalAmount,\n            country: vatRate?.country_name || 'Unknown',\n            country_code: countryCode,\n            is_reverse_charge: isReverseCharge,\n            breakdown: {\n                product_vat: productVat,\n                shipping_vat: shippingVat\n            },\n            exemption_reason: isReverseCharge ? 'Reverse charge - B2B transaction' : !vatRate?.is_eu_member ? 'Non-EU country' : undefined\n        };\n    }\n    /**\n   * Get VAT rate for a country\n   */ getVatRate(countryCode) {\n        return this.vatRates[countryCode] || null;\n    }\n    /**\n   * Determine if reverse charge should apply\n   * Reverse charge applies for:\n   * - B2B transactions within EU (excluding seller's country)\n   * - Valid VAT number provided\n   */ shouldApplyReverseCharge(countryCode, customerType, businessVatNumber) {\n        // Only applies to business customers\n        if (customerType !== 'business') return false;\n        // Must have valid VAT number\n        if (!businessVatNumber || !this.isValidVatNumber(businessVatNumber)) return false;\n        // Must be EU country\n        const vatRate = this.getVatRate(countryCode);\n        if (!vatRate?.is_eu_member) return false;\n        // Must not be seller's country\n        if (countryCode === SELLER_COUNTRY) return false;\n        return true;\n    }\n    /**\n   * Basic VAT number validation\n   * In production, this should use a proper VAT validation service\n   */ isValidVatNumber(vatNumber) {\n        // Remove spaces and convert to uppercase\n        const cleanVat = vatNumber.replace(/\\s/g, '').toUpperCase();\n        // Basic format check - should start with country code + digits/letters\n        const vatPattern = /^[A-Z]{2}[A-Z0-9]{2,12}$/;\n        return vatPattern.test(cleanVat);\n    }\n    /**\n   * Calculate VAT for multiple items\n   */ calculateVatForItems(items, commonData) {\n        const totalAmount = items.reduce((sum, item)=>sum + item.amount, 0);\n        return this.calculateVat({\n            ...commonData,\n            amount: totalAmount\n        });\n    }\n    /**\n   * Get all available VAT rates\n   */ getAllVatRates() {\n        return Object.values(this.vatRates).filter((rate)=>rate.is_active);\n    }\n    /**\n   * Get EU member countries\n   */ getEuCountries() {\n        return this.getAllVatRates().filter((rate)=>rate.is_eu_member);\n    }\n    /**\n   * Check if country is in EU\n   */ isEuCountry(countryCode) {\n        const rate = this.getVatRate(countryCode.toUpperCase());\n        return rate?.is_eu_member || false;\n    }\n    /**\n   * Format VAT amount for display\n   */ formatVatAmount(amount, currency = 'EUR') {\n        const displayAmount = amount / 100 // Convert from cents\n        ;\n        return new Intl.NumberFormat('fr-FR', {\n            style: 'currency',\n            currency\n        }).format(displayAmount);\n    }\n    /**\n   * Format VAT rate for display\n   */ formatVatRate(rate) {\n        return `${(rate * 100).toFixed(0)}%`;\n    }\n}\n// Export singleton instance\nconst vatCalculator = new VatCalculator();\n// Export helper functions\nconst calculateVat = (input)=>vatCalculator.calculateVat(input);\nconst isEuCountry = (countryCode)=>vatCalculator.isEuCountry(countryCode);\nconst formatVatAmount = (amount, currency = 'EUR')=>vatCalculator.formatVatAmount(amount, currency);\nconst formatVatRate = (rate)=>vatCalculator.formatVatRate(rate);\n// Validation helpers\nconst validateVatCalculationInput = (input)=>{\n    const errors = [];\n    if (input.amount < 0) {\n        errors.push('Amount must be positive');\n    }\n    if (input.shipping_amount && input.shipping_amount < 0) {\n        errors.push('Shipping amount must be positive');\n    }\n    if (!input.country_code || input.country_code.length !== 2) {\n        errors.push('Valid country code is required');\n    }\n    if (input.customer_type && ![\n        'business',\n        'consumer'\n    ].includes(input.customer_type)) {\n        errors.push('Customer type must be business or consumer');\n    }\n    return errors;\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QWUsQ0FBQ2pELFFBQVFrRCxVQUFTO0FBRTFDLE1BQU1NLGdCQUFnQixDQUFDakUsT0FDNUJtRSxjQUFjRixhQUFhLENBQUNqRSxNQUFLO0FBRW5DLHFCQUFxQjtBQUNkLE1BQU1vRSw4QkFBOEIsQ0FBQzVEO0lBQzFDLE1BQU02RCxTQUFtQixFQUFFO0lBRTNCLElBQUk3RCxNQUFNQyxNQUFNLEdBQUcsR0FBRztRQUNwQjRELE9BQU9DLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSTlELE1BQU1FLGVBQWUsSUFBSUYsTUFBTUUsZUFBZSxHQUFHLEdBQUc7UUFDdEQyRCxPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLElBQUksQ0FBQzlELE1BQU1WLFlBQVksSUFBSVUsTUFBTVYsWUFBWSxDQUFDeUUsTUFBTSxLQUFLLEdBQUc7UUFDMURGLE9BQU9DLElBQUksQ0FBQztJQUNkO0lBRUEsSUFBSTlELE1BQU1JLGFBQWEsSUFBSSxDQUFDO1FBQUM7UUFBWTtLQUFXLENBQUM0RCxRQUFRLENBQUNoRSxNQUFNSSxhQUFhLEdBQUc7UUFDbEZ5RCxPQUFPQyxJQUFJLENBQUM7SUFDZDtJQUVBLE9BQU9EO0FBQ1QsRUFBQyIsInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxvbGl2aVxcRG9tYWluZSBWYWxsb3RcXHNyY1xcbGliXFx2YXRcXGNhbGN1bGF0b3IudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gVkFUIGNhbGN1bGF0aW9uIHNlcnZpY2UgZm9yIEVVIHdpbmUgc2FsZXMgY29tcGxpYW5jZVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdFJhdGUge1xuICBjb3VudHJ5X2NvZGU6IHN0cmluZ1xuICBjb3VudHJ5X25hbWU6IHN0cmluZ1xuICByYXRlOiBudW1iZXJcbiAgaXNfZXVfbWVtYmVyOiBib29sZWFuXG4gIHdpbmVfc3BlY2lmaWNfcmF0ZT86IG51bWJlciAvLyBTb21lIGNvdW50cmllcyBoYXZlIGRpZmZlcmVudCByYXRlcyBmb3IgYWxjb2hvbFxuICBpc19hY3RpdmU6IGJvb2xlYW5cbn1cblxuZXhwb3J0IGludGVyZmFjZSBWYXRDYWxjdWxhdGlvbklucHV0IHtcbiAgYW1vdW50OiBudW1iZXIgLy8gQW1vdW50IGluIGNlbnRzIChlLmcuLCAyNTAwID0g4oKsMjUuMDApXG4gIHNoaXBwaW5nX2Ftb3VudD86IG51bWJlciAvLyBTaGlwcGluZyBhbW91bnQgaW4gY2VudHNcbiAgY291bnRyeV9jb2RlOiBzdHJpbmdcbiAgcHJvZHVjdF90eXBlPzogJ3dpbmUnIHwgJ290aGVyJ1xuICBjdXN0b21lcl90eXBlPzogJ2J1c2luZXNzJyB8ICdjb25zdW1lcidcbiAgYnVzaW5lc3NfdmF0X251bWJlcj86IHN0cmluZ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZhdENhbGN1bGF0aW9uUmVzdWx0IHtcbiAgYmFzZV9hbW91bnQ6IG51bWJlclxuICBzaGlwcGluZ19hbW91bnQ6IG51bWJlclxuICB2YXRfcmF0ZTogbnVtYmVyXG4gIHZhdF9hbW91bnQ6IG51bWJlclxuICB0b3RhbF9hbW91bnQ6IG51bWJlclxuICBjb3VudHJ5OiBzdHJpbmdcbiAgY291bnRyeV9jb2RlOiBzdHJpbmdcbiAgaXNfcmV2ZXJzZV9jaGFyZ2U6IGJvb2xlYW5cbiAgYnJlYWtkb3duOiB7XG4gICAgcHJvZHVjdF92YXQ6IG51bWJlclxuICAgIHNoaXBwaW5nX3ZhdDogbnVtYmVyXG4gIH1cbiAgZXhlbXB0aW9uX3JlYXNvbj86IHN0cmluZ1xufVxuXG4vLyBFVSBWQVQgcmF0ZXMgZm9yIHdpbmUgKGFzIG9mIDIwMjQpXG5jb25zdCBFVV9WQVRfUkFURVM6IFJlY29yZDxzdHJpbmcsIFZhdFJhdGU+ID0ge1xuICAnQVQnOiB7IGNvdW50cnlfY29kZTogJ0FUJywgY291bnRyeV9uYW1lOiAnQXVzdHJpYScsIHJhdGU6IDAuMjAsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdCRSc6IHsgY291bnRyeV9jb2RlOiAnQkUnLCBjb3VudHJ5X25hbWU6ICdCZWxnaXVtJywgcmF0ZTogMC4yMSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0JHJzogeyBjb3VudHJ5X2NvZGU6ICdCRycsIGNvdW50cnlfbmFtZTogJ0J1bGdhcmlhJywgcmF0ZTogMC4yMCwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0hSJzogeyBjb3VudHJ5X2NvZGU6ICdIUicsIGNvdW50cnlfbmFtZTogJ0Nyb2F0aWEnLCByYXRlOiAwLjI1LCBpc19ldV9tZW1iZXI6IHRydWUsIGlzX2FjdGl2ZTogdHJ1ZSB9LFxuICAnQ1knOiB7IGNvdW50cnlfY29kZTogJ0NZJywgY291bnRyeV9uYW1lOiAnQ3lwcnVzJywgcmF0ZTogMC4xOSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0NaJzogeyBjb3VudHJ5X2NvZGU6ICdDWicsIGNvdW50cnlfbmFtZTogJ0N6ZWNoIFJlcHVibGljJywgcmF0ZTogMC4yMSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0RLJzogeyBjb3VudHJ5X2NvZGU6ICdESycsIGNvdW50cnlfbmFtZTogJ0Rlbm1hcmsnLCByYXRlOiAwLjI1LCBpc19ldV9tZW1iZXI6IHRydWUsIGlzX2FjdGl2ZTogdHJ1ZSB9LFxuICAnRUUnOiB7IGNvdW50cnlfY29kZTogJ0VFJywgY291bnRyeV9uYW1lOiAnRXN0b25pYScsIHJhdGU6IDAuMjAsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdGSSc6IHsgY291bnRyeV9jb2RlOiAnRkknLCBjb3VudHJ5X25hbWU6ICdGaW5sYW5kJywgcmF0ZTogMC4yNCwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0ZSJzogeyBjb3VudHJ5X2NvZGU6ICdGUicsIGNvdW50cnlfbmFtZTogJ0ZyYW5jZScsIHJhdGU6IDAuMjAsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdERSc6IHsgY291bnRyeV9jb2RlOiAnREUnLCBjb3VudHJ5X25hbWU6ICdHZXJtYW55JywgcmF0ZTogMC4xOSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0dSJzogeyBjb3VudHJ5X2NvZGU6ICdHUicsIGNvdW50cnlfbmFtZTogJ0dyZWVjZScsIHJhdGU6IDAuMjQsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdIVSc6IHsgY291bnRyeV9jb2RlOiAnSFUnLCBjb3VudHJ5X25hbWU6ICdIdW5nYXJ5JywgcmF0ZTogMC4yNywgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0lFJzogeyBjb3VudHJ5X2NvZGU6ICdJRScsIGNvdW50cnlfbmFtZTogJ0lyZWxhbmQnLCByYXRlOiAwLjIzLCBpc19ldV9tZW1iZXI6IHRydWUsIGlzX2FjdGl2ZTogdHJ1ZSB9LFxuICAnSVQnOiB7IGNvdW50cnlfY29kZTogJ0lUJywgY291bnRyeV9uYW1lOiAnSXRhbHknLCByYXRlOiAwLjIyLCBpc19ldV9tZW1iZXI6IHRydWUsIGlzX2FjdGl2ZTogdHJ1ZSB9LFxuICAnTFYnOiB7IGNvdW50cnlfY29kZTogJ0xWJywgY291bnRyeV9uYW1lOiAnTGF0dmlhJywgcmF0ZTogMC4yMSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0xUJzogeyBjb3VudHJ5X2NvZGU6ICdMVCcsIGNvdW50cnlfbmFtZTogJ0xpdGh1YW5pYScsIHJhdGU6IDAuMjEsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdMVSc6IHsgY291bnRyeV9jb2RlOiAnTFUnLCBjb3VudHJ5X25hbWU6ICdMdXhlbWJvdXJnJywgcmF0ZTogMC4xNywgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ01UJzogeyBjb3VudHJ5X2NvZGU6ICdNVCcsIGNvdW50cnlfbmFtZTogJ01hbHRhJywgcmF0ZTogMC4xOCwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ05MJzogeyBjb3VudHJ5X2NvZGU6ICdOTCcsIGNvdW50cnlfbmFtZTogJ05ldGhlcmxhbmRzJywgcmF0ZTogMC4yMSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ1BMJzogeyBjb3VudHJ5X2NvZGU6ICdQTCcsIGNvdW50cnlfbmFtZTogJ1BvbGFuZCcsIHJhdGU6IDAuMjMsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdQVCc6IHsgY291bnRyeV9jb2RlOiAnUFQnLCBjb3VudHJ5X25hbWU6ICdQb3J0dWdhbCcsIHJhdGU6IDAuMjMsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG4gICdSTyc6IHsgY291bnRyeV9jb2RlOiAnUk8nLCBjb3VudHJ5X25hbWU6ICdSb21hbmlhJywgcmF0ZTogMC4xOSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ1NLJzogeyBjb3VudHJ5X2NvZGU6ICdTSycsIGNvdW50cnlfbmFtZTogJ1Nsb3Zha2lhJywgcmF0ZTogMC4yMCwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ1NJJzogeyBjb3VudHJ5X2NvZGU6ICdTSScsIGNvdW50cnlfbmFtZTogJ1Nsb3ZlbmlhJywgcmF0ZTogMC4yMiwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ0VTJzogeyBjb3VudHJ5X2NvZGU6ICdFUycsIGNvdW50cnlfbmFtZTogJ1NwYWluJywgcmF0ZTogMC4yMSwgaXNfZXVfbWVtYmVyOiB0cnVlLCBpc19hY3RpdmU6IHRydWUgfSxcbiAgJ1NFJzogeyBjb3VudHJ5X2NvZGU6ICdTRScsIGNvdW50cnlfbmFtZTogJ1N3ZWRlbicsIHJhdGU6IDAuMjUsIGlzX2V1X21lbWJlcjogdHJ1ZSwgaXNfYWN0aXZlOiB0cnVlIH0sXG59XG5cbi8vIFNlbGxlciBsb2NhdGlvbiAoYXNzdW1lZCB0byBiZSBGcmFuY2UgZm9yIERvbWFpbmUgVmFsbG90KVxuY29uc3QgU0VMTEVSX0NPVU5UUlkgPSAnRlInXG5cbmV4cG9ydCBjbGFzcyBWYXRDYWxjdWxhdG9yIHtcbiAgcHJpdmF0ZSB2YXRSYXRlczogUmVjb3JkPHN0cmluZywgVmF0UmF0ZT5cblxuICBjb25zdHJ1Y3RvcihjdXN0b21SYXRlcz86IFJlY29yZDxzdHJpbmcsIFZhdFJhdGU+KSB7XG4gICAgdGhpcy52YXRSYXRlcyA9IGN1c3RvbVJhdGVzIHx8IEVVX1ZBVF9SQVRFU1xuICB9XG5cbiAgLyoqXG4gICAqIENhbGN1bGF0ZSBWQVQgZm9yIGEgdHJhbnNhY3Rpb24gYmFzZWQgb24gRVUgcnVsZXNcbiAgICovXG4gIGNhbGN1bGF0ZVZhdChpbnB1dDogVmF0Q2FsY3VsYXRpb25JbnB1dCk6IFZhdENhbGN1bGF0aW9uUmVzdWx0IHtcbiAgICBjb25zdCB7XG4gICAgICBhbW91bnQsXG4gICAgICBzaGlwcGluZ19hbW91bnQgPSAwLFxuICAgICAgY291bnRyeV9jb2RlLFxuICAgICAgcHJvZHVjdF90eXBlID0gJ3dpbmUnLFxuICAgICAgY3VzdG9tZXJfdHlwZSA9ICdjb25zdW1lcicsXG4gICAgICBidXNpbmVzc192YXRfbnVtYmVyXG4gICAgfSA9IGlucHV0XG5cbiAgICBjb25zdCBjb3VudHJ5Q29kZSA9IGNvdW50cnlfY29kZS50b1VwcGVyQ2FzZSgpXG4gICAgY29uc3QgdmF0UmF0ZSA9IHRoaXMuZ2V0VmF0UmF0ZShjb3VudHJ5Q29kZSlcblxuICAgIC8vIERldGVybWluZSBpZiByZXZlcnNlIGNoYXJnZSBhcHBsaWVzIChCMkIgd2l0aGluIEVVLCBleGNsdWRpbmcgc2VsbGVyIGNvdW50cnkpXG4gICAgY29uc3QgaXNSZXZlcnNlQ2hhcmdlID0gdGhpcy5zaG91bGRBcHBseVJldmVyc2VDaGFyZ2UoXG4gICAgICBjb3VudHJ5Q29kZSxcbiAgICAgIGN1c3RvbWVyX3R5cGUsXG4gICAgICBidXNpbmVzc192YXRfbnVtYmVyXG4gICAgKVxuXG4gICAgLy8gQ2FsY3VsYXRlIFZBVCBhbW91bnRzXG4gICAgY29uc3QgZWZmZWN0aXZlVmF0UmF0ZSA9IGlzUmV2ZXJzZUNoYXJnZSA/IDAgOiAodmF0UmF0ZT8ucmF0ZSB8fCAwKVxuXG4gICAgY29uc3QgcHJvZHVjdFZhdCA9IE1hdGgucm91bmQoYW1vdW50ICogZWZmZWN0aXZlVmF0UmF0ZSlcbiAgICBjb25zdCBzaGlwcGluZ1ZhdCA9IE1hdGgucm91bmQoc2hpcHBpbmdfYW1vdW50ICogZWZmZWN0aXZlVmF0UmF0ZSlcbiAgICBjb25zdCB0b3RhbFZhdCA9IHByb2R1Y3RWYXQgKyBzaGlwcGluZ1ZhdFxuICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gYW1vdW50ICsgc2hpcHBpbmdfYW1vdW50ICsgdG90YWxWYXRcblxuICAgIHJldHVybiB7XG4gICAgICBiYXNlX2Ftb3VudDogYW1vdW50LFxuICAgICAgc2hpcHBpbmdfYW1vdW50LFxuICAgICAgdmF0X3JhdGU6IGVmZmVjdGl2ZVZhdFJhdGUsXG4gICAgICB2YXRfYW1vdW50OiB0b3RhbFZhdCxcbiAgICAgIHRvdGFsX2Ftb3VudDogdG90YWxBbW91bnQsXG4gICAgICBjb3VudHJ5OiB2YXRSYXRlPy5jb3VudHJ5X25hbWUgfHwgJ1Vua25vd24nLFxuICAgICAgY291bnRyeV9jb2RlOiBjb3VudHJ5Q29kZSxcbiAgICAgIGlzX3JldmVyc2VfY2hhcmdlOiBpc1JldmVyc2VDaGFyZ2UsXG4gICAgICBicmVha2Rvd246IHtcbiAgICAgICAgcHJvZHVjdF92YXQ6IHByb2R1Y3RWYXQsXG4gICAgICAgIHNoaXBwaW5nX3ZhdDogc2hpcHBpbmdWYXQsXG4gICAgICB9LFxuICAgICAgZXhlbXB0aW9uX3JlYXNvbjogaXNSZXZlcnNlQ2hhcmdlID8gJ1JldmVyc2UgY2hhcmdlIC0gQjJCIHRyYW5zYWN0aW9uJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICF2YXRSYXRlPy5pc19ldV9tZW1iZXIgPyAnTm9uLUVVIGNvdW50cnknIDogdW5kZWZpbmVkXG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCBWQVQgcmF0ZSBmb3IgYSBjb3VudHJ5XG4gICAqL1xuICBwcml2YXRlIGdldFZhdFJhdGUoY291bnRyeUNvZGU6IHN0cmluZyk6IFZhdFJhdGUgfCBudWxsIHtcbiAgICByZXR1cm4gdGhpcy52YXRSYXRlc1tjb3VudHJ5Q29kZV0gfHwgbnVsbFxuICB9XG5cbiAgLyoqXG4gICAqIERldGVybWluZSBpZiByZXZlcnNlIGNoYXJnZSBzaG91bGQgYXBwbHlcbiAgICogUmV2ZXJzZSBjaGFyZ2UgYXBwbGllcyBmb3I6XG4gICAqIC0gQjJCIHRyYW5zYWN0aW9ucyB3aXRoaW4gRVUgKGV4Y2x1ZGluZyBzZWxsZXIncyBjb3VudHJ5KVxuICAgKiAtIFZhbGlkIFZBVCBudW1iZXIgcHJvdmlkZWRcbiAgICovXG4gIHByaXZhdGUgc2hvdWxkQXBwbHlSZXZlcnNlQ2hhcmdlKFxuICAgIGNvdW50cnlDb2RlOiBzdHJpbmcsXG4gICAgY3VzdG9tZXJUeXBlOiBzdHJpbmcsXG4gICAgYnVzaW5lc3NWYXROdW1iZXI/OiBzdHJpbmdcbiAgKTogYm9vbGVhbiB7XG4gICAgLy8gT25seSBhcHBsaWVzIHRvIGJ1c2luZXNzIGN1c3RvbWVyc1xuICAgIGlmIChjdXN0b21lclR5cGUgIT09ICdidXNpbmVzcycpIHJldHVybiBmYWxzZVxuXG4gICAgLy8gTXVzdCBoYXZlIHZhbGlkIFZBVCBudW1iZXJcbiAgICBpZiAoIWJ1c2luZXNzVmF0TnVtYmVyIHx8ICF0aGlzLmlzVmFsaWRWYXROdW1iZXIoYnVzaW5lc3NWYXROdW1iZXIpKSByZXR1cm4gZmFsc2VcblxuICAgIC8vIE11c3QgYmUgRVUgY291bnRyeVxuICAgIGNvbnN0IHZhdFJhdGUgPSB0aGlzLmdldFZhdFJhdGUoY291bnRyeUNvZGUpXG4gICAgaWYgKCF2YXRSYXRlPy5pc19ldV9tZW1iZXIpIHJldHVybiBmYWxzZVxuXG4gICAgLy8gTXVzdCBub3QgYmUgc2VsbGVyJ3MgY291bnRyeVxuICAgIGlmIChjb3VudHJ5Q29kZSA9PT0gU0VMTEVSX0NPVU5UUlkpIHJldHVybiBmYWxzZVxuXG4gICAgcmV0dXJuIHRydWVcbiAgfVxuXG4gIC8qKlxuICAgKiBCYXNpYyBWQVQgbnVtYmVyIHZhbGlkYXRpb25cbiAgICogSW4gcHJvZHVjdGlvbiwgdGhpcyBzaG91bGQgdXNlIGEgcHJvcGVyIFZBVCB2YWxpZGF0aW9uIHNlcnZpY2VcbiAgICovXG4gIHByaXZhdGUgaXNWYWxpZFZhdE51bWJlcih2YXROdW1iZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgIC8vIFJlbW92ZSBzcGFjZXMgYW5kIGNvbnZlcnQgdG8gdXBwZXJjYXNlXG4gICAgY29uc3QgY2xlYW5WYXQgPSB2YXROdW1iZXIucmVwbGFjZSgvXFxzL2csICcnKS50b1VwcGVyQ2FzZSgpXG5cbiAgICAvLyBCYXNpYyBmb3JtYXQgY2hlY2sgLSBzaG91bGQgc3RhcnQgd2l0aCBjb3VudHJ5IGNvZGUgKyBkaWdpdHMvbGV0dGVyc1xuICAgIGNvbnN0IHZhdFBhdHRlcm4gPSAvXltBLVpdezJ9W0EtWjAtOV17MiwxMn0kL1xuICAgIHJldHVybiB2YXRQYXR0ZXJuLnRlc3QoY2xlYW5WYXQpXG4gIH1cblxuICAvKipcbiAgICogQ2FsY3VsYXRlIFZBVCBmb3IgbXVsdGlwbGUgaXRlbXNcbiAgICovXG4gIGNhbGN1bGF0ZVZhdEZvckl0ZW1zKGl0ZW1zOiBBcnJheTx7XG4gICAgYW1vdW50OiBudW1iZXJcbiAgICBwcm9kdWN0X3R5cGU/OiBzdHJpbmdcbiAgfT4sIGNvbW1vbkRhdGE6IE9taXQ8VmF0Q2FsY3VsYXRpb25JbnB1dCwgJ2Ftb3VudCc+KTogVmF0Q2FsY3VsYXRpb25SZXN1bHQge1xuICAgIGNvbnN0IHRvdGFsQW1vdW50ID0gaXRlbXMucmVkdWNlKChzdW0sIGl0ZW0pID0+IHN1bSArIGl0ZW0uYW1vdW50LCAwKVxuXG4gICAgcmV0dXJuIHRoaXMuY2FsY3VsYXRlVmF0KHtcbiAgICAgIC4uLmNvbW1vbkRhdGEsXG4gICAgICBhbW91bnQ6IHRvdGFsQW1vdW50XG4gICAgfSlcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgYWxsIGF2YWlsYWJsZSBWQVQgcmF0ZXNcbiAgICovXG4gIGdldEFsbFZhdFJhdGVzKCk6IFZhdFJhdGVbXSB7XG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXModGhpcy52YXRSYXRlcykuZmlsdGVyKHJhdGUgPT4gcmF0ZS5pc19hY3RpdmUpXG4gIH1cblxuICAvKipcbiAgICogR2V0IEVVIG1lbWJlciBjb3VudHJpZXNcbiAgICovXG4gIGdldEV1Q291bnRyaWVzKCk6IFZhdFJhdGVbXSB7XG4gICAgcmV0dXJuIHRoaXMuZ2V0QWxsVmF0UmF0ZXMoKS5maWx0ZXIocmF0ZSA9PiByYXRlLmlzX2V1X21lbWJlcilcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBjb3VudHJ5IGlzIGluIEVVXG4gICAqL1xuICBpc0V1Q291bnRyeShjb3VudHJ5Q29kZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgcmF0ZSA9IHRoaXMuZ2V0VmF0UmF0ZShjb3VudHJ5Q29kZS50b1VwcGVyQ2FzZSgpKVxuICAgIHJldHVybiByYXRlPy5pc19ldV9tZW1iZXIgfHwgZmFsc2VcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgVkFUIGFtb3VudCBmb3IgZGlzcGxheVxuICAgKi9cbiAgZm9ybWF0VmF0QW1vdW50KGFtb3VudDogbnVtYmVyLCBjdXJyZW5jeSA9ICdFVVInKTogc3RyaW5nIHtcbiAgICBjb25zdCBkaXNwbGF5QW1vdW50ID0gYW1vdW50IC8gMTAwIC8vIENvbnZlcnQgZnJvbSBjZW50c1xuICAgIHJldHVybiBuZXcgSW50bC5OdW1iZXJGb3JtYXQoJ2ZyLUZSJywge1xuICAgICAgc3R5bGU6ICdjdXJyZW5jeScsXG4gICAgICBjdXJyZW5jeSxcbiAgICB9KS5mb3JtYXQoZGlzcGxheUFtb3VudClcbiAgfVxuXG4gIC8qKlxuICAgKiBGb3JtYXQgVkFUIHJhdGUgZm9yIGRpc3BsYXlcbiAgICovXG4gIGZvcm1hdFZhdFJhdGUocmF0ZTogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gYCR7KHJhdGUgKiAxMDApLnRvRml4ZWQoMCl9JWBcbiAgfVxufVxuXG4vLyBFeHBvcnQgc2luZ2xldG9uIGluc3RhbmNlXG5leHBvcnQgY29uc3QgdmF0Q2FsY3VsYXRvciA9IG5ldyBWYXRDYWxjdWxhdG9yKClcblxuLy8gRXhwb3J0IGhlbHBlciBmdW5jdGlvbnNcbmV4cG9ydCBjb25zdCBjYWxjdWxhdGVWYXQgPSAoaW5wdXQ6IFZhdENhbGN1bGF0aW9uSW5wdXQpID0+XG4gIHZhdENhbGN1bGF0b3IuY2FsY3VsYXRlVmF0KGlucHV0KVxuXG5leHBvcnQgY29uc3QgaXNFdUNvdW50cnkgPSAoY291bnRyeUNvZGU6IHN0cmluZykgPT5cbiAgdmF0Q2FsY3VsYXRvci5pc0V1Q291bnRyeShjb3VudHJ5Q29kZSlcblxuZXhwb3J0IGNvbnN0IGZvcm1hdFZhdEFtb3VudCA9IChhbW91bnQ6IG51bWJlciwgY3VycmVuY3kgPSAnRVVSJykgPT5cbiAgdmF0Q2FsY3VsYXRvci5mb3JtYXRWYXRBbW91bnQoYW1vdW50LCBjdXJyZW5jeSlcblxuZXhwb3J0IGNvbnN0IGZvcm1hdFZhdFJhdGUgPSAocmF0ZTogbnVtYmVyKSA9PlxuICB2YXRDYWxjdWxhdG9yLmZvcm1hdFZhdFJhdGUocmF0ZSlcblxuLy8gVmFsaWRhdGlvbiBoZWxwZXJzXG5leHBvcnQgY29uc3QgdmFsaWRhdGVWYXRDYWxjdWxhdGlvbklucHV0ID0gKGlucHV0OiBWYXRDYWxjdWxhdGlvbklucHV0KTogc3RyaW5nW10gPT4ge1xuICBjb25zdCBlcnJvcnM6IHN0cmluZ1tdID0gW11cblxuICBpZiAoaW5wdXQuYW1vdW50IDwgMCkge1xuICAgIGVycm9ycy5wdXNoKCdBbW91bnQgbXVzdCBiZSBwb3NpdGl2ZScpXG4gIH1cblxuICBpZiAoaW5wdXQuc2hpcHBpbmdfYW1vdW50ICYmIGlucHV0LnNoaXBwaW5nX2Ftb3VudCA8IDApIHtcbiAgICBlcnJvcnMucHVzaCgnU2hpcHBpbmcgYW1vdW50IG11c3QgYmUgcG9zaXRpdmUnKVxuICB9XG5cbiAgaWYgKCFpbnB1dC5jb3VudHJ5X2NvZGUgfHwgaW5wdXQuY291bnRyeV9jb2RlLmxlbmd0aCAhPT0gMikge1xuICAgIGVycm9ycy5wdXNoKCdWYWxpZCBjb3VudHJ5IGNvZGUgaXMgcmVxdWlyZWQnKVxuICB9XG5cbiAgaWYgKGlucHV0LmN1c3RvbWVyX3R5cGUgJiYgIVsnYnVzaW5lc3MnLCAnY29uc3VtZXInXS5pbmNsdWRlcyhpbnB1dC5jdXN0b21lcl90eXBlKSkge1xuICAgIGVycm9ycy5wdXNoKCdDdXN0b21lciB0eXBlIG11c3QgYmUgYnVzaW5lc3Mgb3IgY29uc3VtZXInKVxuICB9XG5cbiAgcmV0dXJuIGVycm9yc1xufSJdLCJuYW1lcyI6WyJFVV9WQVRfUkFURVMiLCJjb3VudHJ5X2NvZGUiLCJjb3VudHJ5X25hbWUiLCJyYXRlIiwiaXNfZXVfbWVtYmVyIiwiaXNfYWN0aXZlIiwiU0VMTEVSX0NPVU5UUlkiLCJWYXRDYWxjdWxhdG9yIiwiY3VzdG9tUmF0ZXMiLCJ2YXRSYXRlcyIsImNhbGN1bGF0ZVZhdCIsImlucHV0IiwiYW1vdW50Iiwic2hpcHBpbmdfYW1vdW50IiwicHJvZHVjdF90eXBlIiwiY3VzdG9tZXJfdHlwZSIsImJ1c2luZXNzX3ZhdF9udW1iZXIiLCJjb3VudHJ5Q29kZSIsInRvVXBwZXJDYXNlIiwidmF0UmF0ZSIsImdldFZhdFJhdGUiLCJpc1JldmVyc2VDaGFyZ2UiLCJzaG91bGRBcHBseVJldmVyc2VDaGFyZ2UiLCJlZmZlY3RpdmVWYXRSYXRlIiwicHJvZHVjdFZhdCIsIk1hdGgiLCJyb3VuZCIsInNoaXBwaW5nVmF0IiwidG90YWxWYXQiLCJ0b3RhbEFtb3VudCIsImJhc2VfYW1vdW50IiwidmF0X3JhdGUiLCJ2YXRfYW1vdW50IiwidG90YWxfYW1vdW50IiwiY291bnRyeSIsImlzX3JldmVyc2VfY2hhcmdlIiwiYnJlYWtkb3duIiwicHJvZHVjdF92YXQiLCJzaGlwcGluZ192YXQiLCJleGVtcHRpb25fcmVhc29uIiwidW5kZWZpbmVkIiwiY3VzdG9tZXJUeXBlIiwiYnVzaW5lc3NWYXROdW1iZXIiLCJpc1ZhbGlkVmF0TnVtYmVyIiwidmF0TnVtYmVyIiwiY2xlYW5WYXQiLCJyZXBsYWNlIiwidmF0UGF0dGVybiIsInRlc3QiLCJjYWxjdWxhdGVWYXRGb3JJdGVtcyIsIml0ZW1zIiwiY29tbW9uRGF0YSIsInJlZHVjZSIsInN1bSIsIml0ZW0iLCJnZXRBbGxWYXRSYXRlcyIsIk9iamVjdCIsInZhbHVlcyIsImZpbHRlciIsImdldEV1Q291bnRyaWVzIiwiaXNFdUNvdW50cnkiLCJmb3JtYXRWYXRBbW91bnQiLCJjdXJyZW5jeSIsImRpc3BsYXlBbW91bnQiLCJJbnRsIiwiTnVtYmVyRm9ybWF0Iiwic3R5bGUiLCJmb3JtYXQiLCJmb3JtYXRWYXRSYXRlIiwidG9GaXhlZCIsInZhdENhbGN1bGF0b3IiLCJ2YWxpZGF0ZVZhdENhbGN1bGF0aW9uSW5wdXQiLCJlcnJvcnMiLCJwdXNoIiwibGVuZ3RoIiwiaW5jbHVkZXMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/vat/calculator.ts\n");

/***/ }),

/***/ "(ssr)/./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true!":
/*!******************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-flight-client-entry-loader.js?server=true! ***!
  \******************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "../app-render/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/server/app-render/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/action-async-storage.external.js");

/***/ }),

/***/ "../app-render/after-task-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist/server/app-render/after-task-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/after-task-async-storage.external.js");

/***/ }),

/***/ "./work-async-storage.external":
/*!*****************************************************************************!*\
  !*** external "next/dist/server/app-render/work-async-storage.external.js" ***!
  \*****************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-async-storage.external.js");

/***/ }),

/***/ "./work-unit-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist/server/app-render/work-unit-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/server/app-render/work-unit-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "next/dist/shared/lib/no-fallback-error.external":
/*!******************************************************************!*\
  !*** external "next/dist/shared/lib/no-fallback-error.external" ***!
  \******************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/no-fallback-error.external");

/***/ }),

/***/ "next/dist/shared/lib/router/utils/app-paths":
/*!**************************************************************!*\
  !*** external "next/dist/shared/lib/router/utils/app-paths" ***!
  \**************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/shared/lib/router/utils/app-paths");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/zod"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader/index.js?name=app%2Fapi%2Fvat%2Fcalculate%2Froute&page=%2Fapi%2Fvat%2Fcalculate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fvat%2Fcalculate%2Froute.ts&appDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5Colivi%5CDomaine%20Vallot&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D&isGlobalNotFoundEnabled=!")));
module.exports = __webpack_exports__;

})();