exports.id=1993,exports.ids=[1993],exports.modules={2475:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>p,generateMetadata:()=>o,generateStaticParams:()=>n});var d=c(75338),e=c(91425),f=c(65109),g=c(82161),h=c(17908),i=c(54540),j=c(43747),k=c(31565);let l={name:"Domaine Vallot",description:"Premium French wines from Domaine Vallot. Discover our exceptional collection of handcrafted wines with direct-to-consumer shipping across the EU.",url:"http://localhost:3003",ogImage:"/images/og-default.jpg",creator:"Domaine Vallot",twitterCreator:"@domainevallot",keywords:["french wine","premium wine","domaine vallot","wine online","boutique winery","organic wine","sustainable viticulture","direct from producer"]};function m(a,b){let c=l.url;switch(a){case"organization":return{"@context":"https://schema.org","@type":"Organization",name:l.name,url:c,logo:`${c}/images/logo.png`,description:l.description,contactPoint:{"@type":"ContactPoint",telephone:"+33-1-23-45-67-89",contactType:"customer service",availableLanguage:["French","English"]},sameAs:["https://www.facebook.com/domainevallot","https://www.instagram.com/domainevallot","https://twitter.com/domainevallot"]};case"winery":return{"@context":"https://schema.org","@type":"Winery",name:l.name,url:c,description:l.description,address:{"@type":"PostalAddress",addressLocality:"Bordeaux",addressRegion:"Nouvelle-Aquitaine",addressCountry:"FR"},geo:{"@type":"GeoCoordinates",latitude:44.8378,longitude:-.5792},foundingDate:"1985",founder:{"@type":"Person",name:"Jean Vallot"}};case"product":if(!b)return null;return{"@context":"https://schema.org","@type":"Product",name:b.name,description:b.description,image:b.image_url,sku:b.sku,brand:{"@type":"Brand",name:l.name},manufacturer:{"@type":"Organization",name:l.name},offers:{"@type":"Offer",url:`${c}/products/${b.slug}`,priceCurrency:"EUR",price:(b.price_cents/100).toFixed(2),availability:b.stock_quantity>0?"https://schema.org/InStock":"https://schema.org/OutOfStock",seller:{"@type":"Organization",name:l.name}},..."wine"===b.product_type&&{"@type":"Product",category:"Wine",additionalProperty:[{"@type":"PropertyValue",name:"Vintage",value:b.vintage},{"@type":"PropertyValue",name:"Region",value:b.region},{"@type":"PropertyValue",name:"Alcohol Content",value:`${b.alcohol_content}%`}]}};case"breadcrumbs":if(!b||!Array.isArray(b))return null;return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:b.map((a,b)=>({"@type":"ListItem",position:b+1,name:a.name,item:`${c}${a.url}`}))};default:return null}}function n(){return[{locale:"en"},{locale:"fr"}]}async function o({params:a}){let{locale:b}=await a;return["en","fr"].includes(b)||(0,g.notFound)(),{title:{template:"%s | Domaine Vallot",default:"fr"===b?"Domaine Vallot - Vins Biodynamiques Premium":"Domaine Vallot - Premium Biodynamic Wines"},description:"fr"===b?"D\xe9couvrez nos vins biodynamiques premium directement de notre domaine familial en France.":"Discover our premium biodynamic wines direct from our family vineyard in France.",keywords:"fr"===b?"vin biodynamique, domaine viticole, France, vente directe, vin premium":"biodynamic wine, vineyard, France, direct sales, premium wine",openGraph:{title:"fr"===b?"Domaine Vallot - Vins Biodynamiques Premium":"Domaine Vallot - Premium Biodynamic Wines",description:"fr"===b?"D\xe9couvrez nos vins biodynamiques premium directement de notre domaine familial en France.":"Discover our premium biodynamic wines direct from our family vineyard in France.",url:"https://domainevallot.com",siteName:"Domaine Vallot",locale:"fr"===b?"fr_FR":"en_US",type:"website"},alternates:{canonical:`https://domainevallot.com/${b}`,languages:{en:"https://domainevallot.com/en",fr:"https://domainevallot.com/fr"}}}}async function p({children:a,params:b}){let{locale:c}=await b;["en","fr"].includes(c)||(0,g.notFound)();let l=await (0,f.A)(),n=m("organization"),o=m("winery");return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(i.default,{data:[n,o]}),(0,d.jsx)(e.A,{locale:c,messages:l,children:(0,d.jsx)(j.AuthProvider,{children:(0,d.jsx)(k.AuthModalProvider,{locale:c,children:(0,d.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,d.jsx)(h.default,{currentLocale:c}),(0,d.jsx)("main",{className:"flex-1",children:a}),(0,d.jsx)("footer",{className:"bg-gray-900 text-white py-8",children:(0,d.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,d.jsx)("div",{className:"text-center",children:(0,d.jsxs)("p",{className:"text-gray-400",children:["\xa9 2025 Domaine Vallot. ","fr"===c?"Tous droits r\xe9serv\xe9s.":"All rights reserved."]})})})})]})})})})]})}!function(a){a.title?(a.title,l.name):l.name,a.description||l.description;let b=a.canonical?`${l.url}${a.canonical}`:void 0;a.keywords?.join(", ")||l.keywords.join(", "),l.creator,l.creator,l.creator,b||l.url,a.openGraph?.title,a.openGraph?.description,l.name,a.openGraph?.images||(l.url,l.ogImage,l.name),a.twitter?.title,a.twitter?.description,l.twitterCreator,a.twitter?.images||(l.url,l.ogImage),process.env.GOOGLE_VERIFICATION_ID,process.env.YANDEX_VERIFICATION_ID,process.env.YAHOO_VERIFICATION_ID}({title:"",description:l.description})},8301:(a,b,c)=>{"use strict";c.d(b,{FO:()=>k,Yh:()=>m,zM:()=>l});var d=c(21124),e=c(38301),f=c(72380),g=c(3368),h=c(48332),i=c(89710),j=c(44943);let k=(0,e.forwardRef)(({label:a,error:b,success:c,hint:e,required:k,className:l,labelClassName:m,containerClassName:n,showPasswordToggle:o,onPasswordToggle:p,showPassword:q,type:r,...s},t)=>{let u=o?q?"text":"password":r,v=!!b,w=!!c&&!v;return(0,d.jsxs)("div",{className:(0,j.cn)("space-y-1",n),children:[a&&(0,d.jsxs)("label",{htmlFor:s.id,className:(0,j.cn)("block text-sm font-medium text-gray-700",m),children:[a,k&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("input",{ref:t,type:u,className:(0,j.cn)("appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm transition-colors",v?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":w?"border-green-300 text-green-900 focus:ring-green-500 focus:border-green-500":"border-gray-300 text-gray-900 focus:ring-wine-500 focus:border-wine-500",o&&(v||w?"pr-16":"pr-10"),l),"aria-invalid":v,"aria-describedby":b?`${s.id}-error`:e?`${s.id}-hint`:void 0,...s}),o&&(0,d.jsx)("button",{type:"button",className:(0,j.cn)("absolute inset-y-0 right-0 flex items-center",v||w?"pr-10":"pr-3"),onClick:p,"aria-label":q?"Hide password":"Show password",children:q?(0,d.jsx)(f.A,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"}):(0,d.jsx)(g.A,{className:"h-4 w-4 text-gray-400 hover:text-gray-600"})}),(v||w)&&(0,d.jsx)("div",{className:"absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none",children:v?(0,d.jsx)(h.A,{className:"h-4 w-4 text-red-500"}):(0,d.jsx)(i.A,{className:"h-4 w-4 text-green-500"})})]}),b&&(0,d.jsxs)("p",{id:`${s.id}-error`,className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),b]}),c&&!b&&(0,d.jsxs)("p",{className:"text-sm text-green-600 flex items-center",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),c]}),e&&!b&&!c&&(0,d.jsx)("p",{id:`${s.id}-hint`,className:"text-sm text-gray-500",children:e})]})});k.displayName="InputField",(0,e.forwardRef)(({label:a,error:b,success:c,hint:e,required:f,className:g,labelClassName:k,containerClassName:l,...m},n)=>{let o=!!b,p=!!c&&!o;return(0,d.jsxs)("div",{className:(0,j.cn)("space-y-1",l),children:[a&&(0,d.jsxs)("label",{htmlFor:m.id,className:(0,j.cn)("block text-sm font-medium text-gray-700",k),children:[a,f&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)("textarea",{ref:n,className:(0,j.cn)("appearance-none block w-full px-3 py-2 border rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm transition-colors",o?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":p?"border-green-300 text-green-900 focus:ring-green-500 focus:border-green-500":"border-gray-300 text-gray-900 focus:ring-wine-500 focus:border-wine-500",g),"aria-invalid":o,"aria-describedby":b?`${m.id}-error`:e?`${m.id}-hint`:void 0,...m}),(o||p)&&(0,d.jsx)("div",{className:"absolute top-2 right-2 pointer-events-none",children:o?(0,d.jsx)(h.A,{className:"h-4 w-4 text-red-500"}):(0,d.jsx)(i.A,{className:"h-4 w-4 text-green-500"})})]}),b&&(0,d.jsxs)("p",{id:`${m.id}-error`,className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),b]}),c&&!b&&(0,d.jsxs)("p",{className:"text-sm text-green-600 flex items-center",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),c]}),e&&!b&&!c&&(0,d.jsx)("p",{id:`${m.id}-hint`,className:"text-sm text-gray-500",children:e})]})}).displayName="TextareaField";let l=(0,e.forwardRef)(({label:a,error:b,success:c,hint:e,required:f,className:g,labelClassName:k,containerClassName:l,options:m,placeholder:n,...o},p)=>{let q=!!b,r=!!c&&!q;return(0,d.jsxs)("div",{className:(0,j.cn)("space-y-1",l),children:[a&&(0,d.jsxs)("label",{htmlFor:o.value,className:(0,j.cn)("block text-sm font-medium text-gray-700",k),children:[a,f&&(0,d.jsx)("span",{className:"text-red-500 ml-1",children:"*"})]}),(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsxs)("select",{ref:p,className:(0,j.cn)("appearance-none block w-full px-3 py-2 border rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-offset-0 sm:text-sm transition-colors bg-white",q?"border-red-300 text-red-900 focus:ring-red-500 focus:border-red-500":r?"border-green-300 text-green-900 focus:ring-green-500 focus:border-green-500":"border-gray-300 text-gray-900 focus:ring-wine-500 focus:border-wine-500",g),"aria-invalid":q,"aria-describedby":b?`${o.value}-error`:e?`${o.value}-hint`:void 0,...o,children:[n&&(0,d.jsx)("option",{value:"",disabled:!0,children:n}),m.map(a=>(0,d.jsx)("option",{value:a.value,disabled:a.disabled,children:a.label},a.value))]}),(q||r)&&(0,d.jsx)("div",{className:"absolute inset-y-0 right-8 pr-3 flex items-center pointer-events-none",children:q?(0,d.jsx)(h.A,{className:"h-4 w-4 text-red-500"}):(0,d.jsx)(i.A,{className:"h-4 w-4 text-green-500"})})]}),b&&(0,d.jsxs)("p",{id:`${o.value}-error`,className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),b]}),c&&!b&&(0,d.jsxs)("p",{className:"text-sm text-green-600 flex items-center",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),c]}),e&&!b&&!c&&(0,d.jsx)("p",{id:`${o.value}-hint`,className:"text-sm text-gray-500",children:e})]})});l.displayName="SelectField";let m=(0,e.forwardRef)(({error:a,success:b,hint:c,className:e,containerClassName:f,children:g,checked:k,onChange:l,...m},n)=>{let o=!!a;return(0,d.jsxs)("div",{className:(0,j.cn)("space-y-1",f),children:[(0,d.jsxs)("div",{className:"flex items-start",children:[(0,d.jsx)("div",{className:"flex items-center h-5",children:(0,d.jsx)("input",{ref:n,type:"checkbox",checked:k,onChange:a=>l?.(a.target.checked),className:(0,j.cn)("focus:ring-wine-500 h-4 w-4 text-wine-600 border-gray-300 rounded transition-colors",o&&"border-red-300",e),"aria-invalid":o,"aria-describedby":a?`${m.id}-error`:c?`${m.id}-hint`:void 0,...m})}),(0,d.jsx)("div",{className:"ml-3 text-sm",children:(0,d.jsx)("label",{htmlFor:m.id,className:"text-gray-700",children:g})})]}),a&&(0,d.jsxs)("p",{id:`${m.id}-error`,className:"text-sm text-red-600 flex items-center",children:[(0,d.jsx)(h.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),a]}),b&&!a&&(0,d.jsxs)("p",{className:"text-sm text-green-600 flex items-center",children:[(0,d.jsx)(i.A,{className:"h-4 w-4 mr-1 flex-shrink-0"}),b]}),c&&!a&&!b&&(0,d.jsx)("p",{id:`${m.id}-hint`,className:"text-sm text-gray-500",children:c})]})});m.displayName="CheckboxField"},13896:(a,b,c)=>{"use strict";c.d(b,{E9:()=>l,X5:()=>j,oW:()=>m,zK:()=>k});var d=c(99546);let e=d.Yj().email("Please enter a valid email address"),f=d.Yj().regex(/^(\+\d{1,3}[- ]?)?\d{8,15}$/,"Please enter a valid phone number").optional(),g=d.Yj().min(3,"Postal code must be at least 3 characters").max(10,"Postal code cannot exceed 10 characters"),h=d.Yj().min(8,"Password must be at least 8 characters").regex(/[A-Z]/,"Password must contain at least one uppercase letter").regex(/[a-z]/,"Password must contain at least one lowercase letter").regex(/\d/,"Password must contain at least one number").regex(/[!@#$%^&*]/,"Password must contain at least one special character"),i=d.Ik({birthDay:d.ai().min(1,"Please select a valid day").max(31,"Please select a valid day"),birthMonth:d.ai().min(1,"Please select a valid month").max(12,"Please select a valid month"),birthYear:d.ai().min(1900,"Please enter a realistic birth year").max(new Date().getFullYear(),"Birth year cannot be in the future"),documentType:d.k5(["id_card","passport","drivers_license"]).optional(),documentNumber:d.Yj().optional(),country:d.Yj().length(2,"Country must be a 2-letter code").optional()}).refine(a=>{let b=new Date(a.birthYear,a.birthMonth-1,a.birthDay);return!isNaN(b.getTime())&&b<=new Date},{message:"Please enter a valid birth date",path:["birthDay"]});d.Ik({email:e,password:h,confirmPassword:d.Yj(),firstName:d.Yj().min(2,"First name must be at least 2 characters").max(50,"First name cannot exceed 50 characters").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"First name contains invalid characters"),lastName:d.Yj().min(2,"Last name must be at least 2 characters").max(50,"Last name cannot exceed 50 characters").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Last name contains invalid characters"),phone:f,birthDate:d.Yj().refine(a=>{let b=new Date(a),c=new Date().getFullYear()-b.getFullYear();return!isNaN(b.getTime())&&c>=16&&c<=120},"You must be at least 16 years old to register"),acceptTerms:d.zM().refine(a=>!0===a,"You must accept the terms and conditions"),acceptPrivacy:d.zM().refine(a=>!0===a,"You must accept the privacy policy"),acceptMarketing:d.zM().optional(),country:d.Yj().length(2,"Please select a country")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});let j=d.Ik({email:e,password:d.Yj().min(1,"Password is required"),rememberMe:d.zM().optional()}),k=d.Ik({email:e,password:h,confirmPassword:d.Yj(),firstName:d.Yj().min(2,"First name must be at least 2 characters").max(50,"First name cannot exceed 50 characters").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"First name contains invalid characters"),lastName:d.Yj().min(2,"Last name must be at least 2 characters").max(50,"Last name cannot exceed 50 characters").regex(/^[a-zA-ZÀ-ÿ\s'-]+$/,"Last name contains invalid characters"),phone:f,birthDate:d.Yj().refine(a=>{let b=new Date(a),c=new Date().getFullYear()-b.getFullYear();return!isNaN(b.getTime())&&c>=18&&c<=120},"You must be at least 18 years old to register"),preferredLanguage:d.k5(["en","fr"]),marketingConsent:d.zM().optional(),newsletterConsent:d.zM().optional(),isBusiness:d.zM().optional(),companyName:d.Yj().min(2,"Company name is required").optional(),vatNumber:d.Yj().regex(/^[A-Z]{2}[0-9A-Z]+$/,"Invalid VAT number format").optional(),termsAccepted:d.zM().refine(a=>!0===a,"You must accept the terms and conditions"),privacyAccepted:d.zM().refine(a=>!0===a,"You must accept the privacy policy")}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}).refine(a=>!a.isBusiness||a.companyName&&a.companyName.length>=2,{message:"Company name is required for business accounts",path:["companyName"]}),l=d.Ik({email:e}),m=d.Ik({token:d.Yj().min(1,"Reset token is required"),password:h,confirmPassword:d.Yj()}).refine(a=>a.password===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});d.Ik({currentPassword:d.Yj().min(1,"Current password is required"),newPassword:h,confirmPassword:d.Yj()}).refine(a=>a.newPassword===a.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]});let n=d.Ik({firstName:d.Yj().min(2,"First name is required"),lastName:d.Yj().min(2,"Last name is required"),company:d.Yj().optional(),address:d.Yj().min(5,"Street address is required"),address2:d.Yj().optional(),city:d.Yj().min(2,"City is required"),postalCode:g,country:d.Yj().length(2,"Please select a country"),phone:f}),o=d.Ik({email:e,firstName:d.Yj().min(2,"First name is required"),lastName:d.Yj().min(2,"Last name is required"),phone:f,createAccount:d.zM().optional(),password:d.Yj().optional()}).refine(a=>!a.createAccount||a.password&&a.password.length>=8,{message:"Password is required when creating an account",path:["password"]}),p=n.extend({sameAsShipping:d.zM().optional()}),q=d.Ik({paymentMethod:d.k5(["mollie","stripe","paypal"]),savePaymentMethod:d.zM().optional(),acceptTerms:d.zM().refine(a=>!0===a,"You must accept the terms and conditions")});d.Ik({customer:o,shipping:n,billing:p,payment:q,ageVerification:i,vatNumber:d.Yj().optional(),specialInstructions:d.Yj().max(500,"Special instructions cannot exceed 500 characters").optional()}),d.Ik({productId:d.Yj().uuid("Invalid product ID"),quantity:d.ai().min(1,"Quantity must be at least 1").max(24,"Maximum 24 bottles per product").int("Quantity must be a whole number"),variantId:d.Yj().optional()}),d.Ik({itemId:d.Yj().uuid("Invalid cart item ID"),quantity:d.ai().min(0,"Quantity must be 0 or more").max(24,"Maximum 24 bottles per product").int("Quantity must be a whole number")}),d.Ik({name:d.Yj().min(3,"Product name must be at least 3 characters").max(100,"Product name cannot exceed 100 characters"),sku:d.Yj().min(3,"SKU must be at least 3 characters").max(50,"SKU cannot exceed 50 characters").regex(/^[A-Z0-9-]+$/,"SKU must contain only uppercase letters, numbers, and hyphens"),description:d.Yj().min(10,"Description must be at least 10 characters").max(2e3,"Description cannot exceed 2000 characters"),price:d.ai().min(1,"Price must be at least €0.01").max(1e5,"Price cannot exceed €1,000.00"),stockQuantity:d.ai().min(0,"Stock quantity cannot be negative").max(1e4,"Stock quantity cannot exceed 10,000").int("Stock quantity must be a whole number"),category:d.k5(["red_wine","white_wine","rose_wine","sparkling_wine","dessert_wine","fortified_wine"]),vintage:d.ai().min(1800,"Vintage must be realistic").max(new Date().getFullYear(),"Vintage cannot be in the future").optional(),alcoholContent:d.ai().min(.5,"Alcohol content must be at least 0.5%").max(20,"Alcohol content cannot exceed 20%").optional(),grapeVariety:d.Yj().max(100,"Grape variety name too long").optional(),region:d.Yj().max(100,"Region name too long").optional(),producer:d.Yj().max(100,"Producer name too long").optional(),volume:d.ai().min(187,"Minimum volume is 187ml").max(3e3,"Maximum volume is 3000ml").optional(),servingTemperature:d.Yj().max(50,"Serving temperature description too long").optional(),agingPotential:d.Yj().max(100,"Aging potential description too long").optional(),pairingNotes:d.Yj().max(500,"Pairing notes too long").optional(),status:d.k5(["active","inactive","out_of_stock","discontinued"]),isFeatured:d.zM().optional(),isOrganic:d.zM().optional(),isBiodynamic:d.zM().optional(),imageUrl:d.Yj().url("Please enter a valid image URL").optional(),galleryImages:d.YO(d.Yj().url()).max(10,"Maximum 10 gallery images").optional()}),d.Ik({customerId:d.Yj().uuid("Invalid customer ID").optional(),customerEmail:e,customerFirstName:d.Yj().min(2,"First name is required"),customerLastName:d.Yj().min(2,"Last name is required"),shippingAddress:n,billingAddress:n,items:d.YO(d.Ik({productId:d.Yj().uuid("Invalid product ID"),quantity:d.ai().min(1,"Quantity must be at least 1").int(),unitPrice:d.ai().min(1,"Unit price must be positive")})).min(1,"Order must contain at least one item"),subtotal:d.ai().min(0,"Subtotal cannot be negative"),vatAmount:d.ai().min(0,"VAT amount cannot be negative"),shippingCost:d.ai().min(0,"Shipping cost cannot be negative"),totalAmount:d.ai().min(1,"Total amount must be positive"),paymentMethod:d.Yj().min(1,"Payment method is required"),specialInstructions:d.Yj().max(500,"Special instructions too long").optional(),giftMessage:d.Yj().max(200,"Gift message too long").optional()}),d.Ik({name:d.Yj().min(2,"Name must be at least 2 characters").max(100,"Name cannot exceed 100 characters"),email:e,subject:d.Yj().min(5,"Subject must be at least 5 characters").max(100,"Subject cannot exceed 100 characters"),message:d.Yj().min(10,"Message must be at least 10 characters").max(1e3,"Message cannot exceed 1000 characters"),phone:f,category:d.k5(["general","orders","products","shipping","returns","technical"]).optional()}),d.Ik({email:e,firstName:d.Yj().min(2,"First name is required").optional(),preferences:d.Ik({newProducts:d.zM().optional(),specialOffers:d.zM().optional(),wineEvents:d.zM().optional(),wineEducation:d.zM().optional()}).optional(),acceptTerms:d.zM().refine(a=>!0===a,"You must accept the terms and conditions")}),d.Ik({email:e,password:d.Yj().min(1,"Password is required"),twoFactorCode:d.Yj().regex(/^\d{6}$/,"2FA code must be 6 digits").optional()}),d.Ik({email:e,firstName:d.Yj().min(2,"First name is required"),lastName:d.Yj().min(2,"Last name is required"),role:d.k5(["admin","manager","staff"]),permissions:d.YO(d.Yj()).optional(),isActive:d.zM(),password:h.optional()}),d.Ik({productId:d.Yj().uuid("Invalid product ID"),adjustment:d.ai().min(-1e3,"Adjustment too large").max(1e3,"Adjustment too large").int("Adjustment must be a whole number"),reason:d.k5(["received","sold","damaged","expired","returned","correction","other"]),notes:d.Yj().max(500,"Notes cannot exceed 500 characters").optional(),reference:d.Yj().max(100,"Reference cannot exceed 100 characters").optional()}),d.Ik({destination:d.Ik({country:d.Yj().length(2,"Country must be a 2-letter code"),postalCode:g,city:d.Yj().min(2,"City is required")}),items:d.YO(d.Ik({productId:d.Yj().uuid("Invalid product ID"),quantity:d.ai().min(1,"Quantity must be at least 1").int(),weight:d.ai().min(1,"Weight must be positive").optional()})).min(1,"At least one item is required"),totalValue:d.ai().min(1,"Total value must be positive")}),d.Ik({amount:d.ai().min(1,"Amount must be positive"),shippingAmount:d.ai().min(0,"Shipping amount cannot be negative").optional(),country:d.Yj().length(2,"Country must be a 2-letter code"),customerType:d.k5(["consumer","business"]).optional(),vatNumber:d.Yj().optional()}),d.Ik({query:d.Yj().max(100,"Search query too long").optional(),category:d.k5(["red_wine","white_wine","rose_wine","sparkling_wine","dessert_wine","fortified_wine"]).optional(),minPrice:d.ai().min(0,"Minimum price cannot be negative").optional(),maxPrice:d.ai().min(0,"Maximum price cannot be negative").optional(),vintage:d.ai().min(1800,"Vintage too old").max(new Date().getFullYear(),"Vintage cannot be in the future").optional(),region:d.Yj().max(100,"Region name too long").optional(),inStock:d.zM().optional(),isOrganic:d.zM().optional(),sortBy:d.k5(["name","price","vintage","created_at","popularity"]).optional(),sortOrder:d.k5(["asc","desc"]).optional(),limit:d.ai().min(1,"Limit must be at least 1").max(100,"Limit cannot exceed 100").optional(),offset:d.ai().min(0,"Offset cannot be negative").optional()}),d.Ik({file:d.bz().refine(a=>a instanceof File,"Please select a valid file").refine(a=>a.size<=5242880,"File size must be less than 5MB").refine(a=>["image/jpeg","image/png","image/webp"].includes(a.type),"File must be JPEG, PNG, or WebP format"),alt:d.Yj().max(200,"Alt text cannot exceed 200 characters").optional()})},14832:(a,b,c)=>{"use strict";c.d(b,{F:()=>t,ForgotPasswordPage:()=>u});var d=c(21124),e=c(38301),f=c(31980),g=c(50937),h=c(46078),i=c(3991),j=c.n(i),k=c(89710),l=c(79944),m=c(15982),n=c(48332),o=c(8301),p=c(45895),q=c(69773),r=c(13896),s=c(44943);function t({locale:a,className:b,onSuccess:c,showHeader:i=!0,onBackToLogin:t}){let u=(0,h.useTranslations)("Auth"),{resetPassword:v}=(0,q.A)(),[w,x]=(0,e.useState)(null),y=()=>x(null),[z,A]=(0,e.useState)(!1),{register:B,handleSubmit:C,formState:{errors:D,isSubmitting:E},watch:F,clearErrors:G}=(0,f.mN)({resolver:(0,g.u)(r.E9),defaultValues:{email:""}}),H=F("email"),I=async a=>{try{y(),G();let b=await v(a.email);if(b.error)return void x(b.error);A(!0),c&&c()}catch(a){console.error("Password reset request error:",a)}};return z?(0,d.jsxs)("div",{className:(0,s.cn)("w-full max-w-md mx-auto text-center",b),children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(k.A,{className:"w-8 h-8 text-green-600"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:u("resetLinkSent")}),(0,d.jsxs)("p",{className:"text-gray-600 mb-6",children:["We've sent a password reset link to ",(0,d.jsx)("strong",{children:H})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Didn't receive the email? Check your spam folder or try again."}),(0,d.jsx)(p.$,{onClick:()=>A(!1),variant:"outline",fullWidth:!0,children:"Send another email"}),(0,d.jsx)("div",{className:"text-center",children:t?(0,d.jsxs)("button",{type:"button",onClick:t,className:"text-sm text-wine-600 hover:text-wine-500 font-medium inline-flex items-center",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-1"}),u("backToLogin")]}):(0,d.jsxs)(j(),{href:`/${a}/login`,className:"text-sm text-wine-600 hover:text-wine-500 font-medium inline-flex items-center",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-1"}),u("backToLogin")]})})]})]}):(0,d.jsxs)("div",{className:(0,s.cn)("w-full max-w-md mx-auto",b),children:[i&&(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-wine-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(m.A,{className:"w-8 h-8 text-wine-600"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:u("forgotPasswordTitle")}),(0,d.jsx)("p",{className:"text-gray-600",children:u("forgotPasswordSubtitle")})]}),(0,d.jsxs)("form",{onSubmit:C(I),className:"space-y-6",children:[w&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(n.A,{className:"h-5 w-5 text-red-400"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:w})})]})}),(0,d.jsx)(o.FO,{...B("email"),id:"email",type:"email",label:u("email"),placeholder:"your@email.com",error:D.email?.message,required:!0,autoComplete:"email",autoFocus:!0,onChange:a=>{B("email").onChange(a),w&&y()}}),(0,d.jsxs)(p.$,{type:"submit",fullWidth:!0,loading:E,disabled:E,children:[(0,d.jsx)(m.A,{className:"w-4 h-4 mr-2"}),u("sendResetLink")]}),(0,d.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:t?(0,d.jsxs)("button",{type:"button",onClick:t,className:"text-sm text-wine-600 hover:text-wine-500 font-medium inline-flex items-center",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-1"}),u("backToLogin")]}):(0,d.jsxs)(j(),{href:`/${a}/login`,className:"text-sm text-wine-600 hover:text-wine-500 font-medium inline-flex items-center",children:[(0,d.jsx)(l.A,{className:"w-4 h-4 mr-1"}),u("backToLogin")]})})]})]})}function u({params:{locale:a}}){return(0,d.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,d.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,d.jsx)(t,{locale:a})})})})}},14967:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,54160,23)),Promise.resolve().then(c.t.bind(c,31603,23)),Promise.resolve().then(c.t.bind(c,68495,23)),Promise.resolve().then(c.t.bind(c,75170,23)),Promise.resolve().then(c.t.bind(c,77526,23)),Promise.resolve().then(c.t.bind(c,78922,23)),Promise.resolve().then(c.t.bind(c,29234,23)),Promise.resolve().then(c.t.bind(c,12263,23)),Promise.resolve().then(c.bind(c,82146))},16464:()=>{},17020:(a,b,c)=>{"use strict";c.d(b,{A:()=>f});var d=c(1886);let e=(0,c(71637).o)({locales:["en","fr"],defaultLocale:"en",pathnames:{"/":"/","/products":{en:"/products",fr:"/produits"},"/products/[slug]":{en:"/products/[slug]",fr:"/produits/[slug]"},"/cart":{en:"/cart",fr:"/panier"},"/checkout":{en:"/checkout",fr:"/commande"},"/about":{en:"/about",fr:"/a-propos"},"/contact":{en:"/contact",fr:"/contact"},"/login":{en:"/login",fr:"/connexion"},"/register":{en:"/register",fr:"/inscription"},"/forgot-password":{en:"/forgot-password",fr:"/mot-de-passe-oublie"},"/reset-password":{en:"/reset-password",fr:"/reinitialiser-mot-de-passe"},"/profile":{en:"/profile",fr:"/profil"},"/orders":{en:"/orders",fr:"/commandes"},"/admin":"/admin"}}),f=(0,d.A)(async({requestLocale:a})=>{let b=await a;return b&&e.locales.includes(b)||(b=e.defaultLocale),{locale:b,messages:(await c(42644)(`./${b}/common.json`)).default}})},17908:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\olivi\\\\Domaine Vallot\\\\src\\\\components\\\\layout\\\\Navigation.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\layout\\Navigation.tsx","default")},31565:(a,b,c)=>{"use strict";c.d(b,{AuthModalProvider:()=>e});var d=c(97954);(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthModal() from the server but AuthModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthModal.tsx","AuthModal");let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthModalProvider() from the server but AuthModalProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthModal.tsx","AuthModalProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuthModal() from the server but useAuthModal is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthModal.tsx","useAuthModal")},34627:(a,b,c)=>{"use strict";c.d(b,{LoginPage:()=>u,Q:()=>t});var d=c(21124),e=c(38301),f=c(31980),g=c(50937),h=c(46078),i=c(3991),j=c.n(i),k=c(42378),l=c(89710),m=c(48332),n=c(22815),o=c(8301),p=c(45895),q=c(69773),r=c(13896),s=c(44943);function t({locale:a,className:b,redirectTo:c,onSuccess:i,showHeader:t=!0,onSwitchToRegister:u,onSwitchToForgotPassword:v}){let w=(0,h.useTranslations)("Auth"),x=(0,k.useRouter)(),y=(0,k.useSearchParams)(),{signIn:z,loading:A}=(0,q.A)(),[B,C]=(0,e.useState)(null),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),H=c||y.get("redirect")||`/${a}`,{register:I,handleSubmit:J,formState:{errors:K,isSubmitting:L},setError:M,clearErrors:N}=(0,f.mN)({resolver:(0,g.u)(r.X5),defaultValues:{email:"",password:"",rememberMe:!1}}),O=async a=>{try{C(null),N();let b=await z(a.email,a.password);if(b.error)return void C(b.error);G(!0),setTimeout(()=>{i?i():x.push(H)},1e3)}catch(a){C("An unexpected error occurred"),console.error("Login error:",a)}},P=()=>{B&&C(null)};return F?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(l.A,{className:"w-8 h-8 text-green-600"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:w("loginSuccess")}),(0,d.jsx)("p",{className:"text-gray-600",children:"Redirecting you now..."})]}):(0,d.jsxs)("div",{className:(0,s.cn)("w-full max-w-md mx-auto",b),children:[t&&(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:w("loginTitle")}),(0,d.jsx)("p",{className:"text-gray-600",children:w("loginSubtitle")})]}),(0,d.jsxs)("form",{onSubmit:J(O),className:"space-y-6",children:[B&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(m.A,{className:"h-5 w-5 text-red-400"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:B})})]})}),(0,d.jsx)(o.FO,{...I("email"),id:"email",type:"email",label:w("email"),placeholder:"your@email.com",error:K.email?.message,required:!0,autoComplete:"email",onChange:a=>{I("email").onChange(a),P()}}),(0,d.jsx)(o.FO,{...I("password"),id:"password",type:"password",label:w("password"),placeholder:"••••••••",error:K.password?.message,required:!0,autoComplete:"current-password",showPasswordToggle:!0,showPassword:D,onPasswordToggle:()=>E(!D),onChange:a=>{I("password").onChange(a),P()}}),(0,d.jsxs)("div",{className:"flex items-center justify-between",children:[(0,d.jsx)(o.Yh,{...I("rememberMe"),id:"rememberMe",children:w("rememberMe")}),v?(0,d.jsx)("button",{type:"button",onClick:v,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:w("forgotPassword")}):(0,d.jsx)(j(),{href:`/${a}/forgot-password`,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:w("forgotPassword")})]}),(0,d.jsxs)(p.$,{type:"submit",fullWidth:!0,loading:L,disabled:L,children:[(0,d.jsx)(n.A,{className:"w-4 h-4 mr-2"}),w("signIn")]}),(0,d.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[w("noAccount")," ",u?(0,d.jsx)("button",{type:"button",onClick:u,className:"font-medium text-wine-600 hover:text-wine-500",children:w("signUp")}):(0,d.jsx)(j(),{href:`/${a}/register${y.get("redirect")?`?redirect=${encodeURIComponent(y.get("redirect"))}`:""}`,className:"font-medium text-wine-600 hover:text-wine-500",children:w("signUp")})]})})]})]})}function u({params:{locale:a}}){return(0,d.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,d.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,d.jsx)(t,{locale:a})})})})}},35227:(a,b,c)=>{"use strict";c.d(b,{AuthModalProvider:()=>A,X:()=>B});var d=c(21124),e=c(38301),f=c(46078),g=c(42378),h=c(94842),i=c(44943),j=c(11729);let k=h.bL;h.l9;let l=h.ZL;h.bm;let m=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(h.hJ,{ref:c,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...b}));m.displayName=h.hJ.displayName;let n=e.forwardRef(({className:a,children:b,...c},e)=>(0,d.jsxs)(l,{children:[(0,d.jsx)(m,{}),(0,d.jsxs)(h.UC,{ref:e,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...c,children:[b,(0,d.jsxs)(h.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,d.jsx)(j.MKb,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));n.displayName=h.UC.displayName;let o=({className:a,...b})=>(0,d.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...b});o.displayName="DialogHeader";let p=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(h.hE,{ref:c,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...b}));p.displayName=h.hE.displayName;let q=e.forwardRef(({className:a,...b},c)=>(0,d.jsx)(h.VY,{ref:c,className:(0,i.cn)("text-sm text-muted-foreground",a),...b}));q.displayName=h.VY.displayName;var r=c(45895),s=c(34627),t=c(57717),u=c(14832),v=c(72570),w=c(69773),x=c(79944);function y({isOpen:a,onClose:b,defaultMode:c="login",locale:h,redirectTo:j,className:l}){let m=(0,f.useTranslations)("Auth"),y=(0,g.useRouter)();(0,g.useSearchParams)();let{user:z}=(0,w.A)(),[A,B]=(0,e.useState)({mode:c,showSuccess:!1}),C=a=>{B(b=>({...b,mode:a,showSuccess:!1}))},D=a=>{a?(B(b=>({...b,showSuccess:!0,successMessage:a})),setTimeout(()=>{b(),j&&y.push(j)},2e3)):(b(),j&&y.push(j))},E=()=>{switch(A.mode){case"login":return m("loginSubtitle");case"register":return m("registerSubtitle");case"forgot-password":return m("forgotPasswordSubtitle");case"reset-password":return m("resetPasswordSubtitle");default:return""}},F="login"!==A.mode&&!A.showSuccess;return(0,d.jsx)(k,{open:a,onOpenChange:()=>{B(a=>({...a,showSuccess:!1})),b()},children:(0,d.jsxs)(n,{className:(0,i.cn)("sm:max-w-md w-full max-h-[90vh] overflow-y-auto","register"===A.mode&&"sm:max-w-lg",l),onPointerDownOutside:a=>{let b=a.target;(b.closest("form")||b.closest("button"))&&a.preventDefault()},children:[(0,d.jsxs)(o,{className:"relative",children:[F&&(0,d.jsxs)(r.$,{variant:"ghost",size:"sm",onClick:()=>C("login"),className:"absolute left-0 top-0 p-1 h-auto w-auto",children:[(0,d.jsx)(x.A,{className:"h-4 w-4"}),(0,d.jsx)("span",{className:"sr-only",children:"Back to login"})]}),(0,d.jsx)(p,{className:(0,i.cn)("text-xl font-semibold text-center",F&&"mr-8"),children:(()=>{switch(A.mode){case"login":return m("loginTitle");case"register":return m("registerTitle");case"forgot-password":return m("forgotPasswordTitle");case"reset-password":return m("resetPasswordTitle");default:return m("authentication")}})()}),E()&&(0,d.jsx)(q,{className:"text-center text-gray-600",children:E()})]}),(0,d.jsx)("div",{className:"mt-6",children:(()=>{if(A.showSuccess&&A.successMessage)return(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:m("success")}),(0,d.jsx)("p",{className:"text-gray-600",children:A.successMessage})]});switch(A.mode){case"login":return(0,d.jsx)(s.Q,{locale:h,redirectTo:j,onSuccess:()=>D(),className:"max-w-none",showHeader:!1,onSwitchToRegister:()=>C("register"),onSwitchToForgotPassword:()=>C("forgot-password")});case"register":return(0,d.jsx)(t.s,{locale:h,redirectTo:j,onSuccess:()=>D(m("accountCreated")),className:"max-w-none",showHeader:!1,onSwitchToLogin:()=>C("login")});case"forgot-password":return(0,d.jsx)(u.F,{locale:h,onSuccess:()=>D(m("resetLinkSent")),className:"max-w-none",showHeader:!1,onBackToLogin:()=>C("login")});case"reset-password":return(0,d.jsx)(v.F,{locale:h,token:A.resetToken,onSuccess:()=>D(m("passwordResetSuccess")),className:"max-w-none",showHeader:!1,onBackToLogin:()=>C("login")});default:return null}})()})]})})}let z=(0,e.createContext)(null);function A({children:a,locale:b}){let[c,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)("login"),[i,j]=(0,e.useState)(),k=()=>{f(!1),j(void 0)};return(0,d.jsxs)(z.Provider,{value:{isOpen:c,mode:g,openModal:(a="login",b)=>{h(a),j(b),f(!0)},closeModal:k,switchMode:a=>{h(a)}},children:[a,(0,d.jsx)(y,{isOpen:c,onClose:k,defaultMode:g,locale:b,redirectTo:i})]})}function B(){let a=(0,e.useContext)(z);if(!a)throw Error("useAuthModal must be used within an AuthModalProvider");return a}},42644:(a,b,c)=>{var d={"./en/common.json":[6845,6845],"./fr/common.json":[85552,5552]};function e(a){if(!c.o(d,a))return Promise.resolve().then(()=>{var b=Error("Cannot find module '"+a+"'");throw b.code="MODULE_NOT_FOUND",b});var b=d[a],e=b[0];return c.e(b[1]).then(()=>c.t(e,19))}e.keys=()=>Object.keys(d),e.id=42644,a.exports=e},43747:(a,b,c)=>{"use strict";c.d(b,{AuthProvider:()=>e});var d=c(97954);let e=(0,d.registerClientReference)(function(){throw Error("Attempted to call AuthProvider() from the server but AuthProvider is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthProvider.tsx","AuthProvider");(0,d.registerClientReference)(function(){throw Error("Attempted to call useAuth() from the server but useAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthProvider.tsx","useAuth"),(0,d.registerClientReference)(function(){throw Error("Attempted to call withAuth() from the server but withAuth is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\auth\\AuthProvider.tsx","withAuth")},43948:(a,b,c)=>{"use strict";c.d(b,{default:()=>q});var d=c(21124),e=c(38301),f=c(3991),g=c.n(f),h=c(42378);let i=[{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"},{code:"fr",name:"Fran\xe7ais",flag:"\uD83C\uDDEB\uD83C\uDDF7"}];function j({currentLocale:a="en",className:b=""}){let[c,f]=(0,e.useState)(!1),g=(0,h.useRouter)(),j=(0,h.usePathname)(),k=i.find(b=>b.code===a)||i[0];return(0,d.jsxs)("div",{className:`relative ${b}`,"data-testid":"language-switcher",children:[(0,d.jsxs)("button",{onClick:a=>{f(!c),a.currentTarget.blur()},className:"flex items-center gap-2 px-3 py-2 text-sm font-medium text-heritage-slate hover:text-heritage-rouge transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50 rounded-sm","aria-label":"Switch language","aria-expanded":c,children:[(0,d.jsx)("span",{children:k.flag}),(0,d.jsx)("span",{className:"hidden sm:block",children:k.name}),(0,d.jsx)("svg",{className:`h-4 w-4 transition-transform ${c?"rotate-180":""}`,fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),c&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("div",{className:"fixed inset-0 z-10",onClick:()=>f(!1)}),(0,d.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-heritage-limestone rounded-lg shadow-lg border border-heritage-limestone-300/30 z-20 backdrop-blur-sm",children:(0,d.jsx)("div",{className:"py-1",children:i.map(b=>(0,d.jsxs)("button",{onClick:a=>{var c=b.code;f(!1);let d=j.split("/");d[1]&&i.some(a=>a.code===d[1])?d[1]=c:d.splice(1,0,c);let e=d.join("/");g.push(e),a.currentTarget.blur()},className:`w-full flex items-center gap-3 px-4 py-2 text-sm text-left hover:bg-heritage-limestone-100/60 transition-colors duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50 rounded-md mx-1 ${a===b.code?"bg-heritage-limestone-100/60 text-heritage-rouge font-medium":"text-heritage-slate"}`,"data-testid":`language-option-${b.code}`,children:[(0,d.jsx)("span",{className:"text-lg",children:b.flag}),(0,d.jsx)("span",{children:b.name}),a===b.code&&(0,d.jsx)("svg",{className:"ml-auto h-4 w-4 text-heritage-golden",fill:"currentColor",viewBox:"0 0 20 20",children:(0,d.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})})]},b.code))})})]})]})}var k=c(35227),l=c(69773),m=c(26691),n=c(44943);let o=(0,m.F)("inline-block transition-colors",{variants:{size:{sm:"h-8 w-auto",md:"h-12 w-auto",lg:"h-16 w-auto",xl:"h-24 w-auto"},variant:{default:"[&_.logo-text]:fill-heritage-slate [&_.logo-accent]:fill-heritage-golden",light:"[&_.logo-text]:fill-heritage-limestone-100 [&_.logo-accent]:fill-heritage-golden-200",heritage:"[&_.logo-text]:fill-heritage-rouge [&_.logo-accent]:fill-heritage-golden",monochrome:"[&_.logo-text]:fill-current [&_.logo-accent]:fill-current"}},defaultVariants:{size:"md",variant:"default"}}),p=e.forwardRef(({className:a,size:b,variant:c,inline:e=!1,alt:f="Domaine Vallot",...g},h)=>(0,d.jsxs)("svg",{ref:h,className:(0,n.cn)(o({size:b,variant:c,className:a})),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 769 229",role:"img","aria-label":f,style:{display:e?"inline-block":"block"},...g,children:[(0,d.jsx)("path",{className:"logo-text",d:"M91.0862 111.374C107.228 109.436 121.907 120.891 123.946 137.017C125.984 153.144 114.618 167.89 98.501 170.028C82.2426 172.185 67.3351 160.699 65.2785 144.431C63.222 128.163 74.8024 113.33 91.0862 111.374ZM98.2201 166.55C103.07 165.009 106.614 162.001 108.942 157.463C113.344 148.884 113.821 137.226 110.864 128.128C109.235 123.117 106.278 118.672 101.486 116.214C98.0324 114.442 94.8408 114.549 91.0716 114.554C85.9534 116.25 82.2927 119.213 79.8341 124.091C75.5753 132.54 75.4465 145.156 78.4223 154.04C80.0282 158.835 83.0945 163.136 87.7133 165.414C91.2037 167.136 94.4801 167.077 98.2201 166.55Z"}),(0,d.jsx)("path",{className:"logo-text",d:"M131.478 111.87C135.391 111.535 140.562 112.043 144.24 113.438C146.491 114.293 148.057 115.494 149.487 117.431C152.294 121.234 154.053 126.367 155.977 130.679L167.41 156.681C170.705 147.107 174.721 137.756 178.565 128.391C180.744 123.084 182.631 117.593 185.124 112.427C190.077 112.314 197.207 111.348 201.884 112.782C202.47 113.372 202.494 113.558 202.596 114.384C201.382 116.454 197.297 116.061 195.473 117.987C194.955 118.535 194.601 119.283 194.49 120.027C193.903 123.953 194.494 128.69 194.492 132.715C194.485 141.73 194.154 150.847 194.514 159.85C194.562 161.054 194.568 162.646 195.536 163.511C195.578 163.548 195.62 163.583 195.662 163.619C197.739 165.441 201.156 165.034 202.839 167.302L202.633 168.25C202.061 168.838 201.785 169.15 200.927 169.253C198.595 169.534 195.573 169.011 193.134 168.996C188.882 168.97 184.431 169.488 180.209 169.131C179.226 169.047 178.276 168.925 177.459 168.326L177.308 167.173C178.639 164.543 182.276 165.894 184.19 163.888C186.605 161.357 185.482 140.508 185.483 136.368L185.544 122.303C182.49 128.835 168.61 167.998 165.132 169.8C165.081 169.783 165.029 169.768 164.979 169.75C163.687 169.289 162.499 167.004 161.869 165.847C159.544 161.584 157.767 156.829 155.797 152.384L142.363 121.74C143.047 128.828 141.693 159.646 143.817 163.26C144.941 165.173 146.973 165.227 148.9 165.762C149.921 166.046 150.987 166.478 151.524 167.444L151.089 168.296C150.608 168.596 150.059 168.938 149.495 169.04C148.273 169.262 132.44 169.412 131.794 169.229C131.568 169.165 131.144 168.771 130.933 168.622C130.527 167.674 130.389 167.459 130.602 166.451C132.02 165.035 134.709 165.458 136.447 164.488C137.282 164.022 137.813 163.413 138.049 162.479C138.944 158.936 138.952 124.95 138.329 120.435C138.157 119.19 137.54 118.14 136.9 117.078C135.258 116.546 133.533 116.132 131.922 115.533C130.895 115.151 130.499 114.735 130.062 113.777C130.397 112.809 130.716 112.56 131.478 111.87Z"}),(0,d.jsx)("path",{className:"logo-text",d:"M224.913 111.838L226.158 111.869C230.012 111.977 234.146 112.025 237.365 114.455C241.825 117.821 250.382 142.043 252.999 148.723C255.13 154.167 256.994 160.692 261.06 164.992C261.993 165.161 262.931 165.333 263.849 165.569C264.502 165.737 264.945 165.999 265.287 166.598C265.742 167.395 265.723 167.605 265.477 168.444C265.173 168.686 264.853 168.91 264.487 169.048C264.224 169.147 246.507 169.31 244.778 169.22C243.704 169.164 242.781 169.013 241.794 168.563C241.257 167.76 241.322 167.675 241.485 166.726C242.529 165.539 244.419 165.482 245.921 164.99C246.932 164.66 247.897 164.09 248.363 163.088C249.456 160.734 245.418 153.592 244.438 151.044L237.215 150.993L222.448 150.959C221.064 154.353 219.173 158.141 218.594 161.772C218.41 162.922 218.382 163.876 219.094 164.855C220.545 165.692 223.299 165.259 224.995 165.446C226.008 165.558 226.431 165.812 227.057 166.566C227.082 167.306 227.175 168.014 226.749 168.659C226.529 168.991 225.631 169.166 225.26 169.224C222.79 169.609 220.121 168.899 217.633 168.843C214.648 168.775 207.938 170.281 205.536 168.475C205.29 167.481 205.218 167.282 205.597 166.329C207.007 165.283 208.634 165.702 210.173 164.999C211.19 164.535 211.926 163.756 212.499 162.816C215.578 157.765 217.521 151.726 219.822 146.285C223.028 138.702 226.52 131.19 229.489 123.514C230.071 122.01 231.209 119.51 230.465 117.97C229.604 116.189 227.123 116.076 225.485 115.512C224.561 115.194 224.203 114.864 223.785 114.015C223.861 113.052 224.303 112.556 224.913 111.838ZM223.943 147.227L233.219 147.259L242.749 147.213C241.576 144.256 234.584 125.171 233.513 124.436C230.079 131.912 227.256 139.685 223.943 147.227Z"}),(0,d.jsx)("path",{className:"logo-text",d:"M302.253 111.943C306.746 111.267 313.184 112.074 317.084 114.504C322.867 118.107 337.942 139.96 343.199 146.646C344.647 148.487 346.24 151.716 348.067 153.026C348.645 152.426 348.689 151.639 348.733 150.818C348.933 147.119 348.757 119.578 347.613 118.091C345.784 115.714 342.051 116.65 340.296 114.678C340.268 114.428 340.148 113.932 340.274 113.729C340.754 112.957 341.65 112.706 342.492 112.523C344.725 112.038 358.985 111.822 360.555 112.901C361.087 113.266 361.068 113.486 361.187 114.1C359.827 117.543 355.412 114.946 353.883 118.106C352.107 121.775 352.743 150.64 352.81 156.732C352.844 159.738 353.76 167.073 351.848 169.255C350.781 169.7 350.005 169.448 348.943 169.167C344.363 164.978 340.744 158.769 336.99 153.795L322.548 134.441C319.52 130.378 316.308 126.395 313.595 122.111C314.669 131.345 314.002 141.434 313.98 150.765C313.972 154.06 313.419 158.545 314.342 161.702C315.454 165.502 318.794 165.043 321.642 166.579C322.042 167.483 321.936 167.6 321.634 168.54C321.349 168.747 321.053 168.906 320.711 169.003C320.072 169.185 319.324 169.22 318.664 169.222C316.132 169.231 313.612 168.869 311.071 168.898C308.88 168.924 306.66 169.368 304.477 169.249C303.632 169.203 302.926 169.028 302.17 168.636C301.566 167.844 301.544 167.682 301.516 166.691C302.908 164.98 305.663 165.653 307.498 164.509C308.472 163.902 308.891 163.091 309.124 162C310.291 156.554 309.348 146.936 309.365 141.005C309.382 135.079 309.861 129.056 309.592 123.143C309.524 121.665 309.457 119.883 308.823 118.517C307.555 115.789 302.916 116.465 301.32 114.01C301.343 113.068 301.654 112.648 302.253 111.943Z"}),(0,d.jsx)("path",{className:"logo-text",d:"M368.404 112.232C376.375 112.383 384.347 112.449 392.32 112.43C397.836 112.405 403.976 111.863 409.426 112.697C410.081 113.228 410.319 113.596 410.473 114.45C411.083 117.839 411.825 125.655 409.847 128.389C409.334 128.692 408.987 129.006 408.38 129.001C404.335 128.965 405.247 120.903 402.09 117.834C398.886 114.72 389.21 115.925 384.8 116.009C384.902 123.61 384.848 131.219 384.87 138.82C388.194 138.742 399.04 137.677 401.537 139.215C402.168 140.034 402.391 140.254 402.48 141.281C402.37 141.461 402.253 141.625 402.098 141.771C400.097 143.65 387.84 142.766 384.806 142.734L384.892 161.022C385.153 162.115 385.565 163.316 386.438 164.077C389.084 166.385 395.836 165.799 399.144 165.507C409.281 164.613 405.758 158.471 409.264 154.598C410.033 153.748 410.564 153.655 411.629 153.576C412.286 153.842 412.757 154.107 413.129 154.733C414.707 157.386 413.3 163.317 412.558 166.2C412.331 167.081 412.004 168.175 411.155 168.627C410.34 169.062 370.929 169.508 368.853 168.838C368.077 168.588 367.923 167.96 367.615 167.293C368.403 164.776 373.112 165.638 374.891 163.588C375.366 162.24 375.54 160.902 375.612 159.479C375.909 153.601 375.462 147.565 375.497 141.66C375.538 134.732 376.281 127.113 375.439 120.257C375.319 119.276 375.207 117.96 374.361 117.322C374.321 117.292 374.28 117.264 374.24 117.235C372.252 115.778 369.241 116.669 367.641 114.744C367.549 113.673 367.842 113.128 368.404 112.232Z"}),(0,d.jsx)("path",{className:"logo-text",d:"M269.432 112.24C273.586 112.326 291.468 111.674 293.89 112.99L293.959 114.357C292.66 116.817 290.557 115.735 288.415 116.706C287.627 117.064 286.636 118.023 286.344 118.855C285.669 120.776 285.384 156.015 285.635 159.797C285.692 160.642 285.948 161.495 286.334 162.247C287.543 164.608 289.929 165.208 292.241 165.941C293.178 166.239 293.573 166.469 294.016 167.321C293.776 168.44 293.504 168.592 292.653 169.362C288.857 169.167 271.801 169.483 269.519 168.717C268.953 168.527 268.856 167.979 268.601 167.461C269.271 165.063 273.928 165.371 275.776 163.565C276.583 162.104 276.838 160.196 276.98 158.556C277.438 153.299 276.982 147.838 276.991 142.557C277.002 136.199 277.453 129.644 276.967 123.306C276.856 121.849 276.687 118.639 275.482 117.648C275.441 117.614 275.399 117.583 275.358 117.55C273.369 115.955 270.317 116.565 268.642 114.685C268.646 113.561 268.887 113.205 269.432 112.24Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M508.613 111.918C510.338 111.768 512.061 111.797 513.787 111.91C516.751 112.105 519.955 112.89 522.129 115.048C526.133 119.021 535.449 144.527 538.033 151.105C539.466 154.752 540.741 158.926 542.874 162.21C545.503 166.257 547.795 164.443 549.61 166.518C549.839 167.474 549.831 167.693 549.56 168.639C548.749 169.119 547.907 169.223 546.984 169.275C544.193 169.432 541.322 169.071 538.513 169.082C534.546 169.097 530.138 169.653 526.242 169.206C525.457 168.778 525.209 168.3 524.837 167.505C525.691 164.732 530.77 165.87 532.433 163.3C532.919 159.912 529.444 154.258 528.264 150.916C526.403 151.184 524.418 151.092 522.536 151.123C517.233 151.142 511.768 151.435 506.492 150.898C504.429 155.604 502.773 159.738 502.514 164.937C505.728 165.459 508.057 165.229 511.189 166.552L511.512 167.776C511.434 167.846 511.341 167.938 511.249 167.996C508.933 169.457 492.624 169.652 489.798 169.005C489.141 168.378 489.095 168.28 489.05 167.373C490.34 164.451 493.027 165.873 495.133 164.225C497.896 162.065 511.537 128.328 513.323 123.38C513.913 121.744 514.385 120.103 514.581 118.369C513.167 115.513 509.763 116.454 507.818 114.454C507.662 113.408 508.095 112.775 508.613 111.918ZM508.047 147.214L517.517 147.18L526.75 147.134C525.22 143.549 518.764 125.898 517.494 124.49C514.219 131.919 510.912 139.631 508.047 147.214Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M439.2 111.884C443.12 111.95 447.237 112.033 450.752 114C452.748 115.117 453.936 116.763 455.054 118.726C457.902 123.725 459.525 129.501 461.533 134.875C464.245 142.129 467.308 149.427 469.424 156.877C471.277 151.111 482.16 121.213 482.24 118.493C482.337 115.155 477.213 116.763 475.472 114.879C475.383 114.048 475.522 113.668 475.956 112.961C476.531 112.633 477.117 112.418 477.775 112.329C479.56 112.088 491.985 112.063 493.782 112.252C494.826 112.362 496.092 112.607 496.931 113.264C497.458 113.677 497.463 113.798 497.529 114.447C497.45 114.542 497.373 114.637 497.29 114.728C495.934 116.236 493.984 116.106 492.107 116.223C492.077 116.234 492.048 116.244 492.019 116.255C490.211 116.966 489.087 117.711 487.955 119.319C483.077 126.243 471.36 167.764 468.339 169.859C467.617 170.36 466.881 170.604 466.005 170.398C463.306 169.761 461.871 163.491 461.098 161.127C458.767 153.997 455.941 146.99 453.396 139.923C451.149 133.686 448.93 125.153 445.544 119.688C443.56 116.483 439.318 116.639 437.732 113.891C438.01 112.808 438.379 112.596 439.2 111.884Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M604.487 112.166C608.197 112.246 627.382 111.671 629.197 113.152C629.348 114.136 629.318 114.346 628.959 115.276C627.921 116.194 626.396 116.062 625.097 116.31C623.935 116.532 622.799 116.894 622.141 117.963C620.634 120.413 620.928 158.617 621.852 162.866C622.027 163.67 622.331 164.096 623.022 164.525C626.023 166.387 635.065 165.908 638.443 165.072C643.132 163.913 642.451 159.512 644.484 156.115C645.283 154.779 646.03 153.904 647.544 153.52C648.655 153.741 649.185 154.067 649.962 154.886C650.299 155.835 650.34 156.021 650.136 157.002C649.733 160.14 649.578 166.415 647.438 168.767C641.451 169.658 634.682 169.021 628.586 169.018C620.74 169.016 612.857 169.353 605.02 169.123C604.317 168.675 604.081 168.327 603.773 167.558C604.688 164.971 608.719 165.427 610.705 163.938C611.559 163.298 611.707 161.75 611.798 160.756C612.265 155.641 612.794 120.632 611.033 117.977C609.452 115.594 605.732 116.935 604.173 115.055C603.908 113.841 604.14 113.331 604.487 112.166Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M553.338 112.237C557.712 112.048 574.727 111.746 577.888 112.821L578.109 113.91C577.045 117.003 572.855 115.638 570.905 117.998C570.214 118.835 570.089 120.039 569.994 121.084C569.399 127.615 569.88 134.559 569.902 141.13C569.924 147.581 569.541 154.244 569.976 160.666C570.071 162.064 570.429 163.491 571.561 164.422C573.883 166.33 581.431 165.693 584.495 165.376C593.623 164.432 589.887 159.877 594.012 154.858C594.863 153.823 595.599 153.309 596.94 153.183C597.66 153.475 598.036 153.964 598.44 154.603C599.422 156.159 599.189 157.077 598.805 158.782C598.488 161.022 598.331 163.751 597.642 165.886C597.275 167.02 596.647 168.053 595.54 168.582C594.759 168.955 593.85 169.107 592.99 169.141C589.32 169.287 554.397 169.259 553.487 168.906C552.835 168.652 552.7 168.1 552.417 167.524C553.282 165.075 558.108 165.272 560.046 163.068C560.549 161.96 560.652 160.823 560.711 159.622C561 153.77 560.58 147.764 560.599 141.892C560.62 135.22 561.118 128.276 560.588 121.636C560.496 120.477 560.455 118.232 559.482 117.438C559.444 117.407 559.405 117.378 559.367 117.348C557.378 115.757 554.407 116.692 552.538 114.804C552.526 113.587 552.736 113.271 553.338 112.237Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M739.704 115.486C737.811 115.528 735.919 115.589 734.027 115.671C724.36 116.141 728.465 124.09 723.789 128.866C723.109 129.56 722.694 129.607 721.775 129.615C721.342 129.394 720.936 129.15 720.625 128.767C719.02 126.792 719.743 118.293 720.06 115.393C720.164 114.444 720.257 113.268 721.048 112.634C724.26 112.176 727.578 112.439 730.819 112.443C736.381 112.404 741.943 112.407 747.505 112.453C753.657 112.482 760.001 111.991 766.125 112.402C767.135 112.47 768.075 112.786 769 113.18L769 128.649C768.244 128.92 767.225 129.293 766.429 129.261C761.837 129.073 764.103 121.674 760.78 118.287C757.747 115.195 753.027 115.647 749.075 115.638C749.377 119.652 749.157 123.834 749.156 127.866L749.138 150.562C749.13 153.633 748.77 156.885 749.022 159.931C749.103 160.913 749.353 161.942 749.861 162.793C751.505 165.546 755.015 164.585 756.881 166.788C756.98 167.644 756.995 168.226 756.677 169.034C752.026 169.899 745.395 169.123 740.554 169.109C738.415 169.103 736.201 169.418 734.088 169.316C733.464 169.285 732.899 169.227 732.371 168.863C731.9 168.538 731.939 168.085 731.833 167.555C732.799 164.535 736.465 165.896 738.492 163.847C739.036 163.293 739.388 162.58 739.496 161.811C740.159 157.216 739.682 151.973 739.675 147.303C739.604 136.698 739.613 126.092 739.704 115.486Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M683.525 111.07C699.901 110.535 713.608 123.376 714.137 139.749C714.666 156.121 701.817 169.821 685.441 170.343C669.074 170.866 655.38 158.027 654.851 141.664C654.323 125.301 667.158 111.605 683.525 111.07ZM687.946 166.584C693.099 164.858 696.645 161.579 699.051 156.718C702.996 148.746 703.544 136.538 700.689 128.102C699.004 123.119 695.781 118.35 690.957 115.97C687.68 114.354 684.376 114.246 680.806 114.632C675.19 116.753 671.808 119.885 669.283 125.423C665.5 133.72 665.281 145.891 668.526 154.447C670.303 159.134 673.374 163.463 678.071 165.548C681.234 166.952 684.556 167.042 687.946 166.584Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M358.222 18.79L363.141 19.6679C364.812 21.3996 367.868 23.9499 368.547 26.285C369.086 28.1405 368.366 30.2196 367.42 31.8248C365.908 34.3899 364.532 35.8592 361.642 36.6237C361.463 36.6712 361.287 36.7076 361.104 36.7275C359.205 36.9333 356.704 35.9669 355.228 34.7756C352.123 32.2692 351.623 28.9753 351.256 25.2735C352.829 22.5487 355.473 20.2571 358.222 18.79Z"}),(0,d.jsx)("path",{className:"logo-accent",d:"M312.293 87.162C313.687 87.1062 314.986 87.1158 316.3 87.6427C317.634 88.1772 318.798 89.1417 319.346 90.4956C319.889 91.8344 319.752 93.2133 319.165 94.5044C318.194 96.6378 315.959 97.4913 313.906 98.2469C312.036 98.2409 310.134 97.8917 308.498 96.949C307.259 96.2354 306.196 95.0497 305.852 93.6396C305.551 92.4046 305.828 91.1118 306.526 90.0605C307.94 87.9322 309.959 87.6561 312.293 87.162Z"}),(0,d.jsxs)("g",{className:"logo-accent",children:[(0,d.jsx)("path",{d:"M412.624 15.4264C413.553 15.2956 414.456 15.1932 415.386 15.3968C418.029 15.9761 419.32 18.1556 420.648 20.2851C420.538 21.7822 420.471 23.571 419.791 24.9378C418.78 26.9731 416.612 27.4878 414.635 28.1706C413.825 28.5345 413.316 28.7186 412.43 28.5618C410.861 25.7292 409.212 22.9115 407.904 19.9469C408.686 17.7402 410.754 16.6263 412.624 15.4264Z"}),(0,d.jsx)("path",{d:"M228.361 67.9418C229.129 68.0181 229.965 68.1956 230.683 68.4859C232.126 69.0697 233.579 70.4471 234.159 71.8811C234.729 73.2905 234.592 74.8526 233.961 76.2174C232.995 78.3069 231.252 79.0601 229.238 79.8296C228.604 79.8468 227.815 79.6399 227.204 79.4605C225.9 79.0809 224.807 78.1873 224.177 76.9852C223.391 75.4774 223.502 73.8245 223.98 72.2475C224.658 70.0103 226.428 68.9809 228.361 67.9418Z"}),(0,d.jsx)("path",{d:"M331.745 28.854C332.761 28.7425 333.955 28.8471 334.952 29.0705C336.573 29.4337 338.249 30.8027 339.106 32.2156C339.857 33.4534 340.11 34.8869 339.725 36.2942C339.194 38.237 338.067 39.0219 336.442 39.9904C335.714 39.9654 334.96 39.9396 334.243 39.8063C332.305 39.4462 330.434 38.1172 329.344 36.4878C328.552 35.3028 328.247 33.8772 328.549 32.478C328.956 30.5929 330.252 29.8562 331.745 28.854Z"}),(0,d.jsx)("path",{d:"M257.155 46.1246L257.319 46.1095C259.163 45.9502 261.154 46.3262 262.572 47.5998C263.251 48.2092 263.715 49.1091 263.746 50.0282C263.804 51.7049 262.582 52.7806 261.502 53.8794C259.4 53.4963 256.623 53.1159 255.216 51.272C254.76 50.675 254.595 50.0502 254.675 49.3112C254.828 47.9018 256.134 46.9518 257.155 46.1246Z"}),(0,d.jsx)("path",{d:"M145.021 55.0795C145.946 55.1428 147.066 55.1438 147.944 55.4399C148.91 55.7658 149.534 56.7566 149.959 57.6275C150.614 58.971 150.574 60.3115 150.044 61.6862C149.545 62.9816 148.411 63.2668 147.261 63.7919C146.015 63.807 144.733 63.4145 143.799 62.5692C143.035 61.8773 142.676 61.0236 142.643 60.0044C142.572 57.8208 143.635 56.6019 145.021 55.0795Z"}),(0,d.jsx)("path",{d:"M377.389 0L388.816 0C392.522 1.32632 398.839 0.872139 403.125 1.74295C419.266 5.07118 434.572 11.6134 448.131 20.9799C464 31.7277 476.774 46.447 485.178 63.6701C487.058 67.4837 489.197 71.5524 489.969 75.7711C488.083 73.168 486.695 70.1711 484.916 67.478C480.799 61.2443 476.18 54.9393 471.5 49.123C456.843 30.9091 435.605 16.2197 412.413 11.8468C409.846 11.3628 407.222 11.3483 404.626 11.068C402.677 13.2113 400.88 14.5767 398.232 15.7802C397.005 15.5893 395.662 15.394 394.491 14.9747C393.52 14.6271 393.271 14.0613 392.868 13.2029C392.831 11.7794 393.661 10.7608 394.41 9.62286C388.758 9.57704 382.885 10.1985 377.234 10.6144C374.847 10.79 372.115 11.2693 369.758 11.0125C368.898 10.9188 368.028 10.5154 367.247 10.1562C361.54 11.447 355.345 11.9676 349.861 13.935C340.255 17.3819 329.095 25.5572 320.688 31.4702C318.036 33.3354 314.749 35.1833 312.618 37.6246C313.67 38.1864 315.247 38.8764 316.032 39.7824C316.58 40.4152 316.886 41.249 316.791 42.0879C316.525 44.4334 314.134 46.1651 312.458 47.587C311.62 47.1743 310.795 46.7344 310.041 46.1779C308.282 44.8783 308.16 43.6109 307.863 41.5533L307.497 41.5893C303.69 45.0401 302.122 48.7773 299.483 52.9962C298.045 55.2937 296.357 57.434 294.898 59.7187C292.961 62.75 291.293 65.9179 289.207 68.8593C289.842 69.0969 290.467 69.3612 291.08 69.6514C293.224 70.6897 295.895 72.6267 296.667 74.9961C296.971 75.9492 296.875 76.9843 296.403 77.8659C295.374 79.8153 292.853 80.2965 290.908 80.9232C288.877 79.9999 286.733 79.3015 284.632 78.5505C283.143 86.7745 280.427 94.4293 280.51 102.894C276.551 102.791 272.591 102.72 268.631 102.679L268.584 102.207C268.371 99.9946 268.212 97.8115 268.503 95.5974C269.86 85.2475 276.781 67.9895 282.934 59.6385C284.127 58.0201 286.532 57.4006 287.927 55.6901C290.48 52.5612 302.896 37.4398 302.509 33.5643C301.733 33.7888 300.952 33.9943 300.166 34.1808C300.167 34.0267 300.181 33.8806 300.215 33.7295C300.691 31.6114 306.861 26.5478 308.72 24.9441C314.341 20.0952 320.878 15.1233 327.502 11.759C330.511 10.2305 333.81 9.39676 337.008 8.3543C345.991 5.42615 355.002 2.55676 364.419 1.34461C368.441 0.826872 373.666 2.01799 377.292 0.0533615L377.389 0Z"}),(0,d.jsx)("path",{d:"M370.324 229C365.447 227.716 360.371 227.322 355.49 226.05C346.105 223.605 328.096 216.232 320.166 210.675C314.073 206.405 308.744 201.192 303.459 195.992C299.661 192.255 293.825 187.372 291.214 182.838C291.009 182.482 290.892 182.086 290.802 181.688C291.067 181.072 291.086 180.91 291.726 180.665C294.026 179.786 298.781 180.599 301.357 180.645C303.384 183.228 306.921 188.717 309.51 190.35C310.45 190.942 311.984 190.597 312.956 191.466C314.469 192.819 315.314 194.921 316.861 196.278C332.902 210.353 351.915 219.353 373.187 221.93C395.067 224.58 414.175 222.291 434.354 213.273C439.759 210.858 444.94 207.152 450.461 205.178C438.596 217.637 408.609 224.489 392 227.886C388.877 228.525 385.658 228.16 382.565 229L370.324 229Z"})]}),(0,d.jsx)("path",{className:"logo-text",d:"M0 112.557C4.96226 111.6 30.3409 112.355 35.5431 113.5C39.0514 114.255 42.3778 115.69 45.3347 117.723C51.5374 121.949 55.4265 128.055 56.8053 135.416C58.145 142.568 57.022 150.238 52.8269 156.288C48.3634 162.724 40.9873 166.883 33.3362 168.236C29.0826 168.988 3.28082 169.779 0 169.012L0 165.873C1.9577 165.193 4.22065 165.807 6.05225 164.586C7.06184 163.913 7.37514 163.196 7.62108 162.051C8.58522 157.563 9.03696 120.956 7.14492 118.178C5.6808 116.029 2.33977 115.89 0 115.485L0 112.557ZM40.7305 160.14C45.7307 153.434 47.1881 144.427 45.9936 136.242C45.0745 129.945 42.2809 123.597 37.0469 119.736C30.4439 114.864 24.7821 116.284 17.3178 115.55L17.2642 144.6C17.2576 149.733 16.9013 155.162 17.4396 160.259C17.5656 161.452 17.7253 162.908 18.5921 163.804C20.3372 165.606 23.7778 165.734 26.1094 165.713C31.9301 165.66 36.438 164.072 40.7305 160.14Z"})]}));function q({currentLocale:a="en",cartItemCount:b=0}){let{user:c,signOut:f,loading:i,isAdmin:k}=(0,l.A)(),m=!!c,o=c?.email?.split("@")[0]||"",[q,s]=(0,e.useState)(!1),[t,u]=(0,e.useState)(!1),v=(0,e.useRef)(null),w=(0,e.useRef)(null),x=(0,e.useRef)(null),y=(0,h.usePathname)(),{isScrolled:z,isVisible:A,scrollDirection:B}=function(a={}){let{threshold:b=50,hideOnDown:c=!0,throttleMs:d=16}=a,[f,g]=(0,e.useState)({isScrolled:!1,scrollY:0,scrollDirection:null,isVisible:!0}),h=(0,e.useRef)(0),i=(0,e.useRef)(null),j=(0,e.useRef)(!1),k=(0,e.useRef)(null),l=(0,e.useCallback)(()=>{let a=window.pageYOffset||document.documentElement.scrollTop,d=null;a>h.current?d="down":a<h.current&&(d="up");let e=d!==i.current;i.current=d;let f=!0;c&&"down"===d&&a>b?f=!1:("up"===d||a<=b)&&(f=!0),g(c=>{let g={isScrolled:a>b,scrollY:a,scrollDirection:d,isVisible:f};return g.isScrolled!==c.isScrolled||g.scrollY!==c.scrollY||e&&g.scrollDirection!==c.scrollDirection||g.isVisible!==c.isVisible?g:c}),h.current=a},[b,c]);return(0,e.useCallback)(()=>{j.current||(j.current=!0,k.current=requestAnimationFrame(()=>{l(),setTimeout(()=>{j.current=!1},d)}))},[l,d]),f}({threshold:50,hideOnDown:!0}),C=b=>b===`/${a}`?y===`/${a}`||y===`/${a}/`:y.startsWith(b),D=()=>{s(!1),w.current?.focus()},E=async()=>{try{await f(),u(!1)}catch(a){console.error("Logout error:",a)}},F=a=>a>99?"99+":a.toString(),G=[{href:`/${a}`,label:"fr"===a?"Accueil":"Home"},{href:`/${a}/products`,label:"fr"===a?"Produits":"Products",testId:"nav-products"},{href:`/${a}/about`,label:"fr"===a?"\xc0 propos":"About"},{href:`/${a}/contact`,label:"Contact"}];return(0,d.jsx)("nav",{className:(0,n.cn)("sticky top-0 z-50 border-b transition-all duration-300 ease-in-out",z?"bg-heritage-limestone/90 backdrop-blur-md shadow-sm border-heritage-limestone-300/20":"bg-heritage-limestone border-heritage-limestone-300",A?"translate-y-0":"-translate-y-full","focus-within:translate-y-0"),children:(0,d.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,d.jsxs)("div",{className:"flex justify-between items-center h-20",children:[(0,d.jsx)("div",{className:"flex-shrink-0",children:(0,d.jsx)(g(),{href:`/${a}`,className:(0,n.cn)("transition-all duration-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50 rounded-sm","hover:scale-105",z?"scale-95":"scale-100"),"aria-label":"Domaine Vallot - Return to homepage",children:(0,d.jsx)(p,{size:"md",variant:"heritage"})})}),(0,d.jsx)("nav",{className:"hidden md:flex items-center","data-testid":"desktop-nav",children:(0,d.jsx)("div",{className:"flex items-center space-x-12",children:G.map((a,b)=>{let c=C(a.href);return(0,d.jsx)(g(),{href:a.href,className:(0,n.cn)("relative font-serif text-lg tracking-wide","transition-all duration-300 ease-out","focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50 rounded-sm","after:absolute after:bottom-0 after:left-1/2 after:-translate-x-1/2 after:h-0.5 after:bg-heritage-golden","after:transition-all after:duration-300","px-2 py-3",c?"text-heritage-rouge after:w-full":"text-heritage-slate hover:text-heritage-rouge after:w-0 hover:after:w-full"),"data-testid":a.testId,"aria-current":c?"page":void 0,children:(0,d.jsx)("span",{className:"relative z-10",children:a.label})},a.href)})})}),(0,d.jsxs)("div",{className:"hidden md:flex items-center",children:[(0,d.jsx)("div",{className:"flex items-center space-x-1 mr-6",children:(0,d.jsx)(j,{currentLocale:a})}),(0,d.jsxs)("div",{className:"flex items-center space-x-3 border-l border-heritage-limestone-300/30 pl-6",children:[(0,d.jsx)("div",{className:"relative","data-testid":"account-menu",children:m?(0,d.jsxs)("div",{className:"relative",ref:x,children:[(0,d.jsxs)("button",{onClick:()=>u(!t),className:(0,n.cn)("flex items-center space-x-2 px-3 py-2 rounded-md","text-heritage-slate hover:text-heritage-rouge hover:bg-heritage-limestone-100/50","transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2"),"aria-label":"User menu","aria-expanded":t,children:[(0,d.jsxs)("span",{className:"text-sm font-medium",children:["Hello, ",o,k&&(0,d.jsx)("span",{className:"ml-1 text-amber-600 text-xs",children:"\uD83D\uDC51"})]}),(0,d.jsx)("svg",{className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})]}),t&&(0,d.jsx)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-md shadow-lg ring-1 ring-black ring-opacity-5 z-50",children:(0,d.jsxs)("div",{className:"py-1",children:[k&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)(g(),{href:`/${a}/admin`,className:"block px-4 py-2 text-sm text-amber-700 hover:bg-amber-50 transition-colors font-medium",onClick:()=>u(!1),children:["\uD83D\uDD27 ","fr"===a?"Administration":"Admin Panel"]}),(0,d.jsx)("hr",{className:"my-1"})]}),(0,d.jsx)(g(),{href:`/${a}/account`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>u(!1),children:"fr"===a?"Mon Compte":"My Account"}),(0,d.jsx)(g(),{href:`/${a}/orders`,className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",onClick:()=>u(!1),children:"fr"===a?"Mes Commandes":"My Orders"}),(0,d.jsx)("hr",{className:"my-1"}),(0,d.jsx)("button",{onClick:E,className:"block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 transition-colors",children:"fr"===a?"D\xe9connexion":"Logout"})]})})]}):(0,d.jsx)(r,{locale:a})}),(0,d.jsxs)(g(),{href:`/${a}/cart`,className:(0,n.cn)("relative flex items-center justify-center w-10 h-10 rounded-full","text-heritage-slate hover:text-heritage-rouge hover:bg-heritage-limestone-100/50","transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2"),"data-testid":"cart-link","aria-label":`Shopping cart ${b>0?`with ${b} items`:"(empty)"}`,children:[(0,d.jsxs)("svg",{className:"h-5 w-5 mx-auto my-auto",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10l.938 10.314A2 2 0 0116.938 16H7.062a2 2 0 01-1.937-1.686L7 4z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9v2m3-2v2m3-2v2"})]}),b>0&&(0,d.jsx)("span",{className:(0,n.cn)("absolute -top-1 -right-1 bg-heritage-rouge text-heritage-limestone text-xs rounded-full flex items-center justify-center font-bold shadow-lg","transform transition-all duration-200 animate-pulse",b>99?"h-6 w-8 px-1":"h-5 w-5"),"data-testid":"cart-badge",children:F(b)})]})]})]}),(0,d.jsx)("div",{className:"md:hidden",children:(0,d.jsx)("button",{ref:w,onClick:()=>s(!q),className:"text-heritage-slate hover:text-heritage-rouge transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2 rounded-sm p-1","data-testid":"mobile-nav-trigger","aria-label":q?"Close menu":"Open menu","aria-expanded":q,"aria-controls":"mobile-menu",children:(0,d.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:q?(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"}):(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),q&&(0,d.jsxs)("div",{ref:v,id:"mobile-menu",className:"md:hidden border-t border-heritage-limestone-300/30 bg-heritage-limestone/98 backdrop-blur-md shadow-lg","data-testid":"mobile-nav-menu",role:"menu","aria-label":"Mobile navigation",children:[(0,d.jsxs)("div",{className:"px-4 pt-4 pb-6 space-y-3",children:[G.map(a=>{let b=C(a.href);return(0,d.jsx)(g(),{href:a.href,className:(0,n.cn)("block px-4 py-4 text-lg font-serif","hover:bg-heritage-limestone-100/60 rounded-lg transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2","min-h-[48px] flex items-center border-l-4",b?"text-heritage-rouge border-heritage-rouge bg-heritage-limestone-100/40":"text-heritage-slate hover:text-heritage-rouge border-transparent hover:border-heritage-golden/30"),"data-testid":`mobile-${a.testId||a.label.toLowerCase()}`,onClick:D,"aria-current":b?"page":void 0,children:a.label},a.href)}),(0,d.jsx)("div",{className:"pt-4 border-t border-heritage-limestone-300/30",children:m?(0,d.jsxs)("div",{className:"space-y-3",children:[(0,d.jsx)("div",{className:"px-4 py-2",children:(0,d.jsxs)("p",{className:"text-sm text-heritage-slate font-medium",children:["Hello, ",o]})}),(0,d.jsxs)(g(),{href:`/${a}/account`,className:(0,n.cn)("flex items-center px-4 py-4 text-base font-serif text-heritage-slate hover:text-heritage-rouge","hover:bg-heritage-limestone-100/60 rounded-lg transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2","min-h-[48px] border-l-4 border-transparent hover:border-heritage-golden/30"),"data-testid":"mobile-nav-account",onClick:D,children:[(0,d.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"fr"===a?"Mon compte":"My Account"]}),(0,d.jsxs)("button",{className:(0,n.cn)("flex items-center px-4 py-4 text-base font-serif text-heritage-slate hover:text-heritage-rouge","hover:bg-heritage-limestone-100/60 rounded-lg transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2","min-h-[48px] border-l-4 border-transparent hover:border-heritage-golden/30 w-full text-left"),"data-testid":"logout-link",children:[(0,d.jsx)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})}),"fr"===a?"D\xe9connexion":"Logout"]})]}):(0,d.jsx)("div",{className:"px-4 py-2",onClick:D,children:(0,d.jsx)(r,{locale:a,mobile:!0})})}),(0,d.jsxs)(g(),{href:`/${a}/cart`,className:(0,n.cn)("flex items-center px-4 py-4 text-base font-serif text-heritage-slate hover:text-heritage-rouge","hover:bg-heritage-limestone-100/60 rounded-lg transition-all duration-200","focus:outline-none focus:ring-2 focus:ring-heritage-golden/50 focus:ring-offset-2","min-h-[48px] border-l-4 border-transparent hover:border-heritage-golden/30"),"data-testid":"mobile-nav-cart",onClick:()=>s(!1),children:[(0,d.jsxs)("svg",{className:"h-5 w-5 mr-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:[(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 4V2a1 1 0 011-1h8a1 1 0 011 1v2m-9 0h10l.938 10.314A2 2 0 0116.938 16H7.062a2 2 0 01-1.937-1.686L7 4z"}),(0,d.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 9v2m3-2v2m3-2v2"})]}),(0,d.jsx)("span",{className:"flex-1",children:"fr"===a?"Panier":"Cart"}),b>0&&(0,d.jsx)("span",{className:(0,n.cn)("bg-heritage-rouge text-heritage-limestone text-xs rounded-full font-bold shadow-lg",b>99?"px-2 py-1 min-w-[2rem]":"px-2.5 py-1"),children:F(b)})]}),(0,d.jsx)("div",{className:"pt-4 border-t border-heritage-limestone-300/30",children:(0,d.jsx)("div",{className:"px-4 py-2",children:(0,d.jsx)(j,{currentLocale:a})})})]}),(0,d.jsx)("button",{onClick:()=>s(!1),className:"hidden","data-testid":"mobile-nav-close",children:"Close"})]})]})})}function r({locale:a,mobile:b=!1}){let{openModal:c}=(0,k.X)(),e=()=>{c("login")};return b?(0,d.jsx)("button",{onClick:a=>{e(),a.currentTarget.blur()},className:(0,n.cn)("w-full px-6 py-3 rounded-full border border-heritage-rouge/20","text-heritage-rouge hover:text-heritage-limestone hover:bg-heritage-rouge","font-medium text-base tracking-wide transition-all duration-300","focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50","hover:border-heritage-rouge hover:shadow-md min-h-[48px]"),"data-testid":"mobile-login-button",children:"fr"===a?"Connexion":"Login"}):(0,d.jsx)("button",{onClick:a=>{e(),a.currentTarget.blur()},className:(0,n.cn)("px-6 py-2.5 rounded-full border border-heritage-slate/20","text-heritage-slate hover:text-heritage-limestone hover:bg-heritage-rouge","font-medium text-sm tracking-wide transition-all duration-300","focus:outline-none focus-visible:ring-2 focus-visible:ring-heritage-golden/50","hover:border-heritage-rouge hover:shadow-sm"),"data-testid":"login-button",children:"fr"===a?"Connexion":"Login"})}p.displayName="DomaineVallotLogo"},44943:(a,b,c)=>{"use strict";c.d(b,{cn:()=>f});var d=c(43249),e=c(58829);function f(...a){return(0,e.QP)((0,d.$)(a))}},45895:(a,b,c)=>{"use strict";c.d(b,{$:()=>h});var d=c(21124),e=c(38301),f=c(89497),g=c(44943);let h=(0,e.forwardRef)(({className:a,variant:b="primary",size:c="md",loading:e=!1,fullWidth:h=!1,leftIcon:i,rightIcon:j,children:k,disabled:l,...m},n)=>(0,d.jsxs)("button",{ref:n,className:(0,g.cn)("inline-flex items-center justify-center font-medium rounded-md","focus:outline-none focus:ring-2 focus:ring-offset-2","transition-colors duration-200","disabled:opacity-50 disabled:cursor-not-allowed",...{primary:["bg-wine-600 text-white shadow-sm","hover:bg-wine-700 focus:ring-wine-500","disabled:hover:bg-wine-600"],secondary:["bg-gray-100 text-gray-900 shadow-sm","hover:bg-gray-200 focus:ring-gray-500","disabled:hover:bg-gray-100"],outline:["border border-gray-300 bg-white text-gray-700 shadow-sm","hover:bg-gray-50 focus:ring-gray-500","disabled:hover:bg-white"],ghost:["text-gray-700","hover:bg-gray-100 focus:ring-gray-500","disabled:hover:bg-transparent"],danger:["bg-red-600 text-white shadow-sm","hover:bg-red-700 focus:ring-red-500","disabled:hover:bg-red-600"]}[b],{sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[c],h?"w-full":"",a),disabled:l||e,...m,children:[e&&(0,d.jsx)(f.A,{className:"w-4 h-4 mr-2 animate-spin"}),!e&&i&&(0,d.jsx)("span",{className:"mr-2",children:i}),k,!e&&j&&(0,d.jsx)("span",{className:"ml-2",children:j})]}));h.displayName="Button"},51472:(a,b,c)=>{"use strict";c.r(b),c.d(b,{default:()=>j,metadata:()=>i});var d=c(75338),e=c(66468),f=c.n(e),g=c(77747),h=c.n(g);c(61135);let i={title:"Domaine Vallot - Boutique Winery",description:"Premium biodynamic wines from France, direct from our family vineyard"};function j({children:a}){return(0,d.jsx)("html",{lang:"en",className:`${f().variable} ${h().variable}`,children:(0,d.jsx)("body",{className:"min-h-screen bg-background font-sans antialiased",children:a})})}},54540:(a,b,c)=>{"use strict";c.d(b,{default:()=>d});let d=(0,c(97954).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Users\\\\olivi\\\\Domaine Vallot\\\\src\\\\components\\\\seo\\\\StructuredData.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Users\\olivi\\Domaine Vallot\\src\\components\\seo\\StructuredData.tsx","default")},54719:(a,b,c)=>{Promise.resolve().then(c.t.bind(c,81170,23)),Promise.resolve().then(c.t.bind(c,23597,23)),Promise.resolve().then(c.t.bind(c,36893,23)),Promise.resolve().then(c.t.bind(c,89748,23)),Promise.resolve().then(c.t.bind(c,6060,23)),Promise.resolve().then(c.t.bind(c,7184,23)),Promise.resolve().then(c.t.bind(c,69576,23)),Promise.resolve().then(c.t.bind(c,73041,23)),Promise.resolve().then(c.t.bind(c,51384,23))},57717:(a,b,c)=>{"use strict";c.d(b,{RegisterPage:()=>x,s:()=>w});var d=c(21124),e=c(38301),f=c(31980),g=c(50937),h=c(46078),i=c(3991),j=c.n(i),k=c(42378),l=c(89710),m=c(48332),n=c(10578),o=c(46681),p=c(74331),q=c(8301),r=c(45895),s=c(92649),t=c(69773),u=c(13896),v=c(44943);function w({locale:a,className:b,redirectTo:c,onSuccess:i,showHeader:w=!0,onSwitchToLogin:x}){let y=(0,h.useTranslations)("Auth"),z=(0,k.useRouter)(),A=(0,k.useSearchParams)(),{signUp:B}=(0,t.A)(),[C,D]=(0,e.useState)(null),E=()=>D(null),[F,G]=(0,e.useState)(!1),[H,I]=(0,e.useState)(!1),[J,K]=(0,e.useState)(!1),[L,M]=(0,e.useState)(!1),[N,O]=(0,e.useState)(!1),P=c||A.get("redirect")||`/${a}`,{register:Q,handleSubmit:R,formState:{errors:S,isSubmitting:T},watch:U,setValue:V,clearErrors:W}=(0,f.mN)({resolver:(0,g.u)(u.zK),defaultValues:{email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phone:"",birthDate:"",preferredLanguage:a,marketingConsent:!1,newsletterConsent:!1,isBusiness:!1,companyName:"",vatNumber:"",termsAccepted:!1,privacyAccepted:!1}}),X=U("isBusiness"),Y=U("birthDate"),Z=async a=>{try{if(E(),W(),!L&&Y){let a=new Date(Y);if(new Date().getFullYear()-a.getFullYear()<18)return void K(!0)}let b=await B(a.email,a.password,{firstName:a.firstName,lastName:a.lastName,phone:a.phone,birthDate:a.birthDate,preferredLanguage:a.preferredLanguage,marketingConsent:a.marketingConsent||!1,newsletterConsent:a.newsletterConsent||!1,isBusiness:a.isBusiness||!1,companyName:a.companyName,vatNumber:a.vatNumber});if(b.error)return void D(b.error);O(!0),setTimeout(()=>{i?i():z.push(P)},2e3)}catch(a){console.error("Registration error:",a)}},$=()=>{C&&E()};return J?(0,d.jsx)("div",{className:(0,v.cn)("w-full max-w-md mx-auto",b),children:(0,d.jsx)(s.D,{onVerified:a=>{a.isValid&&(M(!0),V("birthDate",a.birthDate),K(!1))},onSkip:()=>K(!1),required:!1})}):N?(0,d.jsxs)("div",{className:"text-center py-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(l.A,{className:"w-8 h-8 text-green-600"})}),(0,d.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:y("accountCreated")}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:y("emailVerificationSent")}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting you now..."})]}):(0,d.jsxs)("div",{className:(0,v.cn)("w-full max-w-md mx-auto",b),children:[w&&(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:y("registerTitle")}),(0,d.jsx)("p",{className:"text-gray-600",children:y("registerSubtitle")})]}),(0,d.jsxs)("form",{onSubmit:R(Z),className:"space-y-6",children:[C&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(m.A,{className:"h-5 w-5 text-red-400"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:C})})]})}),(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,d.jsxs)("button",{type:"button",onClick:()=>V("isBusiness",!1),className:(0,v.cn)("p-3 rounded-lg border-2 flex flex-col items-center space-y-2 transition-colors",X?"border-gray-200 hover:border-gray-300":"border-wine-500 bg-wine-50 text-wine-700"),children:[(0,d.jsx)(n.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Personal"})]}),(0,d.jsxs)("button",{type:"button",onClick:()=>V("isBusiness",!0),className:(0,v.cn)("p-3 rounded-lg border-2 flex flex-col items-center space-y-2 transition-colors",X?"border-wine-500 bg-wine-50 text-wine-700":"border-gray-200 hover:border-gray-300"),children:[(0,d.jsx)(o.A,{className:"w-6 h-6"}),(0,d.jsx)("span",{className:"text-sm font-medium",children:"Business"})]})]})}),(0,d.jsx)(q.FO,{...Q("email"),id:"email",type:"email",label:y("email"),placeholder:"your@email.com",error:S.email?.message,required:!0,autoComplete:"email",onChange:a=>{Q("email").onChange(a),$()}}),(0,d.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,d.jsx)(q.FO,{...Q("firstName"),id:"firstName",type:"text",label:y("firstName"),placeholder:"John",error:S.firstName?.message,required:!0,autoComplete:"given-name",onChange:a=>{Q("firstName").onChange(a),$()}}),(0,d.jsx)(q.FO,{...Q("lastName"),id:"lastName",type:"text",label:y("lastName"),placeholder:"Doe",error:S.lastName?.message,required:!0,autoComplete:"family-name",onChange:a=>{Q("lastName").onChange(a),$()}})]}),X&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(q.FO,{...Q("companyName"),id:"companyName",type:"text",label:y("companyName"),placeholder:"Your Company Name",error:S.companyName?.message,required:X,autoComplete:"organization"}),(0,d.jsx)(q.FO,{...Q("vatNumber"),id:"vatNumber",type:"text",label:y("vatNumber"),placeholder:"FR12345678901",error:S.vatNumber?.message,hint:"Format: Country code + VAT number (e.g., FR12345678901)"})]}),(0,d.jsx)(q.FO,{...Q("phone"),id:"phone",type:"tel",label:y("phone"),placeholder:"+33 1 23 45 67 89",error:S.phone?.message,autoComplete:"tel"}),(0,d.jsx)(q.FO,{...Q("birthDate"),id:"birthDate",type:"date",label:y("birthDate"),error:S.birthDate?.message,required:!0,max:new Date(new Date().getFullYear()-16,11,31).toISOString().split("T")[0],min:new Date(new Date().getFullYear()-100,0,1).toISOString().split("T")[0]}),(0,d.jsx)(q.zM,{...Q("preferredLanguage"),label:y("preferredLanguage"),options:[{value:"en",label:y("english")},{value:"fr",label:y("french")}],error:S.preferredLanguage?.message}),(0,d.jsx)(q.FO,{...Q("password"),id:"password",type:"password",label:y("password"),placeholder:"••••••••",error:S.password?.message,required:!0,autoComplete:"new-password",showPasswordToggle:!0,showPassword:F,onPasswordToggle:()=>G(!F),hint:y("passwordRequirements")}),(0,d.jsx)(q.FO,{...Q("confirmPassword"),id:"confirmPassword",type:"password",label:y("confirmPassword"),placeholder:"••••••••",error:S.confirmPassword?.message,required:!0,autoComplete:"new-password",showPasswordToggle:!0,showPassword:H,onPasswordToggle:()=>I(!H)}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(q.Yh,{id:"termsAccepted",checked:U("termsAccepted"),onChange:a=>V("termsAccepted",a),error:S.termsAccepted?.message,children:(0,d.jsxs)("span",{className:"text-sm",children:[y("termsAndPrivacy")," ",(0,d.jsx)(j(),{href:`/${a}/legal/terms`,className:"text-wine-600 hover:text-wine-500",target:"_blank",children:"Terms of Service"})," and ",(0,d.jsx)(j(),{href:`/${a}/legal/privacy`,className:"text-wine-600 hover:text-wine-500",target:"_blank",children:"Privacy Policy"})]})}),(0,d.jsx)(q.Yh,{id:"marketingConsent",checked:U("marketingConsent"),onChange:a=>V("marketingConsent",a),children:(0,d.jsx)("span",{className:"text-sm",children:y("marketingConsent")})})]}),(0,d.jsxs)(r.$,{type:"submit",fullWidth:!0,loading:T,disabled:T,children:[(0,d.jsx)(p.A,{className:"w-4 h-4 mr-2"}),y("createAccount")]}),(0,d.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,d.jsxs)("p",{className:"text-sm text-gray-600",children:[y("hasAccount")," ",x?(0,d.jsx)("button",{type:"button",onClick:x,className:"font-medium text-wine-600 hover:text-wine-500",children:y("signIn")}):(0,d.jsx)(j(),{href:`/${a}/login${A.get("redirect")?`?redirect=${encodeURIComponent(A.get("redirect"))}`:""}`,className:"font-medium text-wine-600 hover:text-wine-500",children:y("signIn")})]})})]})]})}function x({params:{locale:a}}){return(0,d.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,d.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,d.jsx)(w,{locale:a})})})})}},61135:()=>{},69773:(a,b,c)=>{"use strict";c.d(b,{A:()=>j,AuthProvider:()=>i});var d=c(21124),e=c(38301),f=c(42378),g=c(53774);let h=(0,e.createContext)(void 0);function i({children:a}){let[b,c]=(0,e.useState)(null),[i,j]=(0,e.useState)(null),[k,l]=(0,e.useState)(null),[m,n]=(0,e.useState)(!0),[o,p]=(0,e.useState)(!1),q=(0,f.useRouter)();(0,f.usePathname)();let r=(0,g.createClientComponentClient)(),s=async()=>{try{let{data:{session:a},error:b}=await r.auth.getSession();if(b)return void console.error("Session error:",b);l(a),c(a?.user??null),a?.user?(await t(a.user.id),await u(a.user.id)):(j(null),p(!1))}catch(a){console.error("Session fetch error:",a)}finally{n(!1)}},t=async a=>{try{let{data:b,error:c}=await r.from("customers").select("*").eq("id",a).single();if(c)return void console.error("Customer profile error:",c);if(b){let a={id:b.id,email:b.email,firstName:b.first_name||"",lastName:b.last_name||"",phone:b.phone||"",birthDate:b.birth_date||"",preferredLanguage:b.preferred_language||"en",marketingConsent:b.marketing_consent||!1,newsletterConsent:b.newsletter_consent||!1,ageVerified:b.age_verified||!1,ageVerifiedAt:b.age_verified_at||"",ageVerificationMethod:b.age_verification_method||void 0,isBusiness:b.is_business||!1,vatNumber:b.vat_number||"",vatValidated:b.vat_validated||!1,vatValidatedAt:b.vat_validated_at||"",companyName:b.company_name||"",totalOrders:b.total_orders||0,totalSpentEur:b.total_spent_eur||0,createdAt:b.created_at,updatedAt:b.updated_at};j(a)}}catch(a){console.error("Customer profile fetch error:",a)}},u=async a=>{try{let{data:b,error:c}=await r.from("admin_users").select("user_id").eq("user_id",a).single();if(c&&"PGRST116"!==c.code){console.error("Admin check error:",c),p(!1);return}p(!!b)}catch(a){console.error("Admin status check error:",a),p(!1)}},v=async(a,b)=>{try{let c=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b})}),d=await c.json();if(!c.ok)return{error:d.error||"Login failed"};return await s(),{}}catch(a){return{error:"An unexpected error occurred"}}},w=async(a,b,c={})=>{try{let d=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a,password:b,confirmPassword:b,...c})}),e=await d.json();if(!d.ok)return{error:e.error||"Registration failed"};return await s(),{}}catch(a){return{error:"An unexpected error occurred"}}},x=async()=>{try{await r.auth.signOut(),c(null),j(null),l(null),q.refresh()}catch(a){console.error("Sign out error:",a)}},y=async a=>{try{let b=await fetch("/api/auth/forgot-password",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}),c=await b.json();if(!b.ok)return{error:c.error||"Password reset failed"};return{}}catch(a){return{error:"An unexpected error occurred"}}},z=async a=>{try{let{error:b}=await r.auth.updateUser({password:a});if(b)return{error:b.message};return{}}catch(a){return{error:"An unexpected error occurred"}}},A=async()=>{await s()};return(0,d.jsx)(h.Provider,{value:{user:b,customer:i,session:k,loading:m,isAdmin:o,signIn:v,signUp:w,signOut:x,resetPassword:y,updatePassword:z,refreshUser:A},children:a})}function j(){let a=(0,e.useContext)(h);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}},72570:(a,b,c)=>{"use strict";c.d(b,{F:()=>t,ResetPasswordPage:()=>u});var d=c(21124),e=c(38301),f=c(31980),g=c(50937),h=c(46078),i=c(3991),j=c.n(i),k=c(42378),l=c(89710),m=c(22842),n=c(48332),o=c(8301),p=c(45895),q=c(69773),r=c(13896),s=c(44943);function t({locale:a,token:b,className:c,onSuccess:i,showHeader:t=!0,onBackToLogin:u}){let v=(0,h.useTranslations)("Auth"),w=(0,k.useRouter)(),{updatePassword:x}=(0,q.A)(),[y,z]=(0,e.useState)(null),A=()=>z(null),[B,C]=(0,e.useState)(!1),[D,E]=(0,e.useState)(!1),[F,G]=(0,e.useState)(!1),{register:H,handleSubmit:I,formState:{errors:J,isSubmitting:K},clearErrors:L}=(0,f.mN)({resolver:(0,g.u)(r.oW),defaultValues:{token:b||"",password:"",confirmPassword:""}}),M=async b=>{try{A(),L();let c=await x(b.password);if(c.error)return void z(c.error);G(!0),setTimeout(()=>{i?i():w.push(`/${a}/login`)},2e3)}catch(a){console.error("Password reset error:",a)}},N=()=>{y&&A()};return F?(0,d.jsxs)("div",{className:(0,s.cn)("w-full max-w-md mx-auto text-center",c),children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(l.A,{className:"w-8 h-8 text-green-600"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:v("passwordResetSuccess")}),(0,d.jsx)("p",{className:"text-gray-600 mb-4",children:"Your password has been successfully reset. You can now sign in with your new password."}),(0,d.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]}):(0,d.jsxs)("div",{className:(0,s.cn)("w-full max-w-md mx-auto",c),children:[t&&(0,d.jsxs)("div",{className:"text-center mb-8",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-wine-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(m.A,{className:"w-8 h-8 text-wine-600"})}),(0,d.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:v("resetPasswordTitle")}),(0,d.jsx)("p",{className:"text-gray-600",children:v("resetPasswordSubtitle")})]}),(0,d.jsxs)("form",{onSubmit:I(M),className:"space-y-6",children:[y&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(n.A,{className:"h-5 w-5 text-red-400"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:y})})]})}),(0,d.jsx)("input",{type:"hidden",...H("token")}),(0,d.jsx)(o.FO,{...H("password"),id:"password",type:"password",label:v("newPassword"),placeholder:"••••••••",error:J.password?.message,required:!0,autoComplete:"new-password",autoFocus:!0,showPasswordToggle:!0,showPassword:B,onPasswordToggle:()=>C(!B),hint:v("passwordRequirements"),onChange:a=>{H("password").onChange(a),N()}}),(0,d.jsx)(o.FO,{...H("confirmPassword"),id:"confirmPassword",type:"password",label:v("confirmPassword"),placeholder:"••••••••",error:J.confirmPassword?.message,required:!0,autoComplete:"new-password",showPasswordToggle:!0,showPassword:D,onPasswordToggle:()=>E(!D),onChange:a=>{H("confirmPassword").onChange(a),N()}}),(0,d.jsxs)(p.$,{type:"submit",fullWidth:!0,loading:K,disabled:K,children:[(0,d.jsx)(m.A,{className:"w-4 h-4 mr-2"}),v("resetPassword")]}),(0,d.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:u?(0,d.jsx)("button",{type:"button",onClick:u,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:v("backToLogin")}):(0,d.jsx)(j(),{href:`/${a}/login`,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:v("backToLogin")})})]})]})}function u({params:{locale:a},searchParams:b}){let c=b.token;return c?(0,d.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,d.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,d.jsx)(t,{locale:a,token:c})})})}):(0,d.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,d.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,d.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 text-center",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(n.A,{className:"w-8 h-8 text-red-600"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invalid Reset Link"}),(0,d.jsx)("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),(0,d.jsx)(j(),{href:`/${a}/forgot-password`,className:"text-wine-600 hover:text-wine-500 font-medium",children:"Request a new reset link"})]})})})}},81616:()=>{},85993:(a,b,c)=>{Promise.resolve().then(c.bind(c,94398)),Promise.resolve().then(c.bind(c,35227)),Promise.resolve().then(c.bind(c,69773)),Promise.resolve().then(c.bind(c,43948)),Promise.resolve().then(c.bind(c,98074))},92649:(a,b,c)=>{"use strict";c.d(b,{D:()=>m});var d=c(21124),e=c(38301),f=c(46078),g=c(40344),h=c(12e3),i=c(72567),j=c(8301),k=c(45895),l=c(44943);function m({onVerified:a,onSkip:b,required:c=!0,className:m}){let n=(0,f.useTranslations)("AgeVerification"),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(!1);Array.from({length:31},(a,b)=>({value:String(b+1),label:String(b+1)}));let u=new Date().getFullYear();Array.from({length:85},(a,b)=>{let c=u-16-b;return{value:String(c),label:String(c)}});let v=async()=>{if(!o)return void r(n("birthDateRequired"));t(!0),r("");try{if(!(a=>{let b=new Date(a),c=new Date,d=c.getFullYear()-b.getFullYear(),e=c.getMonth()-b.getMonth();return e<0||0===e&&c.getDate()<b.getDate()?d-1>=18:d>=18})(o)){r(n("underAge")),t(!1);return}a({birthDate:o,isValid:!0})}catch(a){r("An error occurred during age verification")}finally{t(!1)}};return(0,d.jsxs)("div",{className:(0,l.cn)("bg-white rounded-lg shadow-lg border border-gray-200 p-6 max-w-md mx-auto",m),children:[(0,d.jsxs)("div",{className:"text-center mb-6",children:[(0,d.jsx)("div",{className:"w-16 h-16 bg-wine-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,d.jsx)(g.A,{className:"w-8 h-8 text-wine-600"})}),(0,d.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:n("title")}),(0,d.jsx)("p",{className:"text-sm text-gray-600",children:n("description")})]}),(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsx)(j.FO,{id:"birthDate",type:"date",label:n("birthDate"),value:o,onChange:a=>{p(a.target.value),r("")},error:q,required:c,max:new Date(u-16,11,31).toISOString().split("T")[0],min:new Date(u-100,0,1).toISOString().split("T")[0]}),q&&(0,d.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-3",children:(0,d.jsxs)("div",{className:"flex",children:[(0,d.jsx)(h.A,{className:"h-5 w-5 text-red-400"}),(0,d.jsx)("div",{className:"ml-3",children:(0,d.jsx)("p",{className:"text-sm text-red-800",children:q})})]})}),(0,d.jsxs)("div",{className:"flex flex-col space-y-3",children:[(0,d.jsxs)(k.$,{onClick:v,loading:s,fullWidth:!0,disabled:!o,children:[(0,d.jsx)(i.A,{className:"w-4 h-4 mr-2"}),n("verify")]}),!c&&b&&(0,d.jsx)(k.$,{onClick:b,variant:"ghost",fullWidth:!0,disabled:s,children:"Skip for now"})]})]}),(0,d.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:(0,d.jsx)("p",{className:"text-xs text-gray-500 text-center",children:"Your information is processed according to our privacy policy. Age verification is required by law for alcohol purchases."})})]})}},95721:(a,b,c)=>{Promise.resolve().then(c.bind(c,49357)),Promise.resolve().then(c.bind(c,31565)),Promise.resolve().then(c.bind(c,43747)),Promise.resolve().then(c.bind(c,17908)),Promise.resolve().then(c.bind(c,54540))},98074:(a,b,c)=>{"use strict";c.d(b,{default:()=>e});var d=c(21124);function e({data:a}){let b=Array.isArray(a)?a:[a];return(0,d.jsx)(d.Fragment,{children:b.map((a,b)=>(0,d.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a,null,2)}},b))})}}};