(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6437],{2342:(e,s,r)=>{"use strict";r.d(s,{F:()=>j,ResetPasswordPage:()=>b});var t=r(5155),a=r(2115),l=r(2544),o=r(6942),n=r(5604),d=r(2619),i=r.n(d),c=r(63),m=r(7816),x=r(9708),w=r(1078),h=r(9919),u=r(6503),p=r(3691),g=r(2808),f=r(4269);function j(e){var s,r;let{locale:d,token:j,className:b,onSuccess:N,showHeader:y=!0,onBackToLogin:v}=e,P=(0,n.useTranslations)("Auth"),k=(0,c.useRouter)(),{updatePassword:T}=(0,p.A)(),[A,C]=(0,a.useState)(null),S=()=>C(null),[R,_]=(0,a.useState)(!1),[q,F]=(0,a.useState)(!1),[L,O]=(0,a.useState)(!1),{register:E,handleSubmit:V,formState:{errors:W,isSubmitting:Y},clearErrors:z}=(0,l.mN)({resolver:(0,o.u)(g.oW),defaultValues:{token:j||"",password:"",confirmPassword:""}}),I=async e=>{try{S(),z();let s=await T(e.password);if(s.error)return void C(s.error);O(!0),setTimeout(()=>{N?N():k.push("/".concat(d,"/login"))},2e3)}catch(e){console.error("Password reset error:",e)}},M=()=>{A&&S()};return L?(0,t.jsxs)("div",{className:(0,f.cn)("w-full max-w-md mx-auto text-center",b),children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(m.A,{className:"w-8 h-8 text-green-600"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:P("passwordResetSuccess")}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"Your password has been successfully reset. You can now sign in with your new password."}),(0,t.jsx)("p",{className:"text-sm text-gray-500",children:"Redirecting to login..."})]}):(0,t.jsxs)("div",{className:(0,f.cn)("w-full max-w-md mx-auto",b),children:[y&&(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-wine-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(x.A,{className:"w-8 h-8 text-wine-600"})}),(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:P("resetPasswordTitle")}),(0,t.jsx)("p",{className:"text-gray-600",children:P("resetPasswordSubtitle")})]}),(0,t.jsxs)("form",{onSubmit:V(I),className:"space-y-6",children:[A&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(w.A,{className:"h-5 w-5 text-red-400"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:A})})]})}),(0,t.jsx)("input",{type:"hidden",...E("token")}),(0,t.jsx)(h.FO,{...E("password"),id:"password",type:"password",label:P("newPassword"),placeholder:"••••••••",error:null==(s=W.password)?void 0:s.message,required:!0,autoComplete:"new-password",autoFocus:!0,showPasswordToggle:!0,showPassword:R,onPasswordToggle:()=>_(!R),hint:P("passwordRequirements"),onChange:e=>{E("password").onChange(e),M()}}),(0,t.jsx)(h.FO,{...E("confirmPassword"),id:"confirmPassword",type:"password",label:P("confirmPassword"),placeholder:"••••••••",error:null==(r=W.confirmPassword)?void 0:r.message,required:!0,autoComplete:"new-password",showPasswordToggle:!0,showPassword:q,onPasswordToggle:()=>F(!q),onChange:e=>{E("confirmPassword").onChange(e),M()}}),(0,t.jsxs)(u.$,{type:"submit",fullWidth:!0,loading:Y,disabled:Y,children:[(0,t.jsx)(x.A,{className:"w-4 h-4 mr-2"}),P("resetPassword")]}),(0,t.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:v?(0,t.jsx)("button",{type:"button",onClick:v,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:P("backToLogin")}):(0,t.jsx)(i(),{href:"/".concat(d,"/login"),className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:P("backToLogin")})})]})]})}function b(e){let{params:{locale:s},searchParams:r}=e,a=r.token;return a?(0,t.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,t.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,t.jsx)(j,{locale:s,token:a})})})}):(0,t.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,t.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsxs)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10 text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(w.A,{className:"w-8 h-8 text-red-600"})}),(0,t.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Invalid Reset Link"}),(0,t.jsx)("p",{className:"text-gray-600 mb-6",children:"This password reset link is invalid or has expired."}),(0,t.jsx)(i(),{href:"/".concat(s,"/forgot-password"),className:"text-wine-600 hover:text-wine-500 font-medium",children:"Request a new reset link"})]})})})}},3951:(e,s,r)=>{Promise.resolve().then(r.bind(r,2342))},9708:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])}},e=>{e.O(0,[2619,8760,760,2626,7692,5666,8441,1255,7358],()=>e(e.s=3951)),_N_E=e.O()}]);