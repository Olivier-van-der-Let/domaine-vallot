(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5495],{3319:(e,s,r)=>{"use strict";r.d(s,{LoginPage:()=>f,Q:()=>b});var t=r(5155),a=r(2115),l=r(2544),n=r(6942),o=r(5604),i=r(2619),d=r.n(i),c=r(63),m=r(7816),x=r(1078),u=r(9865),h=r(9919),g=r(6503),p=r(3691),w=r(2808),j=r(4269);function b(e){var s,r;let{locale:i,className:b,redirectTo:f,onSuccess:N,showHeader:y=!0,onSwitchToRegister:v,onSwitchToForgotPassword:C}=e,k=(0,o.useTranslations)("Auth"),A=(0,c.useRouter)(),P=(0,c.useSearchParams)(),{signIn:S,loading:_}=(0,p.A)(),[M,T]=(0,a.useState)(null),[O,E]=(0,a.useState)(!1),[I,L]=(0,a.useState)(!1),R=f||P.get("redirect")||"/".concat(i),{register:U,handleSubmit:q,formState:{errors:F,isSubmitting:Q},setError:V,clearErrors:W}=(0,l.mN)({resolver:(0,n.u)(w.X5),defaultValues:{email:"",password:"",rememberMe:!1}}),X=async e=>{try{T(null),W();let s=await S(e.email,e.password);if(s.error)return void T(s.error);L(!0),setTimeout(()=>{N?N():A.push(R)},1e3)}catch(e){T("An unexpected error occurred"),console.error("Login error:",e)}},Y=()=>{M&&T(null)};return I?(0,t.jsxs)("div",{className:"text-center py-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)(m.A,{className:"w-8 h-8 text-green-600"})}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:k("loginSuccess")}),(0,t.jsx)("p",{className:"text-gray-600",children:"Redirecting you now..."})]}):(0,t.jsxs)("div",{className:(0,j.cn)("w-full max-w-md mx-auto",b),children:[y&&(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:k("loginTitle")}),(0,t.jsx)("p",{className:"text-gray-600",children:k("loginSubtitle")})]}),(0,t.jsxs)("form",{onSubmit:q(X),className:"space-y-6",children:[M&&(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)(x.A,{className:"h-5 w-5 text-red-400"}),(0,t.jsx)("div",{className:"ml-3",children:(0,t.jsx)("p",{className:"text-sm text-red-800",children:M})})]})}),(0,t.jsx)(h.FO,{...U("email"),id:"email",type:"email",label:k("email"),placeholder:"your@email.com",error:null==(s=F.email)?void 0:s.message,required:!0,autoComplete:"email",onChange:e=>{U("email").onChange(e),Y()}}),(0,t.jsx)(h.FO,{...U("password"),id:"password",type:"password",label:k("password"),placeholder:"••••••••",error:null==(r=F.password)?void 0:r.message,required:!0,autoComplete:"current-password",showPasswordToggle:!0,showPassword:O,onPasswordToggle:()=>E(!O),onChange:e=>{U("password").onChange(e),Y()}}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(h.Yh,{...U("rememberMe"),id:"rememberMe",children:k("rememberMe")}),C?(0,t.jsx)("button",{type:"button",onClick:C,className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:k("forgotPassword")}):(0,t.jsx)(d(),{href:"/".concat(i,"/forgot-password"),className:"text-sm text-wine-600 hover:text-wine-500 font-medium",children:k("forgotPassword")})]}),(0,t.jsxs)(g.$,{type:"submit",fullWidth:!0,loading:Q,disabled:Q,children:[(0,t.jsx)(u.A,{className:"w-4 h-4 mr-2"}),k("signIn")]}),(0,t.jsx)("div",{className:"text-center pt-4 border-t border-gray-200",children:(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:[k("noAccount")," ",v?(0,t.jsx)("button",{type:"button",onClick:v,className:"font-medium text-wine-600 hover:text-wine-500",children:k("signUp")}):(0,t.jsx)(d(),{href:"/".concat(i,"/register").concat(P.get("redirect")?"?redirect=".concat(encodeURIComponent(P.get("redirect"))):""),className:"font-medium text-wine-600 hover:text-wine-500",children:k("signUp")})]})})]})]})}function f(e){let{params:{locale:s}}=e;return(0,t.jsx)("div",{className:"min-h-screen flex flex-col justify-center py-12 sm:px-6 lg:px-8 bg-gray-50",children:(0,t.jsx)("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:(0,t.jsx)("div",{className:"bg-white py-8 px-4 shadow-lg sm:rounded-lg sm:px-10",children:(0,t.jsx)(b,{locale:s})})})})}},4341:(e,s,r)=>{Promise.resolve().then(r.bind(r,3319))},9865:(e,s,r)=>{"use strict";r.d(s,{A:()=>t});let t=(0,r(5105).A)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]])}},e=>{e.O(0,[2619,8760,760,2626,7692,5666,8441,1255,7358],()=>e(e.s=4341)),_N_E=e.O()}]);